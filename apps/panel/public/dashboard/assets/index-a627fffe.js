var rN=Object.defineProperty;var oN=(e,t,n)=>t in e?rN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var un=(e,t,n)=>(oN(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function l_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function iN(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var o=[null];o.push.apply(o,arguments);var i=Function.bind.apply(t,o);return new i}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Ta={},sN={get exports(){return Ta},set exports(e){Ta=e}},Af={},_={},lN={get exports(){return _},set exports(e){_=e}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su=Symbol.for("react.element"),aN=Symbol.for("react.portal"),uN=Symbol.for("react.fragment"),cN=Symbol.for("react.strict_mode"),dN=Symbol.for("react.profiler"),fN=Symbol.for("react.provider"),pN=Symbol.for("react.context"),hN=Symbol.for("react.forward_ref"),mN=Symbol.for("react.suspense"),gN=Symbol.for("react.memo"),yN=Symbol.for("react.lazy"),Kv=Symbol.iterator;function vN(e){return e===null||typeof e!="object"?null:(e=Kv&&e[Kv]||e["@@iterator"],typeof e=="function"?e:null)}var a_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u_=Object.assign,c_={};function cl(e,t,n){this.props=e,this.context=t,this.refs=c_,this.updater=n||a_}cl.prototype.isReactComponent={};cl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function d_(){}d_.prototype=cl.prototype;function m0(e,t,n){this.props=e,this.context=t,this.refs=c_,this.updater=n||a_}var g0=m0.prototype=new d_;g0.constructor=m0;u_(g0,cl.prototype);g0.isPureReactComponent=!0;var Gv=Array.isArray,f_=Object.prototype.hasOwnProperty,y0={current:null},p_={key:!0,ref:!0,__self:!0,__source:!0};function h_(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)f_.call(t,r)&&!p_.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:Su,type:e,key:i,ref:s,props:o,_owner:y0.current}}function xN(e,t){return{$$typeof:Su,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function v0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Su}function wN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zv=/\/+/g;function Bp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wN(""+e.key):t.toString(36)}function Bc(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Su:case aN:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Bp(s,0):r,Gv(o)?(n="",e!=null&&(n=e.replace(Zv,"$&/")+"/"),Bc(o,t,n,"",function(u){return u})):o!=null&&(v0(o)&&(o=xN(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Zv,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Gv(e))for(var l=0;l<e.length;l++){i=e[l];var a=r+Bp(i,l);s+=Bc(i,t,n,a,o)}else if(a=vN(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=r+Bp(i,l++),s+=Bc(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ic(e,t,n){if(e==null)return e;var r=[],o=0;return Bc(e,r,"","",function(i){return t.call(n,i,o++)}),r}function _N(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Vt={current:null},Wc={transition:null},SN={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:Wc,ReactCurrentOwner:y0};ge.Children={map:ic,forEach:function(e,t,n){ic(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ic(e,function(){t++}),t},toArray:function(e){return ic(e,function(t){return t})||[]},only:function(e){if(!v0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=cl;ge.Fragment=uN;ge.Profiler=dN;ge.PureComponent=m0;ge.StrictMode=cN;ge.Suspense=mN;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SN;ge.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=u_({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=y0.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)f_.call(t,a)&&!p_.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Su,type:e.type,key:o,ref:i,props:r,_owner:s}};ge.createContext=function(e){return e={$$typeof:pN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fN,_context:e},e.Consumer=e};ge.createElement=h_;ge.createFactory=function(e){var t=h_.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:hN,render:e}};ge.isValidElement=v0;ge.lazy=function(e){return{$$typeof:yN,_payload:{_status:-1,_result:e},_init:_N}};ge.memo=function(e,t){return{$$typeof:gN,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=Wc.transition;Wc.transition={};try{e()}finally{Wc.transition=t}};ge.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ge.useCallback=function(e,t){return Vt.current.useCallback(e,t)};ge.useContext=function(e){return Vt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return Vt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return Vt.current.useEffect(e,t)};ge.useId=function(){return Vt.current.useId()};ge.useImperativeHandle=function(e,t,n){return Vt.current.useImperativeHandle(e,t,n)};ge.useInsertionEffect=function(e,t){return Vt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return Vt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return Vt.current.useMemo(e,t)};ge.useReducer=function(e,t,n){return Vt.current.useReducer(e,t,n)};ge.useRef=function(e){return Vt.current.useRef(e)};ge.useState=function(e){return Vt.current.useState(e)};ge.useSyncExternalStore=function(e,t,n){return Vt.current.useSyncExternalStore(e,t,n)};ge.useTransition=function(){return Vt.current.useTransition()};ge.version="18.2.0";(function(e){e.exports=ge})(lN);const w=l_(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EN=_,kN=Symbol.for("react.element"),CN=Symbol.for("react.fragment"),bN=Object.prototype.hasOwnProperty,NN=EN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TN={key:!0,ref:!0,__self:!0,__source:!0};function m_(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)bN.call(t,r)&&!TN.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:kN,type:e,key:i,ref:s,props:o,_owner:NN.current}}Af.Fragment=CN;Af.jsx=m_;Af.jsxs=m_;(function(e){e.exports=Af})(sN);const re=Ta.Fragment,m=Ta.jsx,N=Ta.jsxs;var um={},zi={},$N={get exports(){return zi},set exports(e){zi=e}},xn={},cm={},ON={get exports(){return cm},set exports(e){cm=e}},g_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,M){var U=I.length;I.push(M);e:for(;0<U;){var se=U-1>>>1,V=I[se];if(0<o(V,M))I[se]=M,I[U]=V,U=se;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var M=I[0],U=I.pop();if(U!==M){I[0]=U;e:for(var se=0,V=I.length,ue=V>>>1;se<ue;){var Se=2*(se+1)-1,it=I[Se],Le=Se+1,Cn=I[Le];if(0>o(it,U))Le<V&&0>o(Cn,it)?(I[se]=Cn,I[Le]=U,se=Le):(I[se]=it,I[Se]=U,se=Se);else if(Le<V&&0>o(Cn,U))I[se]=Cn,I[Le]=U,se=Le;else break e}}return M}function o(I,M){var U=I.sortIndex-M.sortIndex;return U!==0?U:I.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,d=null,f=3,p=!1,h=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=I)r(u),M.sortIndex=M.expirationTime,t(a,M);else break;M=n(u)}}function E(I){if(y=!1,S(I),!h)if(n(a)!==null)h=!0,A(b);else{var M=n(u);M!==null&&z(E,M.startTime-I)}}function b(I,M){h=!1,y&&(y=!1,g($),$=-1),p=!0;var U=f;try{for(S(M),d=n(a);d!==null&&(!(d.expirationTime>M)||I&&!D());){var se=d.callback;if(typeof se=="function"){d.callback=null,f=d.priorityLevel;var V=se(d.expirationTime<=M);M=e.unstable_now(),typeof V=="function"?d.callback=V:d===n(a)&&r(a),S(M)}else r(a);d=n(a)}if(d!==null)var ue=!0;else{var Se=n(u);Se!==null&&z(E,Se.startTime-M),ue=!1}return ue}finally{d=null,f=U,p=!1}}var k=!1,O=null,$=-1,R=5,T=-1;function D(){return!(e.unstable_now()-T<R)}function F(){if(O!==null){var I=e.unstable_now();T=I;var M=!0;try{M=O(!0,I)}finally{M?H():(k=!1,O=null)}}else k=!1}var H;if(typeof v=="function")H=function(){v(F)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,K=ee.port2;ee.port1.onmessage=F,H=function(){K.postMessage(null)}}else H=function(){x(F,0)};function A(I){O=I,k||(k=!0,H())}function z(I,M){$=x(function(){I(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){h||p||(h=!0,A(b))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(I){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var U=f;f=M;try{return I()}finally{f=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,M){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var U=f;f=I;try{return M()}finally{f=U}},e.unstable_scheduleCallback=function(I,M,U){var se=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?se+U:se):U=se,I){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=U+V,I={id:c++,callback:M,priorityLevel:I,startTime:U,expirationTime:V,sortIndex:-1},U>se?(I.sortIndex=U,t(u,I),n(a)===null&&I===n(u)&&(y?(g($),$=-1):y=!0,z(E,U-se))):(I.sortIndex=V,t(a,I),h||p||(h=!0,A(b))),I},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(I){var M=f;return function(){var U=f;f=M;try{return I.apply(this,arguments)}finally{f=U}}}})(g_);(function(e){e.exports=g_})(ON);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_=_,gn=cm;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v_=new Set,$a={};function es(e,t){Zs(e,t),Zs(e+"Capture",t)}function Zs(e,t){for($a[e]=t,e=0;e<t.length;e++)v_.add(t[e])}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dm=Object.prototype.hasOwnProperty,IN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yv={},Qv={};function RN(e){return dm.call(Qv,e)?!0:dm.call(Yv,e)?!1:IN.test(e)?Qv[e]=!0:(Yv[e]=!0,!1)}function PN(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function DN(e,t,n,r){if(t===null||typeof t>"u"||PN(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Kt(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tt[e]=new Kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Tt[t]=new Kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tt[e]=new Kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tt[e]=new Kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tt[e]=new Kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tt[e]=new Kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tt[e]=new Kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tt[e]=new Kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tt[e]=new Kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var x0=/[\-:]([a-z])/g;function w0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x0,w0);Tt[t]=new Kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x0,w0);Tt[t]=new Kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x0,w0);Tt[t]=new Kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tt[e]=new Kt(e,1,!1,e.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tt[e]=new Kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function _0(e,t,n,r){var o=Tt.hasOwnProperty(t)?Tt[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(DN(t,n,o,r)&&(n=null),r||o===null?RN(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var so=y_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sc=Symbol.for("react.element"),ws=Symbol.for("react.portal"),_s=Symbol.for("react.fragment"),S0=Symbol.for("react.strict_mode"),fm=Symbol.for("react.profiler"),x_=Symbol.for("react.provider"),w_=Symbol.for("react.context"),E0=Symbol.for("react.forward_ref"),pm=Symbol.for("react.suspense"),hm=Symbol.for("react.suspense_list"),k0=Symbol.for("react.memo"),wo=Symbol.for("react.lazy"),__=Symbol.for("react.offscreen"),Jv=Symbol.iterator;function Ll(e){return e===null||typeof e!="object"?null:(e=Jv&&e[Jv]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Object.assign,Wp;function Yl(e){if(Wp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wp=t&&t[1]||""}return`
`+Wp+e}var Up=!1;function Hp(e,t){if(!e||Up)return"";Up=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var a=`
`+o[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{Up=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yl(e):""}function MN(e){switch(e.tag){case 5:return Yl(e.type);case 16:return Yl("Lazy");case 13:return Yl("Suspense");case 19:return Yl("SuspenseList");case 0:case 2:case 15:return e=Hp(e.type,!1),e;case 11:return e=Hp(e.type.render,!1),e;case 1:return e=Hp(e.type,!0),e;default:return""}}function mm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _s:return"Fragment";case ws:return"Portal";case fm:return"Profiler";case S0:return"StrictMode";case pm:return"Suspense";case hm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case w_:return(e.displayName||"Context")+".Consumer";case x_:return(e._context.displayName||"Context")+".Provider";case E0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k0:return t=e.displayName||null,t!==null?t:mm(e.type)||"Memo";case wo:t=e._payload,e=e._init;try{return mm(e(t))}catch{}}return null}function LN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mm(t);case 8:return t===S0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function S_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function AN(e){var t=S_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lc(e){e._valueTracker||(e._valueTracker=AN(e))}function E_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=S_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function dd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gm(e,t){var n=t.checked;return Ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function qv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Wo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function k_(e,t){t=t.checked,t!=null&&_0(e,"checked",t,!1)}function ym(e,t){k_(e,t);var n=Wo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vm(e,t.type,n):t.hasOwnProperty("defaultValue")&&vm(e,t.type,Wo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function vm(e,t,n){(t!=="number"||dd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ql=Array.isArray;function Ds(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Wo(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function xm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function e1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(Ql(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Wo(n)}}function C_(e,t){var n=Wo(t.value),r=Wo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function t1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function b_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?b_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ac,N_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ac=ac||document.createElement("div"),ac.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ac.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var la={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FN=["Webkit","ms","Moz","O"];Object.keys(la).forEach(function(e){FN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),la[t]=la[e]})});function T_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||la.hasOwnProperty(e)&&la[e]?(""+t).trim():t+"px"}function $_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=T_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var zN=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _m(e,t){if(t){if(zN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Sm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Em=null;function C0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var km=null,Ms=null,Ls=null;function n1(e){if(e=Cu(e)){if(typeof km!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Wf(t),km(e.stateNode,e.type,t))}}function O_(e){Ms?Ls?Ls.push(e):Ls=[e]:Ms=e}function I_(){if(Ms){var e=Ms,t=Ls;if(Ls=Ms=null,n1(e),t)for(e=0;e<t.length;e++)n1(t[e])}}function R_(e,t){return e(t)}function P_(){}var Vp=!1;function D_(e,t,n){if(Vp)return e(t,n);Vp=!0;try{return R_(e,t,n)}finally{Vp=!1,(Ms!==null||Ls!==null)&&(P_(),I_())}}function Ia(e,t){var n=e.stateNode;if(n===null)return null;var r=Wf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Cm=!1;if(qr)try{var Al={};Object.defineProperty(Al,"passive",{get:function(){Cm=!0}}),window.addEventListener("test",Al,Al),window.removeEventListener("test",Al,Al)}catch{Cm=!1}function jN(e,t,n,r,o,i,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var aa=!1,fd=null,pd=!1,bm=null,BN={onError:function(e){aa=!0,fd=e}};function WN(e,t,n,r,o,i,s,l,a){aa=!1,fd=null,jN.apply(BN,arguments)}function UN(e,t,n,r,o,i,s,l,a){if(WN.apply(this,arguments),aa){if(aa){var u=fd;aa=!1,fd=null}else throw Error(B(198));pd||(pd=!0,bm=u)}}function ts(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function M_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function r1(e){if(ts(e)!==e)throw Error(B(188))}function HN(e){var t=e.alternate;if(!t){if(t=ts(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return r1(o),e;if(i===r)return r1(o),t;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function L_(e){return e=HN(e),e!==null?A_(e):null}function A_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=A_(e);if(t!==null)return t;e=e.sibling}return null}var F_=gn.unstable_scheduleCallback,o1=gn.unstable_cancelCallback,VN=gn.unstable_shouldYield,KN=gn.unstable_requestPaint,Xe=gn.unstable_now,GN=gn.unstable_getCurrentPriorityLevel,b0=gn.unstable_ImmediatePriority,z_=gn.unstable_UserBlockingPriority,hd=gn.unstable_NormalPriority,ZN=gn.unstable_LowPriority,j_=gn.unstable_IdlePriority,Ff=null,wr=null;function YN(e){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(Ff,e,void 0,(e.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:qN,QN=Math.log,JN=Math.LN2;function qN(e){return e>>>=0,e===0?32:31-(QN(e)/JN|0)|0}var uc=64,cc=4194304;function Jl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function md(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=Jl(l):(i&=s,i!==0&&(r=Jl(i)))}else s=n&~o,s!==0?r=Jl(s):i!==0&&(r=Jl(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Zn(t),o=1<<n,r|=e[n],t&=~o;return r}function XN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e5(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Zn(i),l=1<<s,a=o[s];a===-1?(!(l&n)||l&r)&&(o[s]=XN(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Nm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function B_(){var e=uc;return uc<<=1,!(uc&4194240)&&(uc=64),e}function Kp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Eu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zn(t),e[t]=n}function t5(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Zn(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function N0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Zn(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Ce=0;function W_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var U_,T0,H_,V_,K_,Tm=!1,dc=[],Po=null,Do=null,Mo=null,Ra=new Map,Pa=new Map,ko=[],n5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function i1(e,t){switch(e){case"focusin":case"focusout":Po=null;break;case"dragenter":case"dragleave":Do=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":Ra.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pa.delete(t.pointerId)}}function Fl(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Cu(t),t!==null&&T0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function r5(e,t,n,r,o){switch(t){case"focusin":return Po=Fl(Po,e,t,n,r,o),!0;case"dragenter":return Do=Fl(Do,e,t,n,r,o),!0;case"mouseover":return Mo=Fl(Mo,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ra.set(i,Fl(Ra.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Pa.set(i,Fl(Pa.get(i)||null,e,t,n,r,o)),!0}return!1}function G_(e){var t=Si(e.target);if(t!==null){var n=ts(t);if(n!==null){if(t=n.tag,t===13){if(t=M_(n),t!==null){e.blockedOn=t,K_(e.priority,function(){H_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$m(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Em=r,n.target.dispatchEvent(r),Em=null}else return t=Cu(n),t!==null&&T0(t),e.blockedOn=n,!1;t.shift()}return!0}function s1(e,t,n){Uc(e)&&n.delete(t)}function o5(){Tm=!1,Po!==null&&Uc(Po)&&(Po=null),Do!==null&&Uc(Do)&&(Do=null),Mo!==null&&Uc(Mo)&&(Mo=null),Ra.forEach(s1),Pa.forEach(s1)}function zl(e,t){e.blockedOn===t&&(e.blockedOn=null,Tm||(Tm=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,o5)))}function Da(e){function t(o){return zl(o,e)}if(0<dc.length){zl(dc[0],e);for(var n=1;n<dc.length;n++){var r=dc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Po!==null&&zl(Po,e),Do!==null&&zl(Do,e),Mo!==null&&zl(Mo,e),Ra.forEach(t),Pa.forEach(t),n=0;n<ko.length;n++)r=ko[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ko.length&&(n=ko[0],n.blockedOn===null);)G_(n),n.blockedOn===null&&ko.shift()}var As=so.ReactCurrentBatchConfig,gd=!0;function i5(e,t,n,r){var o=Ce,i=As.transition;As.transition=null;try{Ce=1,$0(e,t,n,r)}finally{Ce=o,As.transition=i}}function s5(e,t,n,r){var o=Ce,i=As.transition;As.transition=null;try{Ce=4,$0(e,t,n,r)}finally{Ce=o,As.transition=i}}function $0(e,t,n,r){if(gd){var o=$m(e,t,n,r);if(o===null)nh(e,t,r,yd,n),i1(e,r);else if(r5(o,e,t,n,r))r.stopPropagation();else if(i1(e,r),t&4&&-1<n5.indexOf(e)){for(;o!==null;){var i=Cu(o);if(i!==null&&U_(i),i=$m(e,t,n,r),i===null&&nh(e,t,r,yd,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else nh(e,t,r,null,n)}}var yd=null;function $m(e,t,n,r){if(yd=null,e=C0(r),e=Si(e),e!==null)if(t=ts(e),t===null)e=null;else if(n=t.tag,n===13){if(e=M_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yd=e,null}function Z_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GN()){case b0:return 1;case z_:return 4;case hd:case ZN:return 16;case j_:return 536870912;default:return 16}default:return 16}}var No=null,O0=null,Hc=null;function Y_(){if(Hc)return Hc;var e,t=O0,n=t.length,r,o="value"in No?No.value:No.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Hc=o.slice(e,1<r?1-r:void 0)}function Vc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fc(){return!0}function l1(){return!1}function wn(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?fc:l1,this.isPropagationStopped=l1,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fc)},persist:function(){},isPersistent:fc}),t}var dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},I0=wn(dl),ku=Ve({},dl,{view:0,detail:0}),l5=wn(ku),Gp,Zp,jl,zf=Ve({},ku,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:R0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jl&&(jl&&e.type==="mousemove"?(Gp=e.screenX-jl.screenX,Zp=e.screenY-jl.screenY):Zp=Gp=0,jl=e),Gp)},movementY:function(e){return"movementY"in e?e.movementY:Zp}}),a1=wn(zf),a5=Ve({},zf,{dataTransfer:0}),u5=wn(a5),c5=Ve({},ku,{relatedTarget:0}),Yp=wn(c5),d5=Ve({},dl,{animationName:0,elapsedTime:0,pseudoElement:0}),f5=wn(d5),p5=Ve({},dl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),h5=wn(p5),m5=Ve({},dl,{data:0}),u1=wn(m5),g5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=v5[e])?!!t[e]:!1}function R0(){return x5}var w5=Ve({},ku,{key:function(e){if(e.key){var t=g5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?y5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:R0,charCode:function(e){return e.type==="keypress"?Vc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_5=wn(w5),S5=Ve({},zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),c1=wn(S5),E5=Ve({},ku,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:R0}),k5=wn(E5),C5=Ve({},dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),b5=wn(C5),N5=Ve({},zf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),T5=wn(N5),$5=[9,13,27,32],P0=qr&&"CompositionEvent"in window,ua=null;qr&&"documentMode"in document&&(ua=document.documentMode);var O5=qr&&"TextEvent"in window&&!ua,Q_=qr&&(!P0||ua&&8<ua&&11>=ua),d1=String.fromCharCode(32),f1=!1;function J_(e,t){switch(e){case"keyup":return $5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ss=!1;function I5(e,t){switch(e){case"compositionend":return q_(t);case"keypress":return t.which!==32?null:(f1=!0,d1);case"textInput":return e=t.data,e===d1&&f1?null:e;default:return null}}function R5(e,t){if(Ss)return e==="compositionend"||!P0&&J_(e,t)?(e=Y_(),Hc=O0=No=null,Ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Q_&&t.locale!=="ko"?null:t.data;default:return null}}var P5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!P5[e.type]:t==="textarea"}function X_(e,t,n,r){O_(r),t=vd(t,"onChange"),0<t.length&&(n=new I0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ca=null,Ma=null;function D5(e){c2(e,0)}function jf(e){var t=Cs(e);if(E_(t))return e}function M5(e,t){if(e==="change")return t}var e2=!1;if(qr){var Qp;if(qr){var Jp="oninput"in document;if(!Jp){var h1=document.createElement("div");h1.setAttribute("oninput","return;"),Jp=typeof h1.oninput=="function"}Qp=Jp}else Qp=!1;e2=Qp&&(!document.documentMode||9<document.documentMode)}function m1(){ca&&(ca.detachEvent("onpropertychange",t2),Ma=ca=null)}function t2(e){if(e.propertyName==="value"&&jf(Ma)){var t=[];X_(t,Ma,e,C0(e)),D_(D5,t)}}function L5(e,t,n){e==="focusin"?(m1(),ca=t,Ma=n,ca.attachEvent("onpropertychange",t2)):e==="focusout"&&m1()}function A5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jf(Ma)}function F5(e,t){if(e==="click")return jf(t)}function z5(e,t){if(e==="input"||e==="change")return jf(t)}function j5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var er=typeof Object.is=="function"?Object.is:j5;function La(e,t){if(er(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!dm.call(t,o)||!er(e[o],t[o]))return!1}return!0}function g1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function y1(e,t){var n=g1(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=g1(n)}}function n2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?n2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function r2(){for(var e=window,t=dd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dd(e.document)}return t}function D0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function B5(e){var t=r2(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&n2(n.ownerDocument.documentElement,n)){if(r!==null&&D0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=y1(n,i);var s=y1(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var W5=qr&&"documentMode"in document&&11>=document.documentMode,Es=null,Om=null,da=null,Im=!1;function v1(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Im||Es==null||Es!==dd(r)||(r=Es,"selectionStart"in r&&D0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),da&&La(da,r)||(da=r,r=vd(Om,"onSelect"),0<r.length&&(t=new I0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Es)))}function pc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ks={animationend:pc("Animation","AnimationEnd"),animationiteration:pc("Animation","AnimationIteration"),animationstart:pc("Animation","AnimationStart"),transitionend:pc("Transition","TransitionEnd")},qp={},o2={};qr&&(o2=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function Bf(e){if(qp[e])return qp[e];if(!ks[e])return e;var t=ks[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in o2)return qp[e]=t[n];return e}var i2=Bf("animationend"),s2=Bf("animationiteration"),l2=Bf("animationstart"),a2=Bf("transitionend"),u2=new Map,x1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(e,t){u2.set(e,t),es(t,[e])}for(var Xp=0;Xp<x1.length;Xp++){var eh=x1[Xp],U5=eh.toLowerCase(),H5=eh[0].toUpperCase()+eh.slice(1);oi(U5,"on"+H5)}oi(i2,"onAnimationEnd");oi(s2,"onAnimationIteration");oi(l2,"onAnimationStart");oi("dblclick","onDoubleClick");oi("focusin","onFocus");oi("focusout","onBlur");oi(a2,"onTransitionEnd");Zs("onMouseEnter",["mouseout","mouseover"]);Zs("onMouseLeave",["mouseout","mouseover"]);Zs("onPointerEnter",["pointerout","pointerover"]);Zs("onPointerLeave",["pointerout","pointerover"]);es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));es("onBeforeInput",["compositionend","keypress","textInput","paste"]);es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V5=new Set("cancel close invalid load scroll toggle".split(" ").concat(ql));function w1(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,UN(r,t,void 0,e),e.currentTarget=null}function c2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&o.isPropagationStopped())break e;w1(o,l,u),i=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&o.isPropagationStopped())break e;w1(o,l,u),i=a}}}if(pd)throw e=bm,pd=!1,bm=null,e}function Ie(e,t){var n=t[Lm];n===void 0&&(n=t[Lm]=new Set);var r=e+"__bubble";n.has(r)||(d2(t,e,2,!1),n.add(r))}function th(e,t,n){var r=0;t&&(r|=4),d2(n,e,r,t)}var hc="_reactListening"+Math.random().toString(36).slice(2);function Aa(e){if(!e[hc]){e[hc]=!0,v_.forEach(function(n){n!=="selectionchange"&&(V5.has(n)||th(n,!1,e),th(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hc]||(t[hc]=!0,th("selectionchange",!1,t))}}function d2(e,t,n,r){switch(Z_(t)){case 1:var o=i5;break;case 4:o=s5;break;default:o=$0}n=o.bind(null,t,n,e),o=void 0,!Cm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function nh(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;s=s.return}for(;l!==null;){if(s=Si(l),s===null)return;if(a=s.tag,a===5||a===6){r=i=s;continue e}l=l.parentNode}}r=r.return}D_(function(){var u=i,c=C0(n),d=[];e:{var f=u2.get(e);if(f!==void 0){var p=I0,h=e;switch(e){case"keypress":if(Vc(n)===0)break e;case"keydown":case"keyup":p=_5;break;case"focusin":h="focus",p=Yp;break;case"focusout":h="blur",p=Yp;break;case"beforeblur":case"afterblur":p=Yp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=a1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=u5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=k5;break;case i2:case s2:case l2:p=f5;break;case a2:p=b5;break;case"scroll":p=l5;break;case"wheel":p=T5;break;case"copy":case"cut":case"paste":p=h5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=c1}var y=(t&4)!==0,x=!y&&e==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=u,S;v!==null;){S=v;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,g!==null&&(E=Ia(v,g),E!=null&&y.push(Fa(v,E,S)))),x)break;v=v.return}0<y.length&&(f=new p(f,h,null,n,c),d.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==Em&&(h=n.relatedTarget||n.fromElement)&&(Si(h)||h[Xr]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(h=n.relatedTarget||n.toElement,p=u,h=h?Si(h):null,h!==null&&(x=ts(h),h!==x||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=u),p!==h)){if(y=a1,E="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=c1,E="onPointerLeave",g="onPointerEnter",v="pointer"),x=p==null?f:Cs(p),S=h==null?f:Cs(h),f=new y(E,v+"leave",p,n,c),f.target=x,f.relatedTarget=S,E=null,Si(c)===u&&(y=new y(g,v+"enter",h,n,c),y.target=S,y.relatedTarget=x,E=y),x=E,p&&h)t:{for(y=p,g=h,v=0,S=y;S;S=us(S))v++;for(S=0,E=g;E;E=us(E))S++;for(;0<v-S;)y=us(y),v--;for(;0<S-v;)g=us(g),S--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=us(y),g=us(g)}y=null}else y=null;p!==null&&_1(d,f,p,y,!1),h!==null&&x!==null&&_1(d,x,h,y,!0)}}e:{if(f=u?Cs(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var b=M5;else if(p1(f))if(e2)b=z5;else{b=A5;var k=L5}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=F5);if(b&&(b=b(e,u))){X_(d,b,n,c);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&vm(f,"number",f.value)}switch(k=u?Cs(u):window,e){case"focusin":(p1(k)||k.contentEditable==="true")&&(Es=k,Om=u,da=null);break;case"focusout":da=Om=Es=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,v1(d,n,c);break;case"selectionchange":if(W5)break;case"keydown":case"keyup":v1(d,n,c)}var O;if(P0)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Ss?J_(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(Q_&&n.locale!=="ko"&&(Ss||$!=="onCompositionStart"?$==="onCompositionEnd"&&Ss&&(O=Y_()):(No=c,O0="value"in No?No.value:No.textContent,Ss=!0)),k=vd(u,$),0<k.length&&($=new u1($,e,null,n,c),d.push({event:$,listeners:k}),O?$.data=O:(O=q_(n),O!==null&&($.data=O)))),(O=O5?I5(e,n):R5(e,n))&&(u=vd(u,"onBeforeInput"),0<u.length&&(c=new u1("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=O))}c2(d,t)})}function Fa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vd(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Ia(e,n),i!=null&&r.unshift(Fa(e,i,o)),i=Ia(e,t),i!=null&&r.push(Fa(e,i,o))),e=e.return}return r}function us(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _1(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,o?(a=Ia(n,i),a!=null&&s.unshift(Fa(n,a,l))):o||(a=Ia(n,i),a!=null&&s.push(Fa(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var K5=/\r\n?/g,G5=/\u0000|\uFFFD/g;function S1(e){return(typeof e=="string"?e:""+e).replace(K5,`
`).replace(G5,"")}function mc(e,t,n){if(t=S1(t),S1(e)!==t&&n)throw Error(B(425))}function xd(){}var Rm=null,Pm=null;function Dm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mm=typeof setTimeout=="function"?setTimeout:void 0,Z5=typeof clearTimeout=="function"?clearTimeout:void 0,E1=typeof Promise=="function"?Promise:void 0,Y5=typeof queueMicrotask=="function"?queueMicrotask:typeof E1<"u"?function(e){return E1.resolve(null).then(e).catch(Q5)}:Mm;function Q5(e){setTimeout(function(){throw e})}function rh(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Da(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Da(t)}function Lo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function k1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fl=Math.random().toString(36).slice(2),gr="__reactFiber$"+fl,za="__reactProps$"+fl,Xr="__reactContainer$"+fl,Lm="__reactEvents$"+fl,J5="__reactListeners$"+fl,q5="__reactHandles$"+fl;function Si(e){var t=e[gr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xr]||n[gr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=k1(e);e!==null;){if(n=e[gr])return n;e=k1(e)}return t}e=n,n=e.parentNode}return null}function Cu(e){return e=e[gr]||e[Xr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Wf(e){return e[za]||null}var Am=[],bs=-1;function ii(e){return{current:e}}function De(e){0>bs||(e.current=Am[bs],Am[bs]=null,bs--)}function $e(e,t){bs++,Am[bs]=e.current,e.current=t}var Uo={},Mt=ii(Uo),en=ii(!1),ji=Uo;function Ys(e,t){var n=e.type.contextTypes;if(!n)return Uo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function tn(e){return e=e.childContextTypes,e!=null}function wd(){De(en),De(Mt)}function C1(e,t,n){if(Mt.current!==Uo)throw Error(B(168));$e(Mt,t),$e(en,n)}function f2(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(B(108,LN(e)||"Unknown",o));return Ve({},n,r)}function _d(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Uo,ji=Mt.current,$e(Mt,e),$e(en,en.current),!0}function b1(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=f2(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,De(en),De(Mt),$e(Mt,e)):De(en),$e(en,n)}var jr=null,Uf=!1,oh=!1;function p2(e){jr===null?jr=[e]:jr.push(e)}function X5(e){Uf=!0,p2(e)}function si(){if(!oh&&jr!==null){oh=!0;var e=0,t=Ce;try{var n=jr;for(Ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}jr=null,Uf=!1}catch(o){throw jr!==null&&(jr=jr.slice(e+1)),F_(b0,si),o}finally{Ce=t,oh=!1}}return null}var Ns=[],Ts=0,Sd=null,Ed=0,In=[],Rn=0,Bi=null,Kr=1,Gr="";function yi(e,t){Ns[Ts++]=Ed,Ns[Ts++]=Sd,Sd=e,Ed=t}function h2(e,t,n){In[Rn++]=Kr,In[Rn++]=Gr,In[Rn++]=Bi,Bi=e;var r=Kr;e=Gr;var o=32-Zn(r)-1;r&=~(1<<o),n+=1;var i=32-Zn(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Kr=1<<32-Zn(t)+o|n<<o|r,Gr=i+e}else Kr=1<<i|n<<o|r,Gr=e}function M0(e){e.return!==null&&(yi(e,1),h2(e,1,0))}function L0(e){for(;e===Sd;)Sd=Ns[--Ts],Ns[Ts]=null,Ed=Ns[--Ts],Ns[Ts]=null;for(;e===Bi;)Bi=In[--Rn],In[Rn]=null,Gr=In[--Rn],In[Rn]=null,Kr=In[--Rn],In[Rn]=null}var hn=null,fn=null,Fe=!1,Vn=null;function m2(e,t){var n=Dn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function N1(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,hn=e,fn=Lo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,hn=e,fn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Bi!==null?{id:Kr,overflow:Gr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Dn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,hn=e,fn=null,!0):!1;default:return!1}}function Fm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zm(e){if(Fe){var t=fn;if(t){var n=t;if(!N1(e,t)){if(Fm(e))throw Error(B(418));t=Lo(n.nextSibling);var r=hn;t&&N1(e,t)?m2(r,n):(e.flags=e.flags&-4097|2,Fe=!1,hn=e)}}else{if(Fm(e))throw Error(B(418));e.flags=e.flags&-4097|2,Fe=!1,hn=e}}}function T1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hn=e}function gc(e){if(e!==hn)return!1;if(!Fe)return T1(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dm(e.type,e.memoizedProps)),t&&(t=fn)){if(Fm(e))throw g2(),Error(B(418));for(;t;)m2(e,t),t=Lo(t.nextSibling)}if(T1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){fn=Lo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}fn=null}}else fn=hn?Lo(e.stateNode.nextSibling):null;return!0}function g2(){for(var e=fn;e;)e=Lo(e.nextSibling)}function Qs(){fn=hn=null,Fe=!1}function A0(e){Vn===null?Vn=[e]:Vn.push(e)}var eT=so.ReactCurrentBatchConfig;function Wn(e,t){if(e&&e.defaultProps){t=Ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var kd=ii(null),Cd=null,$s=null,F0=null;function z0(){F0=$s=Cd=null}function j0(e){var t=kd.current;De(kd),e._currentValue=t}function jm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fs(e,t){Cd=e,F0=$s=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qt=!0),e.firstContext=null)}function An(e){var t=e._currentValue;if(F0!==e)if(e={context:e,memoizedValue:t,next:null},$s===null){if(Cd===null)throw Error(B(308));$s=e,Cd.dependencies={lanes:0,firstContext:e}}else $s=$s.next=e;return t}var Ei=null;function B0(e){Ei===null?Ei=[e]:Ei.push(e)}function y2(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,B0(t)):(n.next=o.next,o.next=n),t.interleaved=n,eo(e,r)}function eo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _o=!1;function W0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function v2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ao(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,eo(e,n)}return o=r.interleaved,o===null?(t.next=t,B0(r)):(t.next=o.next,o.next=t),r.interleaved=t,eo(e,n)}function Kc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,N0(e,n)}}function $1(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bd(e,t,n,r){var o=e.updateQueue;_o=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?i=u:s.next=u,s=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var d=o.baseState;s=0,c=u=a=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,y=l;switch(f=t,p=n,y.tag){case 1:if(h=y.payload,typeof h=="function"){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=y.payload,f=typeof h=="function"?h.call(p,d,f):h,f==null)break e;d=Ve({},d,f);break e;case 2:_o=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=p,a=d):c=c.next=p,s|=f;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;f=l,l=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(1);if(c===null&&(a=d),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Ui|=s,e.lanes=s,e.memoizedState=d}}function O1(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(B(191,o));o.call(r)}}}var x2=new y_.Component().refs;function Bm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hf={isMounted:function(e){return(e=e._reactInternals)?ts(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wt(),o=zo(e),i=Yr(r,o);i.payload=t,n!=null&&(i.callback=n),t=Ao(e,i,o),t!==null&&(Yn(t,e,o,r),Kc(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wt(),o=zo(e),i=Yr(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ao(e,i,o),t!==null&&(Yn(t,e,o,r),Kc(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wt(),r=zo(e),o=Yr(n,r);o.tag=2,t!=null&&(o.callback=t),t=Ao(e,o,r),t!==null&&(Yn(t,e,r,n),Kc(t,e,r))}};function I1(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!La(n,r)||!La(o,i):!0}function w2(e,t,n){var r=!1,o=Uo,i=t.contextType;return typeof i=="object"&&i!==null?i=An(i):(o=tn(t)?ji:Mt.current,r=t.contextTypes,i=(r=r!=null)?Ys(e,o):Uo),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function R1(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hf.enqueueReplaceState(t,t.state,null)}function Wm(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=x2,W0(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=An(i):(i=tn(t)?ji:Mt.current,o.context=Ys(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Bm(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Hf.enqueueReplaceState(o,o.state,null),bd(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Bl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;l===x2&&(l=o.refs={}),s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function yc(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function P1(e){var t=e._init;return t(e._payload)}function _2(e){function t(g,v){if(e){var S=g.deletions;S===null?(g.deletions=[v],g.flags|=16):S.push(v)}}function n(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function o(g,v){return g=jo(g,v),g.index=0,g.sibling=null,g}function i(g,v,S){return g.index=S,e?(S=g.alternate,S!==null?(S=S.index,S<v?(g.flags|=2,v):S):(g.flags|=2,v)):(g.flags|=1048576,v)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,v,S,E){return v===null||v.tag!==6?(v=dh(S,g.mode,E),v.return=g,v):(v=o(v,S),v.return=g,v)}function a(g,v,S,E){var b=S.type;return b===_s?c(g,v,S.props.children,E,S.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===wo&&P1(b)===v.type)?(E=o(v,S.props),E.ref=Bl(g,v,S),E.return=g,E):(E=qc(S.type,S.key,S.props,null,g.mode,E),E.ref=Bl(g,v,S),E.return=g,E)}function u(g,v,S,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=fh(S,g.mode,E),v.return=g,v):(v=o(v,S.children||[]),v.return=g,v)}function c(g,v,S,E,b){return v===null||v.tag!==7?(v=Ii(S,g.mode,E,b),v.return=g,v):(v=o(v,S),v.return=g,v)}function d(g,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=dh(""+v,g.mode,S),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case sc:return S=qc(v.type,v.key,v.props,null,g.mode,S),S.ref=Bl(g,null,v),S.return=g,S;case ws:return v=fh(v,g.mode,S),v.return=g,v;case wo:var E=v._init;return d(g,E(v._payload),S)}if(Ql(v)||Ll(v))return v=Ii(v,g.mode,S,null),v.return=g,v;yc(g,v)}return null}function f(g,v,S,E){var b=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return b!==null?null:l(g,v,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case sc:return S.key===b?a(g,v,S,E):null;case ws:return S.key===b?u(g,v,S,E):null;case wo:return b=S._init,f(g,v,b(S._payload),E)}if(Ql(S)||Ll(S))return b!==null?null:c(g,v,S,E,null);yc(g,S)}return null}function p(g,v,S,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(S)||null,l(v,g,""+E,b);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case sc:return g=g.get(E.key===null?S:E.key)||null,a(v,g,E,b);case ws:return g=g.get(E.key===null?S:E.key)||null,u(v,g,E,b);case wo:var k=E._init;return p(g,v,S,k(E._payload),b)}if(Ql(E)||Ll(E))return g=g.get(S)||null,c(v,g,E,b,null);yc(v,E)}return null}function h(g,v,S,E){for(var b=null,k=null,O=v,$=v=0,R=null;O!==null&&$<S.length;$++){O.index>$?(R=O,O=null):R=O.sibling;var T=f(g,O,S[$],E);if(T===null){O===null&&(O=R);break}e&&O&&T.alternate===null&&t(g,O),v=i(T,v,$),k===null?b=T:k.sibling=T,k=T,O=R}if($===S.length)return n(g,O),Fe&&yi(g,$),b;if(O===null){for(;$<S.length;$++)O=d(g,S[$],E),O!==null&&(v=i(O,v,$),k===null?b=O:k.sibling=O,k=O);return Fe&&yi(g,$),b}for(O=r(g,O);$<S.length;$++)R=p(O,g,$,S[$],E),R!==null&&(e&&R.alternate!==null&&O.delete(R.key===null?$:R.key),v=i(R,v,$),k===null?b=R:k.sibling=R,k=R);return e&&O.forEach(function(D){return t(g,D)}),Fe&&yi(g,$),b}function y(g,v,S,E){var b=Ll(S);if(typeof b!="function")throw Error(B(150));if(S=b.call(S),S==null)throw Error(B(151));for(var k=b=null,O=v,$=v=0,R=null,T=S.next();O!==null&&!T.done;$++,T=S.next()){O.index>$?(R=O,O=null):R=O.sibling;var D=f(g,O,T.value,E);if(D===null){O===null&&(O=R);break}e&&O&&D.alternate===null&&t(g,O),v=i(D,v,$),k===null?b=D:k.sibling=D,k=D,O=R}if(T.done)return n(g,O),Fe&&yi(g,$),b;if(O===null){for(;!T.done;$++,T=S.next())T=d(g,T.value,E),T!==null&&(v=i(T,v,$),k===null?b=T:k.sibling=T,k=T);return Fe&&yi(g,$),b}for(O=r(g,O);!T.done;$++,T=S.next())T=p(O,g,$,T.value,E),T!==null&&(e&&T.alternate!==null&&O.delete(T.key===null?$:T.key),v=i(T,v,$),k===null?b=T:k.sibling=T,k=T);return e&&O.forEach(function(F){return t(g,F)}),Fe&&yi(g,$),b}function x(g,v,S,E){if(typeof S=="object"&&S!==null&&S.type===_s&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case sc:e:{for(var b=S.key,k=v;k!==null;){if(k.key===b){if(b=S.type,b===_s){if(k.tag===7){n(g,k.sibling),v=o(k,S.props.children),v.return=g,g=v;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===wo&&P1(b)===k.type){n(g,k.sibling),v=o(k,S.props),v.ref=Bl(g,k,S),v.return=g,g=v;break e}n(g,k);break}else t(g,k);k=k.sibling}S.type===_s?(v=Ii(S.props.children,g.mode,E,S.key),v.return=g,g=v):(E=qc(S.type,S.key,S.props,null,g.mode,E),E.ref=Bl(g,v,S),E.return=g,g=E)}return s(g);case ws:e:{for(k=S.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(g,v.sibling),v=o(v,S.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else t(g,v);v=v.sibling}v=fh(S,g.mode,E),v.return=g,g=v}return s(g);case wo:return k=S._init,x(g,v,k(S._payload),E)}if(Ql(S))return h(g,v,S,E);if(Ll(S))return y(g,v,S,E);yc(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(n(g,v.sibling),v=o(v,S),v.return=g,g=v):(n(g,v),v=dh(S,g.mode,E),v.return=g,g=v),s(g)):n(g,v)}return x}var Js=_2(!0),S2=_2(!1),bu={},_r=ii(bu),ja=ii(bu),Ba=ii(bu);function ki(e){if(e===bu)throw Error(B(174));return e}function U0(e,t){switch($e(Ba,t),$e(ja,e),$e(_r,bu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wm(t,e)}De(_r),$e(_r,t)}function qs(){De(_r),De(ja),De(Ba)}function E2(e){ki(Ba.current);var t=ki(_r.current),n=wm(t,e.type);t!==n&&($e(ja,e),$e(_r,n))}function H0(e){ja.current===e&&(De(_r),De(ja))}var Ue=ii(0);function Nd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ih=[];function V0(){for(var e=0;e<ih.length;e++)ih[e]._workInProgressVersionPrimary=null;ih.length=0}var Gc=so.ReactCurrentDispatcher,sh=so.ReactCurrentBatchConfig,Wi=0,He=null,at=null,mt=null,Td=!1,fa=!1,Wa=0,tT=0;function Ot(){throw Error(B(321))}function K0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!er(e[n],t[n]))return!1;return!0}function G0(e,t,n,r,o,i){if(Wi=i,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gc.current=e===null||e.memoizedState===null?iT:sT,e=n(r,o),fa){i=0;do{if(fa=!1,Wa=0,25<=i)throw Error(B(301));i+=1,mt=at=null,t.updateQueue=null,Gc.current=lT,e=n(r,o)}while(fa)}if(Gc.current=$d,t=at!==null&&at.next!==null,Wi=0,mt=at=He=null,Td=!1,t)throw Error(B(300));return e}function Z0(){var e=Wa!==0;return Wa=0,e}function dr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?He.memoizedState=mt=e:mt=mt.next=e,mt}function Fn(){if(at===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=mt===null?He.memoizedState:mt.next;if(t!==null)mt=t,at=e;else{if(e===null)throw Error(B(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},mt===null?He.memoizedState=mt=e:mt=mt.next=e}return mt}function Ua(e,t){return typeof t=="function"?t(e):t}function lh(e){var t=Fn(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=at,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,a=null,u=i;do{var c=u.lane;if((Wi&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,s=r):a=a.next=d,He.lanes|=c,Ui|=c}u=u.next}while(u!==null&&u!==i);a===null?s=r:a.next=l,er(r,t.memoizedState)||(qt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,He.lanes|=i,Ui|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ah(e){var t=Fn(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);er(i,t.memoizedState)||(qt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function k2(){}function C2(e,t){var n=He,r=Fn(),o=t(),i=!er(r.memoizedState,o);if(i&&(r.memoizedState=o,qt=!0),r=r.queue,Y0(T2.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,Ha(9,N2.bind(null,n,r,o,t),void 0,null),wt===null)throw Error(B(349));Wi&30||b2(n,t,o)}return o}function b2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function N2(e,t,n,r){t.value=n,t.getSnapshot=r,$2(t)&&O2(e)}function T2(e,t,n){return n(function(){$2(t)&&O2(e)})}function $2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!er(e,n)}catch{return!0}}function O2(e){var t=eo(e,1);t!==null&&Yn(t,e,1,-1)}function D1(e){var t=dr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:e},t.queue=e,e=e.dispatch=oT.bind(null,He,e),[t.memoizedState,e]}function Ha(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function I2(){return Fn().memoizedState}function Zc(e,t,n,r){var o=dr();He.flags|=e,o.memoizedState=Ha(1|t,n,void 0,r===void 0?null:r)}function Vf(e,t,n,r){var o=Fn();r=r===void 0?null:r;var i=void 0;if(at!==null){var s=at.memoizedState;if(i=s.destroy,r!==null&&K0(r,s.deps)){o.memoizedState=Ha(t,n,i,r);return}}He.flags|=e,o.memoizedState=Ha(1|t,n,i,r)}function M1(e,t){return Zc(8390656,8,e,t)}function Y0(e,t){return Vf(2048,8,e,t)}function R2(e,t){return Vf(4,2,e,t)}function P2(e,t){return Vf(4,4,e,t)}function D2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function M2(e,t,n){return n=n!=null?n.concat([e]):null,Vf(4,4,D2.bind(null,t,e),n)}function Q0(){}function L2(e,t){var n=Fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&K0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function A2(e,t){var n=Fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&K0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function F2(e,t,n){return Wi&21?(er(n,t)||(n=B_(),He.lanes|=n,Ui|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qt=!0),e.memoizedState=n)}function nT(e,t){var n=Ce;Ce=n!==0&&4>n?n:4,e(!0);var r=sh.transition;sh.transition={};try{e(!1),t()}finally{Ce=n,sh.transition=r}}function z2(){return Fn().memoizedState}function rT(e,t,n){var r=zo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},j2(e))B2(t,n);else if(n=y2(e,t,n,r),n!==null){var o=Wt();Yn(n,e,r,o),W2(n,t,r)}}function oT(e,t,n){var r=zo(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(j2(e))B2(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,er(l,s)){var a=t.interleaved;a===null?(o.next=o,B0(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=y2(e,t,o,r),n!==null&&(o=Wt(),Yn(n,e,r,o),W2(n,t,r))}}function j2(e){var t=e.alternate;return e===He||t!==null&&t===He}function B2(e,t){fa=Td=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function W2(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,N0(e,n)}}var $d={readContext:An,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},iT={readContext:An,useCallback:function(e,t){return dr().memoizedState=[e,t===void 0?null:t],e},useContext:An,useEffect:M1,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zc(4194308,4,D2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zc(4,2,e,t)},useMemo:function(e,t){var n=dr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=dr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rT.bind(null,He,e),[r.memoizedState,e]},useRef:function(e){var t=dr();return e={current:e},t.memoizedState=e},useState:D1,useDebugValue:Q0,useDeferredValue:function(e){return dr().memoizedState=e},useTransition:function(){var e=D1(!1),t=e[0];return e=nT.bind(null,e[1]),dr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=He,o=dr();if(Fe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),wt===null)throw Error(B(349));Wi&30||b2(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,M1(T2.bind(null,r,i,e),[e]),r.flags|=2048,Ha(9,N2.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=dr(),t=wt.identifierPrefix;if(Fe){var n=Gr,r=Kr;n=(r&~(1<<32-Zn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=tT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sT={readContext:An,useCallback:L2,useContext:An,useEffect:Y0,useImperativeHandle:M2,useInsertionEffect:R2,useLayoutEffect:P2,useMemo:A2,useReducer:lh,useRef:I2,useState:function(){return lh(Ua)},useDebugValue:Q0,useDeferredValue:function(e){var t=Fn();return F2(t,at.memoizedState,e)},useTransition:function(){var e=lh(Ua)[0],t=Fn().memoizedState;return[e,t]},useMutableSource:k2,useSyncExternalStore:C2,useId:z2,unstable_isNewReconciler:!1},lT={readContext:An,useCallback:L2,useContext:An,useEffect:Y0,useImperativeHandle:M2,useInsertionEffect:R2,useLayoutEffect:P2,useMemo:A2,useReducer:ah,useRef:I2,useState:function(){return ah(Ua)},useDebugValue:Q0,useDeferredValue:function(e){var t=Fn();return at===null?t.memoizedState=e:F2(t,at.memoizedState,e)},useTransition:function(){var e=ah(Ua)[0],t=Fn().memoizedState;return[e,t]},useMutableSource:k2,useSyncExternalStore:C2,useId:z2,unstable_isNewReconciler:!1};function Xs(e,t){try{var n="",r=t;do n+=MN(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function uh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Um(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var aT=typeof WeakMap=="function"?WeakMap:Map;function U2(e,t,n){n=Yr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Id||(Id=!0,Xm=r),Um(e,t)},n}function H2(e,t,n){n=Yr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Um(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Um(e,t),typeof r!="function"&&(Fo===null?Fo=new Set([this]):Fo.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function L1(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new aT;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=ST.bind(null,e,t,n),t.then(e,e))}function A1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function F1(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yr(-1,1),t.tag=2,Ao(n,t,1))),n.lanes|=1),e)}var uT=so.ReactCurrentOwner,qt=!1;function zt(e,t,n,r){t.child=e===null?S2(t,null,n,r):Js(t,e.child,n,r)}function z1(e,t,n,r,o){n=n.render;var i=t.ref;return Fs(t,o),r=G0(e,t,n,r,i,o),n=Z0(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,to(e,t,o)):(Fe&&n&&M0(t),t.flags|=1,zt(e,t,r,o),t.child)}function j1(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!oy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,V2(e,t,i,r,o)):(e=qc(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:La,n(s,r)&&e.ref===t.ref)return to(e,t,o)}return t.flags|=1,e=jo(i,r),e.ref=t.ref,e.return=t,t.child=e}function V2(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(La(i,r)&&e.ref===t.ref)if(qt=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(qt=!0);else return t.lanes=e.lanes,to(e,t,o)}return Hm(e,t,n,r,o)}function K2(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Is,cn),cn|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(Is,cn),cn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,$e(Is,cn),cn|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,$e(Is,cn),cn|=r;return zt(e,t,o,n),t.child}function G2(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Hm(e,t,n,r,o){var i=tn(n)?ji:Mt.current;return i=Ys(t,i),Fs(t,o),n=G0(e,t,n,r,i,o),r=Z0(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,to(e,t,o)):(Fe&&r&&M0(t),t.flags|=1,zt(e,t,n,o),t.child)}function B1(e,t,n,r,o){if(tn(n)){var i=!0;_d(t)}else i=!1;if(Fs(t,o),t.stateNode===null)Yc(e,t),w2(t,n,r),Wm(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=An(u):(u=tn(n)?ji:Mt.current,u=Ys(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&R1(t,s,r,u),_o=!1;var f=t.memoizedState;s.state=f,bd(t,r,s,o),a=t.memoizedState,l!==r||f!==a||en.current||_o?(typeof c=="function"&&(Bm(t,n,c,r),a=t.memoizedState),(l=_o||I1(t,n,l,r,f,a,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,v2(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Wn(t.type,l),s.props=u,d=t.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=An(a):(a=tn(n)?ji:Mt.current,a=Ys(t,a));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||f!==a)&&R1(t,s,r,a),_o=!1,f=t.memoizedState,s.state=f,bd(t,r,s,o);var h=t.memoizedState;l!==d||f!==h||en.current||_o?(typeof p=="function"&&(Bm(t,n,p,r),h=t.memoizedState),(u=_o||I1(t,n,u,r,f,h,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,h,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,h,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),s.props=r,s.state=h,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Vm(e,t,n,r,i,o)}function Vm(e,t,n,r,o,i){G2(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&b1(t,n,!1),to(e,t,i);r=t.stateNode,uT.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Js(t,e.child,null,i),t.child=Js(t,null,l,i)):zt(e,t,l,i),t.memoizedState=r.state,o&&b1(t,n,!0),t.child}function Z2(e){var t=e.stateNode;t.pendingContext?C1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&C1(e,t.context,!1),U0(e,t.containerInfo)}function W1(e,t,n,r,o){return Qs(),A0(o),t.flags|=256,zt(e,t,n,r),t.child}var Km={dehydrated:null,treeContext:null,retryLane:0};function Gm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Y2(e,t,n){var r=t.pendingProps,o=Ue.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),$e(Ue,o&1),e===null)return zm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Zf(s,r,0,null),e=Ii(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Gm(n),t.memoizedState=Km,e):J0(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return cT(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=jo(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=jo(l,i):(i=Ii(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Gm(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Km,r}return i=e.child,e=i.sibling,r=jo(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function J0(e,t){return t=Zf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vc(e,t,n,r){return r!==null&&A0(r),Js(t,e.child,null,n),e=J0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cT(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=uh(Error(B(422))),vc(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Zf({mode:"visible",children:r.children},o,0,null),i=Ii(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Js(t,e.child,null,s),t.child.memoizedState=Gm(s),t.memoizedState=Km,i);if(!(t.mode&1))return vc(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(B(419)),r=uh(i,r,void 0),vc(e,t,s,r)}if(l=(s&e.childLanes)!==0,qt||l){if(r=wt,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,eo(e,o),Yn(r,e,o,-1))}return ry(),r=uh(Error(B(421))),vc(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=ET.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,fn=Lo(o.nextSibling),hn=t,Fe=!0,Vn=null,e!==null&&(In[Rn++]=Kr,In[Rn++]=Gr,In[Rn++]=Bi,Kr=e.id,Gr=e.overflow,Bi=t),t=J0(t,r.children),t.flags|=4096,t)}function U1(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),jm(e.return,t,n)}function ch(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Q2(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(zt(e,t,r.children,n),r=Ue.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&U1(e,n,t);else if(e.tag===19)U1(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($e(Ue,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Nd(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ch(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Nd(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ch(t,!0,n,null,i);break;case"together":ch(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function to(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ui|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=jo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=jo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function dT(e,t,n){switch(t.tag){case 3:Z2(t),Qs();break;case 5:E2(t);break;case 1:tn(t.type)&&_d(t);break;case 4:U0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;$e(kd,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($e(Ue,Ue.current&1),t.flags|=128,null):n&t.child.childLanes?Y2(e,t,n):($e(Ue,Ue.current&1),e=to(e,t,n),e!==null?e.sibling:null);$e(Ue,Ue.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Q2(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),$e(Ue,Ue.current),r)break;return null;case 22:case 23:return t.lanes=0,K2(e,t,n)}return to(e,t,n)}var J2,Zm,q2,X2;J2=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zm=function(){};q2=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ki(_r.current);var i=null;switch(n){case"input":o=gm(e,o),r=gm(e,r),i=[];break;case"select":o=Ve({},o,{value:void 0}),r=Ve({},r,{value:void 0}),i=[];break;case"textarea":o=xm(e,o),r=xm(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xd)}_m(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($a.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($a.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Ie("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};X2=function(e,t,n,r){n!==r&&(t.flags|=4)};function Wl(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function It(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fT(e,t,n){var r=t.pendingProps;switch(L0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(t),null;case 1:return tn(t.type)&&wd(),It(t),null;case 3:return r=t.stateNode,qs(),De(en),De(Mt),V0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(gc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vn!==null&&(ng(Vn),Vn=null))),Zm(e,t),It(t),null;case 5:H0(t);var o=ki(Ba.current);if(n=t.type,e!==null&&t.stateNode!=null)q2(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return It(t),null}if(e=ki(_r.current),gc(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[gr]=t,r[za]=i,e=(t.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(o=0;o<ql.length;o++)Ie(ql[o],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":qv(r,i),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ie("invalid",r);break;case"textarea":e1(r,i),Ie("invalid",r)}_m(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&mc(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&mc(r.textContent,l,e),o=["children",""+l]):$a.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Ie("scroll",r)}switch(n){case"input":lc(r),Xv(r,i,!0);break;case"textarea":lc(r),t1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xd)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=b_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[gr]=t,e[za]=r,J2(e,t,!1,!1),t.stateNode=e;e:{switch(s=Sm(n,r),n){case"dialog":Ie("cancel",e),Ie("close",e),o=r;break;case"iframe":case"object":case"embed":Ie("load",e),o=r;break;case"video":case"audio":for(o=0;o<ql.length;o++)Ie(ql[o],e);o=r;break;case"source":Ie("error",e),o=r;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),o=r;break;case"details":Ie("toggle",e),o=r;break;case"input":qv(e,r),o=gm(e,r),Ie("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Ve({},r,{value:void 0}),Ie("invalid",e);break;case"textarea":e1(e,r),o=xm(e,r),Ie("invalid",e);break;default:o=r}_m(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?$_(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&N_(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Oa(e,a):typeof a=="number"&&Oa(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($a.hasOwnProperty(i)?a!=null&&i==="onScroll"&&Ie("scroll",e):a!=null&&_0(e,i,a,s))}switch(n){case"input":lc(e),Xv(e,r,!1);break;case"textarea":lc(e),t1(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Wo(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ds(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ds(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=xd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return It(t),null;case 6:if(e&&t.stateNode!=null)X2(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=ki(Ba.current),ki(_r.current),gc(t)){if(r=t.stateNode,n=t.memoizedProps,r[gr]=t,(i=r.nodeValue!==n)&&(e=hn,e!==null))switch(e.tag){case 3:mc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mc(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gr]=t,t.stateNode=r}return It(t),null;case 13:if(De(Ue),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&fn!==null&&t.mode&1&&!(t.flags&128))g2(),Qs(),t.flags|=98560,i=!1;else if(i=gc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(B(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[gr]=t}else Qs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;It(t),i=!1}else Vn!==null&&(ng(Vn),Vn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ue.current&1?ut===0&&(ut=3):ry())),t.updateQueue!==null&&(t.flags|=4),It(t),null);case 4:return qs(),Zm(e,t),e===null&&Aa(t.stateNode.containerInfo),It(t),null;case 10:return j0(t.type._context),It(t),null;case 17:return tn(t.type)&&wd(),It(t),null;case 19:if(De(Ue),i=t.memoizedState,i===null)return It(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Wl(i,!1);else{if(ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Nd(e),s!==null){for(t.flags|=128,Wl(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $e(Ue,Ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&Xe()>el&&(t.flags|=128,r=!0,Wl(i,!1),t.lanes=4194304)}else{if(!r)if(e=Nd(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Wl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Fe)return It(t),null}else 2*Xe()-i.renderingStartTime>el&&n!==1073741824&&(t.flags|=128,r=!0,Wl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,n=Ue.current,$e(Ue,r?n&1|2:n&1),t):(It(t),null);case 22:case 23:return ny(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?cn&1073741824&&(It(t),t.subtreeFlags&6&&(t.flags|=8192)):It(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function pT(e,t){switch(L0(t),t.tag){case 1:return tn(t.type)&&wd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qs(),De(en),De(Mt),V0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return H0(t),null;case 13:if(De(Ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Qs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Ue),null;case 4:return qs(),null;case 10:return j0(t.type._context),null;case 22:case 23:return ny(),null;case 24:return null;default:return null}}var xc=!1,Rt=!1,hT=typeof WeakSet=="function"?WeakSet:Set,X=null;function Os(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(e,t,r)}else n.current=null}function Ym(e,t,n){try{n()}catch(r){Ze(e,t,r)}}var H1=!1;function mT(e,t){if(Rm=gd,e=r2(),D0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var p;d!==n||o!==0&&d.nodeType!==3||(l=s+o),d!==i||r!==0&&d.nodeType!==3||(a=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===o&&(l=s),f===i&&++c===r&&(a=s),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pm={focusedElem:e,selectionRange:n},gd=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var y=h.memoizedProps,x=h.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Wn(t.type,y),x);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(E){Ze(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return h=H1,H1=!1,h}function pa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Ym(t,n,i)}o=o.next}while(o!==r)}}function Kf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Qm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function eS(e){var t=e.alternate;t!==null&&(e.alternate=null,eS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gr],delete t[za],delete t[Lm],delete t[J5],delete t[q5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tS(e){return e.tag===5||e.tag===3||e.tag===4}function V1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xd));else if(r!==4&&(e=e.child,e!==null))for(Jm(e,t,n),e=e.sibling;e!==null;)Jm(e,t,n),e=e.sibling}function qm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qm(e,t,n),e=e.sibling;e!==null;)qm(e,t,n),e=e.sibling}var Et=null,Hn=!1;function go(e,t,n){for(n=n.child;n!==null;)nS(e,t,n),n=n.sibling}function nS(e,t,n){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(Ff,n)}catch{}switch(n.tag){case 5:Rt||Os(n,t);case 6:var r=Et,o=Hn;Et=null,go(e,t,n),Et=r,Hn=o,Et!==null&&(Hn?(e=Et,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(Hn?(e=Et,n=n.stateNode,e.nodeType===8?rh(e.parentNode,n):e.nodeType===1&&rh(e,n),Da(e)):rh(Et,n.stateNode));break;case 4:r=Et,o=Hn,Et=n.stateNode.containerInfo,Hn=!0,go(e,t,n),Et=r,Hn=o;break;case 0:case 11:case 14:case 15:if(!Rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Ym(n,t,s),o=o.next}while(o!==r)}go(e,t,n);break;case 1:if(!Rt&&(Os(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ze(n,t,l)}go(e,t,n);break;case 21:go(e,t,n);break;case 22:n.mode&1?(Rt=(r=Rt)||n.memoizedState!==null,go(e,t,n),Rt=r):go(e,t,n);break;default:go(e,t,n)}}function K1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new hT),t.forEach(function(r){var o=kT.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Bn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Et=l.stateNode,Hn=!1;break e;case 3:Et=l.stateNode.containerInfo,Hn=!0;break e;case 4:Et=l.stateNode.containerInfo,Hn=!0;break e}l=l.return}if(Et===null)throw Error(B(160));nS(i,s,o),Et=null,Hn=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){Ze(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rS(t,e),t=t.sibling}function rS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bn(t,e),ur(e),r&4){try{pa(3,e,e.return),Kf(3,e)}catch(y){Ze(e,e.return,y)}try{pa(5,e,e.return)}catch(y){Ze(e,e.return,y)}}break;case 1:Bn(t,e),ur(e),r&512&&n!==null&&Os(n,n.return);break;case 5:if(Bn(t,e),ur(e),r&512&&n!==null&&Os(n,n.return),e.flags&32){var o=e.stateNode;try{Oa(o,"")}catch(y){Ze(e,e.return,y)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&k_(o,i),Sm(l,s);var u=Sm(l,i);for(s=0;s<a.length;s+=2){var c=a[s],d=a[s+1];c==="style"?$_(o,d):c==="dangerouslySetInnerHTML"?N_(o,d):c==="children"?Oa(o,d):_0(o,c,d,u)}switch(l){case"input":ym(o,i);break;case"textarea":C_(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ds(o,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ds(o,!!i.multiple,i.defaultValue,!0):Ds(o,!!i.multiple,i.multiple?[]:"",!1))}o[za]=i}catch(y){Ze(e,e.return,y)}}break;case 6:if(Bn(t,e),ur(e),r&4){if(e.stateNode===null)throw Error(B(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(y){Ze(e,e.return,y)}}break;case 3:if(Bn(t,e),ur(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Da(t.containerInfo)}catch(y){Ze(e,e.return,y)}break;case 4:Bn(t,e),ur(e);break;case 13:Bn(t,e),ur(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(ey=Xe())),r&4&&K1(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Rt=(u=Rt)||c,Bn(t,e),Rt=u):Bn(t,e),ur(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(X=e,c=e.child;c!==null;){for(d=X=c;X!==null;){switch(f=X,p=f.child,f.tag){case 0:case 11:case 14:case 15:pa(4,f,f.return);break;case 1:Os(f,f.return);var h=f.stateNode;if(typeof h.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(y){Ze(r,n,y)}}break;case 5:Os(f,f.return);break;case 22:if(f.memoizedState!==null){Z1(d);continue}}p!==null?(p.return=f,X=p):Z1(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{o=d.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=T_("display",s))}catch(y){Ze(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){Ze(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Bn(t,e),ur(e),r&4&&K1(e);break;case 21:break;default:Bn(t,e),ur(e)}}function ur(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(tS(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Oa(o,""),r.flags&=-33);var i=V1(e);qm(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=V1(e);Jm(e,l,s);break;default:throw Error(B(161))}}catch(a){Ze(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gT(e,t,n){X=e,oS(e)}function oS(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var o=X,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||xc;if(!s){var l=o.alternate,a=l!==null&&l.memoizedState!==null||Rt;l=xc;var u=Rt;if(xc=s,(Rt=a)&&!u)for(X=o;X!==null;)s=X,a=s.child,s.tag===22&&s.memoizedState!==null?Y1(o):a!==null?(a.return=s,X=a):Y1(o);for(;i!==null;)X=i,oS(i),i=i.sibling;X=o,xc=l,Rt=u}G1(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,X=i):G1(e)}}function G1(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rt||Kf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Rt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Wn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&O1(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}O1(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Da(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Rt||t.flags&512&&Qm(t)}catch(f){Ze(t,t.return,f)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function Z1(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function Y1(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kf(4,t)}catch(a){Ze(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){Ze(t,o,a)}}var i=t.return;try{Qm(t)}catch(a){Ze(t,i,a)}break;case 5:var s=t.return;try{Qm(t)}catch(a){Ze(t,s,a)}}}catch(a){Ze(t,t.return,a)}if(t===e){X=null;break}var l=t.sibling;if(l!==null){l.return=t.return,X=l;break}X=t.return}}var yT=Math.ceil,Od=so.ReactCurrentDispatcher,q0=so.ReactCurrentOwner,Mn=so.ReactCurrentBatchConfig,ye=0,wt=null,nt=null,Nt=0,cn=0,Is=ii(0),ut=0,Va=null,Ui=0,Gf=0,X0=0,ha=null,Jt=null,ey=0,el=1/0,zr=null,Id=!1,Xm=null,Fo=null,wc=!1,To=null,Rd=0,ma=0,eg=null,Qc=-1,Jc=0;function Wt(){return ye&6?Xe():Qc!==-1?Qc:Qc=Xe()}function zo(e){return e.mode&1?ye&2&&Nt!==0?Nt&-Nt:eT.transition!==null?(Jc===0&&(Jc=B_()),Jc):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:Z_(e.type)),e):1}function Yn(e,t,n,r){if(50<ma)throw ma=0,eg=null,Error(B(185));Eu(e,n,r),(!(ye&2)||e!==wt)&&(e===wt&&(!(ye&2)&&(Gf|=n),ut===4&&Co(e,Nt)),nn(e,r),n===1&&ye===0&&!(t.mode&1)&&(el=Xe()+500,Uf&&si()))}function nn(e,t){var n=e.callbackNode;e5(e,t);var r=md(e,e===wt?Nt:0);if(r===0)n!==null&&o1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&o1(n),t===1)e.tag===0?X5(Q1.bind(null,e)):p2(Q1.bind(null,e)),Y5(function(){!(ye&6)&&si()}),n=null;else{switch(W_(r)){case 1:n=b0;break;case 4:n=z_;break;case 16:n=hd;break;case 536870912:n=j_;break;default:n=hd}n=fS(n,iS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iS(e,t){if(Qc=-1,Jc=0,ye&6)throw Error(B(327));var n=e.callbackNode;if(zs()&&e.callbackNode!==n)return null;var r=md(e,e===wt?Nt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Pd(e,r);else{t=r;var o=ye;ye|=2;var i=lS();(wt!==e||Nt!==t)&&(zr=null,el=Xe()+500,Oi(e,t));do try{wT();break}catch(l){sS(e,l)}while(1);z0(),Od.current=i,ye=o,nt!==null?t=0:(wt=null,Nt=0,t=ut)}if(t!==0){if(t===2&&(o=Nm(e),o!==0&&(r=o,t=tg(e,o))),t===1)throw n=Va,Oi(e,0),Co(e,r),nn(e,Xe()),n;if(t===6)Co(e,r);else{if(o=e.current.alternate,!(r&30)&&!vT(o)&&(t=Pd(e,r),t===2&&(i=Nm(e),i!==0&&(r=i,t=tg(e,i))),t===1))throw n=Va,Oi(e,0),Co(e,r),nn(e,Xe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:vi(e,Jt,zr);break;case 3:if(Co(e,r),(r&130023424)===r&&(t=ey+500-Xe(),10<t)){if(md(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Wt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Mm(vi.bind(null,e,Jt,zr),t);break}vi(e,Jt,zr);break;case 4:if(Co(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-Zn(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yT(r/1960))-r,10<r){e.timeoutHandle=Mm(vi.bind(null,e,Jt,zr),r);break}vi(e,Jt,zr);break;case 5:vi(e,Jt,zr);break;default:throw Error(B(329))}}}return nn(e,Xe()),e.callbackNode===n?iS.bind(null,e):null}function tg(e,t){var n=ha;return e.current.memoizedState.isDehydrated&&(Oi(e,t).flags|=256),e=Pd(e,t),e!==2&&(t=Jt,Jt=n,t!==null&&ng(t)),e}function ng(e){Jt===null?Jt=e:Jt.push.apply(Jt,e)}function vT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!er(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Co(e,t){for(t&=~X0,t&=~Gf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Zn(t),r=1<<n;e[n]=-1,t&=~r}}function Q1(e){if(ye&6)throw Error(B(327));zs();var t=md(e,0);if(!(t&1))return nn(e,Xe()),null;var n=Pd(e,t);if(e.tag!==0&&n===2){var r=Nm(e);r!==0&&(t=r,n=tg(e,r))}if(n===1)throw n=Va,Oi(e,0),Co(e,t),nn(e,Xe()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vi(e,Jt,zr),nn(e,Xe()),null}function ty(e,t){var n=ye;ye|=1;try{return e(t)}finally{ye=n,ye===0&&(el=Xe()+500,Uf&&si())}}function Hi(e){To!==null&&To.tag===0&&!(ye&6)&&zs();var t=ye;ye|=1;var n=Mn.transition,r=Ce;try{if(Mn.transition=null,Ce=1,e)return e()}finally{Ce=r,Mn.transition=n,ye=t,!(ye&6)&&si()}}function ny(){cn=Is.current,De(Is)}function Oi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Z5(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(L0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wd();break;case 3:qs(),De(en),De(Mt),V0();break;case 5:H0(r);break;case 4:qs();break;case 13:De(Ue);break;case 19:De(Ue);break;case 10:j0(r.type._context);break;case 22:case 23:ny()}n=n.return}if(wt=e,nt=e=jo(e.current,null),Nt=cn=t,ut=0,Va=null,X0=Gf=Ui=0,Jt=ha=null,Ei!==null){for(t=0;t<Ei.length;t++)if(n=Ei[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Ei=null}return e}function sS(e,t){do{var n=nt;try{if(z0(),Gc.current=$d,Td){for(var r=He.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Td=!1}if(Wi=0,mt=at=He=null,fa=!1,Wa=0,q0.current=null,n===null||n.return===null){ut=1,Va=t,nt=null;break}e:{var i=e,s=n.return,l=n,a=t;if(t=Nt,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=A1(s);if(p!==null){p.flags&=-257,F1(p,s,l,i,t),p.mode&1&&L1(i,u,t),t=p,a=u;var h=t.updateQueue;if(h===null){var y=new Set;y.add(a),t.updateQueue=y}else h.add(a);break e}else{if(!(t&1)){L1(i,u,t),ry();break e}a=Error(B(426))}}else if(Fe&&l.mode&1){var x=A1(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),F1(x,s,l,i,t),A0(Xs(a,l));break e}}i=a=Xs(a,l),ut!==4&&(ut=2),ha===null?ha=[i]:ha.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=U2(i,a,t);$1(i,g);break e;case 1:l=a;var v=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Fo===null||!Fo.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=H2(i,l,t);$1(i,E);break e}}i=i.return}while(i!==null)}uS(n)}catch(b){t=b,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(1)}function lS(){var e=Od.current;return Od.current=$d,e===null?$d:e}function ry(){(ut===0||ut===3||ut===2)&&(ut=4),wt===null||!(Ui&268435455)&&!(Gf&268435455)||Co(wt,Nt)}function Pd(e,t){var n=ye;ye|=2;var r=lS();(wt!==e||Nt!==t)&&(zr=null,Oi(e,t));do try{xT();break}catch(o){sS(e,o)}while(1);if(z0(),ye=n,Od.current=r,nt!==null)throw Error(B(261));return wt=null,Nt=0,ut}function xT(){for(;nt!==null;)aS(nt)}function wT(){for(;nt!==null&&!VN();)aS(nt)}function aS(e){var t=dS(e.alternate,e,cn);e.memoizedProps=e.pendingProps,t===null?uS(e):nt=t,q0.current=null}function uS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=pT(n,t),n!==null){n.flags&=32767,nt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,nt=null;return}}else if(n=fT(n,t,cn),n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);ut===0&&(ut=5)}function vi(e,t,n){var r=Ce,o=Mn.transition;try{Mn.transition=null,Ce=1,_T(e,t,n,r)}finally{Mn.transition=o,Ce=r}return null}function _T(e,t,n,r){do zs();while(To!==null);if(ye&6)throw Error(B(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(t5(e,i),e===wt&&(nt=wt=null,Nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wc||(wc=!0,fS(hd,function(){return zs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Mn.transition,Mn.transition=null;var s=Ce;Ce=1;var l=ye;ye|=4,q0.current=null,mT(e,n),rS(n,e),B5(Pm),gd=!!Rm,Pm=Rm=null,e.current=n,gT(n),KN(),ye=l,Ce=s,Mn.transition=i}else e.current=n;if(wc&&(wc=!1,To=e,Rd=o),i=e.pendingLanes,i===0&&(Fo=null),YN(n.stateNode),nn(e,Xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Id)throw Id=!1,e=Xm,Xm=null,e;return Rd&1&&e.tag!==0&&zs(),i=e.pendingLanes,i&1?e===eg?ma++:(ma=0,eg=e):ma=0,si(),null}function zs(){if(To!==null){var e=W_(Rd),t=Mn.transition,n=Ce;try{if(Mn.transition=null,Ce=16>e?16:e,To===null)var r=!1;else{if(e=To,To=null,Rd=0,ye&6)throw Error(B(331));var o=ye;for(ye|=4,X=e.current;X!==null;){var i=X,s=i.child;if(X.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(X=u;X!==null;){var c=X;switch(c.tag){case 0:case 11:case 15:pa(8,c,i)}var d=c.child;if(d!==null)d.return=c,X=d;else for(;X!==null;){c=X;var f=c.sibling,p=c.return;if(eS(c),c===u){X=null;break}if(f!==null){f.return=p,X=f;break}X=p}}}var h=i.alternate;if(h!==null){var y=h.child;if(y!==null){h.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}X=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,X=s;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pa(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,X=g;break e}X=i.return}}var v=e.current;for(X=v;X!==null;){s=X;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,X=S;else e:for(s=v;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Kf(9,l)}}catch(b){Ze(l,l.return,b)}if(l===s){X=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,X=E;break e}X=l.return}}if(ye=o,si(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(Ff,e)}catch{}r=!0}return r}finally{Ce=n,Mn.transition=t}}return!1}function J1(e,t,n){t=Xs(n,t),t=U2(e,t,1),e=Ao(e,t,1),t=Wt(),e!==null&&(Eu(e,1,t),nn(e,t))}function Ze(e,t,n){if(e.tag===3)J1(e,e,n);else for(;t!==null;){if(t.tag===3){J1(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fo===null||!Fo.has(r))){e=Xs(n,e),e=H2(t,e,1),t=Ao(t,e,1),e=Wt(),t!==null&&(Eu(t,1,e),nn(t,e));break}}t=t.return}}function ST(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Wt(),e.pingedLanes|=e.suspendedLanes&n,wt===e&&(Nt&n)===n&&(ut===4||ut===3&&(Nt&130023424)===Nt&&500>Xe()-ey?Oi(e,0):X0|=n),nn(e,t)}function cS(e,t){t===0&&(e.mode&1?(t=cc,cc<<=1,!(cc&130023424)&&(cc=4194304)):t=1);var n=Wt();e=eo(e,t),e!==null&&(Eu(e,t,n),nn(e,n))}function ET(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cS(e,n)}function kT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),cS(e,n)}var dS;dS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||en.current)qt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qt=!1,dT(e,t,n);qt=!!(e.flags&131072)}else qt=!1,Fe&&t.flags&1048576&&h2(t,Ed,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yc(e,t),e=t.pendingProps;var o=Ys(t,Mt.current);Fs(t,n),o=G0(null,t,r,e,o,n);var i=Z0();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tn(r)?(i=!0,_d(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,W0(t),o.updater=Hf,t.stateNode=o,o._reactInternals=t,Wm(t,r,e,n),t=Vm(null,t,r,!0,i,n)):(t.tag=0,Fe&&i&&M0(t),zt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Yc(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=bT(r),e=Wn(r,e),o){case 0:t=Hm(null,t,r,e,n);break e;case 1:t=B1(null,t,r,e,n);break e;case 11:t=z1(null,t,r,e,n);break e;case 14:t=j1(null,t,r,Wn(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Wn(r,o),Hm(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Wn(r,o),B1(e,t,r,o,n);case 3:e:{if(Z2(t),e===null)throw Error(B(387));r=t.pendingProps,i=t.memoizedState,o=i.element,v2(e,t),bd(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Xs(Error(B(423)),t),t=W1(e,t,r,n,o);break e}else if(r!==o){o=Xs(Error(B(424)),t),t=W1(e,t,r,n,o);break e}else for(fn=Lo(t.stateNode.containerInfo.firstChild),hn=t,Fe=!0,Vn=null,n=S2(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qs(),r===o){t=to(e,t,n);break e}zt(e,t,r,n)}t=t.child}return t;case 5:return E2(t),e===null&&zm(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,Dm(r,o)?s=null:i!==null&&Dm(r,i)&&(t.flags|=32),G2(e,t),zt(e,t,s,n),t.child;case 6:return e===null&&zm(t),null;case 13:return Y2(e,t,n);case 4:return U0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Js(t,null,r,n):zt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Wn(r,o),z1(e,t,r,o,n);case 7:return zt(e,t,t.pendingProps,n),t.child;case 8:return zt(e,t,t.pendingProps.children,n),t.child;case 12:return zt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,$e(kd,r._currentValue),r._currentValue=s,i!==null)if(er(i.value,s)){if(i.children===o.children&&!en.current){t=to(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Yr(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),jm(i.return,n,t),l.lanes|=n;break}a=a.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(B(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),jm(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}zt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Fs(t,n),o=An(o),r=r(o),t.flags|=1,zt(e,t,r,n),t.child;case 14:return r=t.type,o=Wn(r,t.pendingProps),o=Wn(r.type,o),j1(e,t,r,o,n);case 15:return V2(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Wn(r,o),Yc(e,t),t.tag=1,tn(r)?(e=!0,_d(t)):e=!1,Fs(t,n),w2(t,r,o),Wm(t,r,o,n),Vm(null,t,r,!0,e,n);case 19:return Q2(e,t,n);case 22:return K2(e,t,n)}throw Error(B(156,t.tag))};function fS(e,t){return F_(e,t)}function CT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,t,n,r){return new CT(e,t,n,r)}function oy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bT(e){if(typeof e=="function")return oy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===E0)return 11;if(e===k0)return 14}return 2}function jo(e,t){var n=e.alternate;return n===null?(n=Dn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qc(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")oy(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case _s:return Ii(n.children,o,i,t);case S0:s=8,o|=8;break;case fm:return e=Dn(12,n,t,o|2),e.elementType=fm,e.lanes=i,e;case pm:return e=Dn(13,n,t,o),e.elementType=pm,e.lanes=i,e;case hm:return e=Dn(19,n,t,o),e.elementType=hm,e.lanes=i,e;case __:return Zf(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x_:s=10;break e;case w_:s=9;break e;case E0:s=11;break e;case k0:s=14;break e;case wo:s=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=Dn(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Ii(e,t,n,r){return e=Dn(7,e,r,t),e.lanes=n,e}function Zf(e,t,n,r){return e=Dn(22,e,r,t),e.elementType=__,e.lanes=n,e.stateNode={isHidden:!1},e}function dh(e,t,n){return e=Dn(6,e,null,t),e.lanes=n,e}function fh(e,t,n){return t=Dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function NT(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kp(0),this.expirationTimes=Kp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kp(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function iy(e,t,n,r,o,i,s,l,a){return e=new NT(e,t,n,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Dn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},W0(i),e}function TT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ws,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function pS(e){if(!e)return Uo;e=e._reactInternals;e:{if(ts(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(tn(n))return f2(e,n,t)}return t}function hS(e,t,n,r,o,i,s,l,a){return e=iy(n,r,!0,e,o,i,s,l,a),e.context=pS(null),n=e.current,r=Wt(),o=zo(n),i=Yr(r,o),i.callback=t??null,Ao(n,i,o),e.current.lanes=o,Eu(e,o,r),nn(e,r),e}function Yf(e,t,n,r){var o=t.current,i=Wt(),s=zo(o);return n=pS(n),t.context===null?t.context=n:t.pendingContext=n,t=Yr(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ao(o,t,s),e!==null&&(Yn(e,o,s,i),Kc(e,o,s)),s}function Dd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function q1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sy(e,t){q1(e,t),(e=e.alternate)&&q1(e,t)}function $T(){return null}var mS=typeof reportError=="function"?reportError:function(e){console.error(e)};function ly(e){this._internalRoot=e}Qf.prototype.render=ly.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));Yf(e,t,null,null)};Qf.prototype.unmount=ly.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hi(function(){Yf(null,e,null,null)}),t[Xr]=null}};function Qf(e){this._internalRoot=e}Qf.prototype.unstable_scheduleHydration=function(e){if(e){var t=V_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ko.length&&t!==0&&t<ko[n].priority;n++);ko.splice(n,0,e),n===0&&G_(e)}};function ay(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function X1(){}function OT(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=Dd(s);i.call(u)}}var s=hS(t,r,e,0,null,!1,!1,"",X1);return e._reactRootContainer=s,e[Xr]=s.current,Aa(e.nodeType===8?e.parentNode:e),Hi(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var u=Dd(a);l.call(u)}}var a=iy(e,0,!1,null,null,!1,!1,"",X1);return e._reactRootContainer=a,e[Xr]=a.current,Aa(e.nodeType===8?e.parentNode:e),Hi(function(){Yf(t,a,n,r)}),a}function qf(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var a=Dd(s);l.call(a)}}Yf(t,s,e,o)}else s=OT(n,t,e,o,r);return Dd(s)}U_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jl(t.pendingLanes);n!==0&&(N0(t,n|1),nn(t,Xe()),!(ye&6)&&(el=Xe()+500,si()))}break;case 13:Hi(function(){var r=eo(e,1);if(r!==null){var o=Wt();Yn(r,e,1,o)}}),sy(e,1)}};T0=function(e){if(e.tag===13){var t=eo(e,134217728);if(t!==null){var n=Wt();Yn(t,e,134217728,n)}sy(e,134217728)}};H_=function(e){if(e.tag===13){var t=zo(e),n=eo(e,t);if(n!==null){var r=Wt();Yn(n,e,t,r)}sy(e,t)}};V_=function(){return Ce};K_=function(e,t){var n=Ce;try{return Ce=e,t()}finally{Ce=n}};km=function(e,t,n){switch(t){case"input":if(ym(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Wf(r);if(!o)throw Error(B(90));E_(r),ym(r,o)}}}break;case"textarea":C_(e,n);break;case"select":t=n.value,t!=null&&Ds(e,!!n.multiple,t,!1)}};R_=ty;P_=Hi;var IT={usingClientEntryPoint:!1,Events:[Cu,Cs,Wf,O_,I_,ty]},Ul={findFiberByHostInstance:Si,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},RT={bundleType:Ul.bundleType,version:Ul.version,rendererPackageName:Ul.rendererPackageName,rendererConfig:Ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:so.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=L_(e),e===null?null:e.stateNode},findFiberByHostInstance:Ul.findFiberByHostInstance||$T,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{Ff=_c.inject(RT),wr=_c}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IT;xn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ay(t))throw Error(B(200));return TT(e,t,null,n)};xn.createRoot=function(e,t){if(!ay(e))throw Error(B(299));var n=!1,r="",o=mS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=iy(e,1,!1,null,null,n,!1,r,o),e[Xr]=t.current,Aa(e.nodeType===8?e.parentNode:e),new ly(t)};xn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=L_(t),e=e===null?null:e.stateNode,e};xn.flushSync=function(e){return Hi(e)};xn.hydrate=function(e,t,n){if(!Jf(t))throw Error(B(200));return qf(null,e,t,!0,n)};xn.hydrateRoot=function(e,t,n){if(!ay(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=mS;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=hS(t,null,e,1,n??null,o,!1,i,s),e[Xr]=t.current,Aa(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Qf(t)};xn.render=function(e,t,n){if(!Jf(t))throw Error(B(200));return qf(null,e,t,!1,n)};xn.unmountComponentAtNode=function(e){if(!Jf(e))throw Error(B(40));return e._reactRootContainer?(Hi(function(){qf(null,null,e,!1,function(){e._reactRootContainer=null,e[Xr]=null})}),!0):!1};xn.unstable_batchedUpdates=ty;xn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jf(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return qf(e,t,n,!1,r)};xn.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=xn})($N);const Md=l_(zi);var ex=zi;um.createRoot=ex.createRoot,um.hydrateRoot=ex.hydrateRoot;const Sc=[0,0],ph=(e,t)=>[t.left-e.left,t.top-e.top],hh=(e,t)=>[t.width-e.width,t.height-e.height],mh=(e,t)=>[e[0]+t[0],e[1]+t[1]],PT=(e,t)=>{const n=(s,l)=>{var u;if(!e.rectMap||l===null)return;const a=(u=e.rectMap.get(s??"unsorted"))==null?void 0:u.get(l);return a||console.warn("Draggable not found.",e.rectMap,s,l),a},r=w.useMemo(()=>{if(!e.source)return null;const{source:s,destination:l,getSourceList:a,getDestinationList:u}=e,c=u(),d=a(),f=t(),p=s.index,h=l.index;return!c||h===null||s.type!==c.type?null:{isTarget:({uniqueListId:y,index:x})=>y&&c.id===e.getList(y).id&&p===x,isTargetList:({uniqueListId:y})=>y&&c.id===e.getList(y).id,isShadowTarget:({uniqueListId:y,isShadow:x})=>y&&f&&c.id===e.getList(y).id&&x,isAboveAtHome:({uniqueListId:y,index:x})=>f&&p!==null&&y&&x!==null&&(d==null?void 0:d.id)===e.getList(y).id&&p<x,isAboveAtVisit:({uniqueListId:y,index:x})=>f&&y&&x!==null&&(c==null?void 0:c.id)===e.getList(y).id&&h<=x,isBetweenLow:({uniqueListId:y,index:x},g=p)=>y&&g!==null&&x!==null&&c.id===e.getList(y).id&&h<=x&&x<g,isBetweenHigh:({uniqueListId:y,index:x},g=p)=>y&&g!==null&&x!==null&&c.id===e.getList(y).id&&g<x&&x<=h,direction:f?0:p<h?1:-1}},[e.mode,e.source,e.destination]),o=s=>{var d;let l;if(!e.source||!r)return;const a=e.getList(s),u=t(),c=e.getDestinationList().id===a.id?a:e.getDestinationList();if(u){let f=-1;(d=e.rectMap.get(c.uniqueId))==null||d.forEach((p,h)=>{h>f&&(l=p,f=h)})}else{const f=e.getSourceList(),p=f.id===a.id?a:f;l=n(p.uniqueId,e.source.index)}return l};return w.useCallback(s=>{if(!e.source||!e.rectMap||!r||!s.uniqueListId)return Sc;console.log("IDENTIFIER",s);const l=o(s.uniqueListId);if(!l)return Sc;const a=t(),u=!a&&e.source.index<e.destination.index;if(!a&&r.isTarget(s)||a&&r.isShadowTarget(s)){const d=n(s.uniqueListId,e.destination.index);return mh(ph(l.rect,d.rect),u?hh(l.rect,d.rect):[0,0])}const c=n(s.uniqueListId,s.index);if(!a&&r.isBetweenLow(s)||a&&r.isAboveAtVisit(s)){const d=n(s.uniqueListId,s.index+1);return d?mh(ph(c.rect,d.rect),hh(c.rect,l.rect)):Sc}if(!a&&r.isBetweenHigh(s)||a&&r.isAboveAtHome(s)){const d=n(s.uniqueListId,s.index-1);return mh(ph(c.rect,d.rect),a?[0,0]:hh(l.rect,d.rect))}return Sc},[e.source,e.rectMap,r])};function tx(e){const t=w.useRef(e?new Map:new Set),n=w.useCallback(r=>e?(t.current.set(e(r),r),()=>{t.current.delete(e(r))}):(t.current.add(r),()=>{t.current.delete(r)}),[]);return[t,n]}const nx=e=>{const t=[];return e.forEach(n=>n.forEach(r=>t.push(r))),t},DT=()=>{const[e,t]=tx(),[n,r]=tx(E=>E.uniqueId),o=E=>{const b=n.current.get(E);if(!b)throw new Error(`List not subscribed: ${E}`);return b},[i,s]=w.useState(null),[l,a]=w.useState(null),[u,c]=w.useState(null),[d,f]=w.useState(null),[p,h]=w.useState(null);l!==null&&p===null&&(()=>{h(()=>{const E=new Map;let b=0;return e.current.forEach(k=>{const O={canReceive:k.canReceive,disabled:k.disabled,identifier:k.identifier,rect:k.getBoundingClientRect()},$=k.identifier.uniqueListId??"unsorted",R=O.identifier.index??b++,T=E.get($);T?T.set(R,O):E.set($,new Map([[R,O]]))}),E})})();const x=w.useCallback(()=>{s(null),a(null),c(null),f(null),h(null)},[]),g={setMode:s,setSource:a,setDestination:c,setShadow:f,resetState:x,registerDraggable:t,registerList:r},v=w.useMemo(()=>({shadow:d,mode:i,source:l,getSourceList:()=>l!=null&&l.uniqueListId?o(l.uniqueListId):void 0,destination:u,getDestinationList:()=>u!=null&&u.uniqueListId?o(u.uniqueListId):void 0,rectMap:p,getList:o}),[i,l,u,p]),S=w.useMemo(()=>({item:null,source:null,destination:null,rectMap:null,getSourceList:()=>{},getDestinationList:()=>{},shadow:d,mode:i,getList:o}),[d,i]);return!l||!u||!i||!p?[S,g]:[v,g]},MT=(e,t)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),LT=e=>({x:e.left+e.width/2,y:e.top+e.height/2}),AT=(e,t)=>{w.useEffect(()=>{if(!e.rectMap)return;const o=nx(e.rectMap).filter(s=>!s.disabled&&s.canReceive[e.mode]({type:e.source.type,item:e.shadow.item})!=="ignore"),i=s=>{if(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=e.mode??"move"),!o||o.length===0)return;const l={x:s.clientX,y:s.clientY};let a=null,u=99999;o.forEach(c=>{const d=MT(LT(c.rect),l);d<u&&(u=d,a=c.identifier)}),a!==e.destination&&t.setDestination(a)};return document.addEventListener("dragover",i),()=>{document.removeEventListener("dragover",i)}},[e.rectMap,e.mode,e.destination,e.shadow]),w.useEffect(()=>{const o=i=>{i.preventDefault()};return document.addEventListener("drop",o),()=>{document.removeEventListener("drop",o)}},[]);const n=w.useCallback((o,i,s)=>{zi.flushSync(()=>{t.setMode(s),t.setShadow({item:i,type:o.type})}),t.setSource(o),t.setDestination(o)},[]),r=w.useCallback(()=>{if(t.resetState(),!e.source)return;const{mode:o,source:i,destination:s}=e;if(o==="move"){const l=i.uniqueListId?e.getList(i.uniqueListId):void 0,a=s.uniqueListId?e.getList(s.uniqueListId):void 0,u={type:"add",index:s.index,item:e.shadow.item},c={type:"delete",index:i.index};l===a?l==null||l.onChange([c,u]):(l==null||l.onChange([c]),a==null||a.onChange([u]))}else if(o==="link"){const l=nx(e.rectMap).find(d=>d.identifier.uniqueId===s.uniqueId);if((l==null?void 0:l.canReceive.link({type:e.source.type,item:e.shadow.item}))==="reject")return;const u=s.uniqueListId?e.getList(s.uniqueListId):void 0,c={type:"add",index:s.index,item:e.shadow.item};u==null||u.onChange([c])}},[e.source,e.rectMap,e.destination,e.mode]);return{startDragging:n,stopDragging:r}},pl=w.createContext(null);function FT({children:e}){const[t,n]=DT(),r=()=>{var l,a;return t.source&&t.getDestinationList()?((l=t.getDestinationList())==null?void 0:l.id)!==((a=t.getSourceList())==null?void 0:a.id)||t.source.index===null:!1},o=PT(t,r),i=AT(t,n);console.log("DRAG",t.source,t.destination);const s=w.useMemo(()=>({getDelta:o,mode:t.mode,source:t.source,destination:t.destination,getSourceList:t.getSourceList,getDestinationList:t.getDestinationList,getIsCrossList:r,registerDraggable:n.registerDraggable,registerList:n.registerList,shadow:t.shadow,events:i}),[o,t,i.startDragging,i.stopDragging]);return m(pl.Provider,{value:s,children:e})}function zT(e){return"nodeType"in e}function jT(e){return Object.prototype.toString.call(e)==="[object Window]"}function BT(e){var t;return e?jT(e)?e:zT(e)?((t=e.ownerDocument)==null?void 0:t.defaultView)??window:window:window}function WT(e){return BT(e).frameElement}const UT=(e,t)=>({...e,left:e.left+t.left,right:e.right+t.left,top:e.top+t.top,bottom:e.bottom+t.top});function gS(e){var r,o,i;if(!e.current)return{top:0,left:0,bottom:0,right:0,width:0,height:0};const t=((o=(r=WT(e.current))==null?void 0:r.getBoundingClientRect)==null?void 0:o.call(r))??{left:0,top:0},n=(i=e.current)==null?void 0:i.getBoundingClientRect();return UT({top:n.top,right:n.right,bottom:n.bottom,left:n.left,height:n.height,width:n.width,isShadow:!1},t)}const uy=()=>Math.random().toString(36).slice(2,10),yS=({id:e,type:t,onChange:n})=>{const r=w.useContext(pl);if(!r)throw new Error("dnd.list must be within dnd.context");const[o]=w.useState(()=>uy());return w.useEffect(()=>r.registerList({id:e,uniqueId:o,type:t,onChange:n}),[e,o,t,n]),o},Xf=w.createContext(null);function Nu({id:e,children:t,type:n,canReceive:r,disabled:o=!1,onChange:i}){if(!w.useContext(pl))throw new Error("dnd.list must be within dnd.context");const l=yS({id:e,type:n,onChange:i}),a=w.useMemo(()=>({id:e,uniqueId:l,type:n,canReceive:r,disabled:o}),[e,r,n,o]);return m(Xf.Provider,{value:a,children:t})}function vS({children:e}){return m(Xf.Provider,{value:null,children:e})}const xS=w.createContext(!1);function ep({children:e}){var r,o,i;const t=w.useContext(pl),n=w.useContext(Xf);if(!t||!n)throw new Error("DropShadow must be placed within the DragDropContext and Sortable components");return t.mode!=="move"||!((r=t.shadow)!=null&&r.type)||!((o=t.shadow)!=null&&o.item)||n.id===((i=t.getSourceList())==null?void 0:i.id)||n.disabled||n.canReceive&&n.canReceive.move({type:t.shadow.type,item:t.shadow.item})==="ignore"?null:m(xS.Provider,{value:!0,children:e(t.shadow.item)})}const HT=()=>w.useContext(xS),wS={link:()=>"ignore",move:()=>"ignore"},_S=({mode:e,ref:t,identifier:n,events:r,item:o})=>e?{draggable:"true",onDragStart:i=>{if(!e)return;if(i.stopPropagation(),i.dataTransfer&&(i.dataTransfer.dropEffect="move",t.current)){const{left:l,top:a}=t.current.getBoundingClientRect(),{clientX:u,clientY:c}=i;let d=1;i.dataTransfer.setDragImage(t.current,(u-l)*d,(c-a)*d)}const s=typeof o=="function"?o():o;r.startDragging(n,s,e)},onDragEnd:i=>{i.stopPropagation(),r.stopDragging()}}:void 0,SS=({ctx:e,listId:t,isShadow:n,isSortable:r,canReceive:o,identifier:i})=>{var p,h,y,x,g,v;const s=Boolean(e.source)&&e.mode==="move",l=Boolean(e.source)&&e.mode==="link",a=!n&&(i.id&&((p=e.source)==null?void 0:p.id)===i.id||((h=e.source)==null?void 0:h.uniqueId)===i.uniqueId),u=i.id&&((y=e.destination)==null?void 0:y.id)===i.id||((x=e.source)==null?void 0:x.uniqueId)===i.uniqueId,c=t?((g=e.getDestinationList())==null?void 0:g.id)===t:!1,d=e.mode==="link"&&e.source&&((v=e.shadow)!=null&&v.item)?o.link({type:e.source.type,item:e.shadow.item}):"ignore",f=e.mode==="move"&&r?e.getDelta({...i,isShadow:Boolean(n)}):[0,0];return{isShadow:Boolean(n),isDragging:s,isLinking:l,isDragged:a,isTarget:u,isTargetList:c,mode:e.mode,crossList:e.getIsCrossList(),delta:f,acceptsLink:d==="accept",rejectsLink:d==="reject"}};function lo({type:e,id:t,item:n,canReceive:r,mode:o,onChange:i}){const s=w.useContext(pl);let l=null;if(i&&(l=yS({id:t,type:e,onChange:i})),!s)throw new Error("dnd.item must be within dnd.context");const[a]=w.useState(()=>uy()),u=w.useRef(null),c=!1,d=r??wS;let f=o??null;const p=w.useMemo(()=>({type:e,id:t??null,uniqueId:a,uniqueListId:l??null,index:null}),[e,t,l]),h=w.useMemo(()=>({identifier:p,disabled:c,canReceive:d,getBoundingClientRect:()=>gS(u)}),[p,d,c]);w.useLayoutEffect(()=>s.registerDraggable(h),[h]);const y=w.useMemo(()=>_S({identifier:p,item:n,mode:f,events:s.events,ref:u}),[p,n,f,s.events.startDragging,s.events.stopDragging]),x=w.useMemo(()=>SS({ctx:s,listId:l?t:null,isShadow:!1,isSortable:!1,canReceive:d,identifier:p}),[s,d,p]);return{ref:u,dragHandleProps:y,state:x}}function hl({type:e,id:t,index:n,item:r,canReceive:o,mode:i}){const s=w.useContext(pl),l=HT();if(l&&(r=void 0,i=void 0,o=void 0),!s)throw new Error("dnd.item must be within dnd.context");const[a]=w.useState(()=>uy()),u=w.useRef(null),c=w.useContext(Xf);if(!c)throw new Error("useSortableItem must be used within the Sortable component.");if(!(o??(c==null?void 0:c.canReceive)))throw new Error("When using a Sortable, canReceive must be specified in list or item.");const d=e??c.type,f=c.disabled??!1,p=o??c.canReceive??wS;let h=i??(c?"move":null);if(!d)throw new Error("type must be specified in useDraggable props or parent Sortable component.");const y=w.useMemo(()=>({type:d,id:t??null,uniqueId:a,uniqueListId:c.uniqueId,index:n??null}),[d,t,c,n]),x=w.useMemo(()=>({identifier:y,disabled:f,canReceive:p,getBoundingClientRect:()=>gS(u)}),[y,p,f]);w.useLayoutEffect(()=>s.registerDraggable(x),[x]);const g=w.useMemo(()=>_S({identifier:y,item:r,mode:h,events:s.events,ref:u}),[y,r,h,s.events.startDragging,s.events.stopDragging]),v=w.useMemo(()=>SS({ctx:s,listId:c.id,isSortable:!0,isShadow:l,canReceive:p,identifier:y}),[s,c,l,p,y]);return{ref:u,dragHandleProps:f?{}:g,state:v}}function ES(){return Math.random().toString(36).substring(2,10)}function cy(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function kS(e,t){let n=typeof e=="string"?cy(e):{...e},r=e===""||n.pathname==="",o=r?"/":n.pathname,i=VT(n,t),s=o&&o!=="/"&&o.endsWith("/"),l=r&&t.endsWith("/");return!i.pathname.endsWith("/")&&(s||l)&&(i.pathname+="/"),i}function VT(e,t="/"){let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?cy(e):e;return{pathname:n?n.startsWith("/")?n:KT(n,t):t,search:GT(r),hash:ZT(o)}}function KT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}const GT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ZT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dy({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}const rx="popstate";function YT(e={}){let{window:t=document.defaultView}=e,n=t.history,r="POP",o=null;function i(u){r="PUSH";let c=ox(a.location,u),d=ix(c),f=a.createHref(c);try{n.pushState(d,"",f)}catch{t.location.assign(f)}o&&o({action:r,location:c})}function s(u){r="REPLACE";let c=ox(a.location,u),d=ix(c),f=a.createHref(c);n.replaceState(d,"",f),o&&o({action:r,location:c})}function l(){r="POP",o&&o({action:r,location:a.location})}let a={get action(){return r},get location(){return QT(t,n)},listen(u){if(o)throw new Error("A history only accepts one active listener");return t.addEventListener(rx,l),o=u,()=>{t.removeEventListener(rx,l),o=null}},createHref(u){return typeof u=="string"?u:dy(u)},push:i,replace:s,go(u){return n.go(u)}};return a}function QT(e,t){let{pathname:n,search:r,hash:o}=e.location;return{pathname:n,search:r,hash:o,state:t.state&&t.state.usr||null,key:t.state&&t.state.key||"default"}}function ox(e,t){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",key:ES(),state:null,...typeof t=="string"?cy(t):t}}function ix(e){return{usr:e.state,key:e.key}}const CS=w.createContext(null);function JT(){return w.useContext(CS)}const bS=w.createContext(null);function _n(){return w.useContext(bS).location}function ml(){let e=JT(),{pathname:t}=_n(),n=w.useRef(!1);return w.useEffect(()=>{n.current=!0}),w.useCallback((o,i={})=>{if(!n.current)return;if(typeof o=="number"){e.go(o);return}let s=kS(o,t);(i.replace?e.replace:e.push)({...s,key:ES(),state:i.state??null})},[t])}function qT({children:e,window:t}){const n=w.useRef();n.current==null&&(n.current=YT({window:t}));const r=n.current;let[o,i]=w.useState({action:r.action,location:r.location});return w.useLayoutEffect(()=>r.listen(i),[history]),m(CS.Provider,{value:r,children:m(bS.Provider,{value:o,children:e})})}function NS(e){let{pathname:t}=_n();return w.useMemo(()=>dy(kS(e,t)),[e,t])}const vr=w.forwardRef(({onClick:e,reload:t,replace:n,target:r,to:o,state:i,scroll:s=!0,...l},a)=>{const u=NS(o),c=XT(o,{replace:n,target:r,state:i});function d(f){e&&e(f),f.defaultPrevented||c(f)}return m("a",{...l,href:u,onClick:t?e:d,ref:a,target:r})});function XT(e,{target:t,replace:n,state:r}={}){const o=ml(),i=_n(),s=NS(e);return w.useCallback(l=>{if(t$(l,t)){l.preventDefault();let a=n??dy(i)===s;o(e,{replace:a,state:r})}},[i,o,s,n,t,e])}function e$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function t$(e,t){return e.button===0&&(!t||t==="_self")&&!e$(e)}var rg={},n$={get exports(){return rg},set exports(e){rg=e}},TS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tl=_;function r$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var o$=typeof Object.is=="function"?Object.is:r$,i$=tl.useState,s$=tl.useEffect,l$=tl.useLayoutEffect,a$=tl.useDebugValue;function u$(e,t){var n=t(),r=i$({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return l$(function(){o.value=n,o.getSnapshot=t,gh(o)&&i({inst:o})},[e,n,t]),s$(function(){return gh(o)&&i({inst:o}),e(function(){gh(o)&&i({inst:o})})},[e]),a$(n),n}function gh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o$(e,n)}catch{return!0}}function c$(e,t){return t()}var d$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c$:u$;TS.useSyncExternalStore=tl.useSyncExternalStore!==void 0?tl.useSyncExternalStore:d$;(function(e){e.exports=TS})(n$);const Ur=new WeakMap,sx={},$o=()=>{},Pn=$o(),Xc=Object,Be=e=>e===Pn,yr=e=>typeof e=="function",no=(e,t)=>({...e,...t}),fy="undefined",tp=typeof window!=fy,og=typeof document!=fy,f$=()=>tp&&typeof window.requestAnimationFrame!=fy,$S=(e,t)=>{const n=Ur.get(e);return[()=>e.get(t)||sx,r=>{const o=e.get(t);n[5](t,no(o,r),o||sx)},n[6]]},Ec=new WeakMap;let p$=0;const Ka=e=>{const t=typeof e,n=e&&e.constructor,r=n==Date;let o,i;if(Xc(e)===e&&!r&&n!=RegExp){if(o=Ec.get(e),o)return o;if(o=++p$+"~",Ec.set(e,o),n==Array){for(o="@",i=0;i<e.length;i++)o+=Ka(e[i])+",";Ec.set(e,o)}if(n==Xc){o="#";const s=Xc.keys(e).sort();for(;!Be(i=s.pop());)Be(e[i])||(o+=i+":"+Ka(e[i])+",");Ec.set(e,o)}}else o=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o};let ig=!0;const h$=()=>ig,[sg,lg]=tp&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[$o,$o],m$=()=>{const e=og&&document.visibilityState;return Be(e)||e!=="hidden"},g$=e=>(og&&document.addEventListener("visibilitychange",e),sg("focus",e),()=>{og&&document.removeEventListener("visibilitychange",e),lg("focus",e)}),y$=e=>{const t=()=>{ig=!0,e()},n=()=>{ig=!1};return sg("online",t),sg("offline",n),()=>{lg("online",t),lg("offline",n)}},v$={isOnline:h$,isVisible:m$},x$={initFocus:g$,initReconnect:y$},lx=!w.useId,Ga=!tp||"Deno"in window,w$=e=>f$()?window.requestAnimationFrame(e):setTimeout(e,1),ed=Ga?_.useEffect:_.useLayoutEffect,yh=typeof navigator<"u"&&navigator.connection,ax=!Ga&&yh&&(["slow-2g","2g"].includes(yh.effectiveType)||yh.saveData),py=e=>{if(yr(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Ka(e):"",[e,t]};let _$=0;const ag=()=>++_$,OS=0,IS=1,RS=2;var vh={__proto__:null,FOCUS_EVENT:OS,RECONNECT_EVENT:IS,MUTATE_EVENT:RS};async function PS(...e){const[t,n,r,o]=e,i=no({populateCache:!0,throwOnError:!0},typeof o=="boolean"?{revalidate:o}:o||{});let s=i.populateCache;const l=i.rollbackOnError;let a=i.optimisticData;const u=i.revalidate!==!1,c=p=>typeof l=="function"?l(p):l!==!1,d=i.throwOnError;if(yr(n)){const p=n,h=[],y=t.keys();for(let x=y.next();!x.done;x=y.next()){const g=x.value;!g.startsWith("$inf$")&&p(t.get(g)._k)&&h.push(g)}return Promise.all(h.map(f))}return f(n);async function f(p){const[h]=py(p);if(!h)return;const[y,x]=$S(t,h),[g,v,S]=Ur.get(t),E=g[h],b=()=>u&&(delete S[h],E&&E[0])?E[0](RS).then(()=>y().data):y().data;if(e.length<3)return b();let k=r,O;const $=ag();v[h]=[$,0];const R=!Be(a),T=y(),D=T.data,F=T._c,H=Be(F)?D:F;if(R&&(a=yr(a)?a(H):a,x({data:a,_c:H})),yr(k))try{k=k(H)}catch(K){O=K}if(k&&yr(k.then))if(k=await k.catch(K=>{O=K}),$!==v[h][0]){if(O)throw O;return k}else O&&R&&c(O)&&(s=!0,k=H,x({data:k,_c:Pn}));s&&(O||(yr(s)&&(k=s(k,H)),x({data:k,_c:Pn}))),v[h][1]=ag();const ee=await b();if(x({_c:Pn}),O){if(d)throw O;return}return s?ee:k}}const ux=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},DS=(e,t)=>{if(!Ur.has(e)){const n=no(x$,t),r={},o=PS.bind(Pn,e);let i=$o;const s={},l=(c,d)=>{const f=s[c]||[];return s[c]=f,f.push(d),()=>f.splice(f.indexOf(d),1)},a=(c,d,f)=>{e.set(c,d);const p=s[c];if(p)for(let h=p.length;h--;)p[h](f,d)},u=()=>{if(!Ur.has(e)&&(Ur.set(e,[r,{},{},{},o,a,l]),!Ga)){const c=n.initFocus(setTimeout.bind(Pn,ux.bind(Pn,r,OS))),d=n.initReconnect(setTimeout.bind(Pn,ux.bind(Pn,r,IS)));i=()=>{c&&c(),d&&d(),Ur.delete(e)}}};return u(),[e,o,u,i]}return[e,Ur.get(e)[4]]},S$=(e,t,n,r,o)=>{const i=n.errorRetryCount,s=o.retryCount,l=~~((Math.random()+.5)*(1<<(s<8?s:8)))*n.errorRetryInterval;!Be(i)&&s>i||setTimeout(r,l,o)},E$=(e,t)=>Ka(e)==Ka(t),[hy,k$]=DS(new Map),MS=no({onLoadingSlow:$o,onSuccess:$o,onError:$o,onErrorRetry:S$,onDiscarded:$o,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ax?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:ax?5e3:3e3,compare:E$,isPaused:()=>!1,cache:hy,mutate:k$,fallback:{}},v$),LS=(e,t)=>{const n=no(e,t);if(t){const{use:r,fallback:o}=e,{use:i,fallback:s}=t;r&&i&&(n.use=r.concat(i)),o&&s&&(n.fallback=no(o,s))}return n},ug=_.createContext({}),C$=e=>{const{value:t}=e,n=_.useContext(ug),r=yr(t),o=_.useMemo(()=>r?t(n):t,[r,n,t]),i=_.useMemo(()=>r?o:LS(n,o),[r,n,o]),s=o&&o.provider,[l]=_.useState(()=>s?DS(s(i.cache||hy),o):Pn);return l&&(i.cache=l[0],i.mutate=l[1]),ed(()=>{if(l)return l[2]&&l[2](),l[3]},[]),_.createElement(ug.Provider,no(e,{value:i}))},AS=tp&&window.__SWR_DEVTOOLS_USE__,b$=AS?window.__SWR_DEVTOOLS_USE__:[],N$=()=>{AS&&(window.__SWR_DEVTOOLS_REACT__=w)},T$=e=>yr(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],Tu=()=>no(MS,_.useContext(ug)),$$=e=>(t,n,r)=>e(t,n&&((...i)=>{const s=py(t)[0],[,,,l]=Ur.get(hy),a=l[s];return a?(delete l[s],a):n(...i)}),r),O$=b$.concat($$),I$=e=>function(...n){const r=Tu(),[o,i,s]=T$(n),l=LS(r,s);let a=e;const{use:u}=l,c=(u||[]).concat(O$);for(let d=c.length;d--;)a=c[d](a);return a(o,i||l.fetcher||null,l)},R$=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o>=0&&(r[o]=r[r.length-1],r.pop())}};N$();const xh={dedupe:!0},P$=(e,t,n)=>{const{cache:r,compare:o,suspense:i,fallbackData:s,revalidateOnMount:l,refreshInterval:a,refreshWhenHidden:u,refreshWhenOffline:c,keepPreviousData:d}=n,[f,p,h]=Ur.get(r),[y,x]=py(e),g=_.useRef(!1),v=_.useRef(!1),S=_.useRef(y),E=_.useRef(t),b=_.useRef(n),k=()=>b.current,O=()=>k().isVisible()&&k().isOnline(),[$,R,T]=$S(r,y),D=_.useRef({}).current,F=Be(s)?n.fallback[y]:s,H=(ke,Ae)=>{let we=!0;for(const st in D){const tt=st;o(Ae[tt],ke[tt])||tt==="data"&&Be(ke[tt])&&o(Ae[tt],se)||(we=!1)}return we},ee=_.useMemo(()=>{const ke=(()=>!y||!t?!1:Be(l)?!(k().isPaused()||i):l)(),Ae=()=>{const st=$(),tt=no(st);return delete tt._k,ke?{isValidating:!0,isLoading:!0,...tt}:tt};let we=Ae();return()=>{const st=Ae();return H(st,we)?we:we=st}},[r,y]),K=rg.useSyncExternalStore(_.useCallback(ke=>T(y,(Ae,we)=>{H(Ae,we)||ke()}),[r,y]),ee,ee),A=!g.current,z=K.data,I=Be(z)?F:z,M=K.error,U=_.useRef(I),se=d?Be(z)?U.current:z:I,V=(()=>A&&!Be(l)?l:k().isPaused()?!1:i?Be(I)?!1:n.revalidateIfStale:Be(I)||n.revalidateIfStale)(),ue=!!(y&&t&&A&&V),Se=Be(K.isValidating)?ue:K.isValidating,it=Be(K.isLoading)?ue:K.isLoading,Le=_.useCallback(async ke=>{const Ae=E.current;if(!y||!Ae||v.current||k().isPaused())return!1;let we,st,tt=!0;const fi=ke||{},Mr=!h[y]||!fi.dedupe,ho=()=>lx?!v.current&&y===S.current&&g.current:y===S.current,be={isValidating:!1,isLoading:!1},dt=()=>{R(be)},ft=()=>{const pt=h[y];pt&&pt[1]===st&&delete h[y]},an={isValidating:!0};Be($().data)&&(an.isLoading=!0);try{if(Mr&&(R(an),n.loadingTimeout&&Be($().data)&&setTimeout(()=>{tt&&ho()&&k().onLoadingSlow(y,n)},n.loadingTimeout),h[y]=[Ae(x),ag()]),[we,st]=h[y],we=await we,Mr&&setTimeout(ft,n.dedupingInterval),!h[y]||h[y][1]!==st)return Mr&&ho()&&k().onDiscarded(y),!1;be.error=Pn;const pt=p[y];if(!Be(pt)&&(st<=pt[0]||st<=pt[1]||pt[1]===0))return dt(),Mr&&ho()&&k().onDiscarded(y),!1;const Ge=$().data;be.data=o(Ge,we)?Ge:we,Mr&&ho()&&k().onSuccess(we,y,n)}catch(pt){ft();const Ge=k(),{shouldRetryOnError:Zt}=Ge;Ge.isPaused()||(be.error=pt,Mr&&ho()&&(Ge.onError(pt,y,Ge),(Zt===!0||yr(Zt)&&Zt(pt))&&O()&&Ge.onErrorRetry(pt,y,Ge,Le,{retryCount:(fi.retryCount||0)+1,dedupe:!0})))}return tt=!1,dt(),!0},[y,r]),Cn=_.useCallback((...ke)=>PS(r,S.current,...ke),[]);if(ed(()=>{E.current=t,b.current=n,Be(z)||(U.current=z)}),ed(()=>{if(!y)return;const ke=Le.bind(Pn,xh);let Ae=0;const st=R$(y,f,tt=>{if(tt==vh.FOCUS_EVENT){const fi=Date.now();k().revalidateOnFocus&&fi>Ae&&O()&&(Ae=fi+k().focusThrottleInterval,ke())}else if(tt==vh.RECONNECT_EVENT)k().revalidateOnReconnect&&O()&&ke();else if(tt==vh.MUTATE_EVENT)return Le()});return v.current=!1,S.current=y,g.current=!0,R({_k:x}),V&&(Be(I)||Ga?ke():w$(ke)),()=>{v.current=!0,st()}},[y]),ed(()=>{let ke;function Ae(){const st=yr(a)?a(I):a;st&&ke!==-1&&(ke=setTimeout(we,st))}function we(){!$().error&&(u||k().isVisible())&&(c||k().isOnline())?Le(xh).then(Ae):Ae()}return Ae(),()=>{ke&&(clearTimeout(ke),ke=-1)}},[a,u,c,y]),_.useDebugValue(se),i&&Be(I)&&y)throw!lx&&Ga?new Error("Fallback data is required when using suspense in SSR."):(E.current=t,b.current=n,v.current=!1,Be(M)?Le(xh):M);return{mutate:Cn,get data(){return D.data=!0,se},get error(){return D.error=!0,M},get isValidating(){return D.isValidating=!0,Se},get isLoading(){return D.isLoading=!0,it}}},D$=Xc.defineProperty(C$,"defaultValue",{value:MS});var np=I$(P$);function M$(e){return{success:!0,result:e}}function ga({message:e,detail:t,status:n}){return{success:!1,message:e,detail:t,status:n}}function FS(e){return e!==null&&typeof e=="object"&&"success"in e&&typeof e.success=="boolean"}function gl(e){return FS(e)&&e.success}function Sr(e){return FS(e)&&!e.success}function Ut(e,t){return gl(e)?e.result:t}const L$={method:"GET",credentials:"include"};function A$(){let e={};const t=new Promise((n,r)=>{e.resolve=n,e.reject=r});return Object.assign(t,e),t}function F$(e,t=250){let n=null,r=null,o=null,i=null;const s=async()=>{if(!n||!r)return;let u=Math.random().toString(16).slice(2);i=u;const c=await e(n);i===u&&(r.resolve(c),o=c,r=null)};let l=null;const a=u=>(r&&r.reject("aborted"),l&&clearTimeout(l),n=u,r=A$(),l=setTimeout(()=>{s(),l=null},t),r);return{fetch(u){return n===u&&(o||r)?o||r:a(u)}}}const z$=()=>{const e={},t={},n=async(o,i={})=>{var l;o in e||(e[o]=fetch(o,{...L$,...i.abortController&&{signal:i.abortController.signal},headers:{...i.headers,...(l=i.generateHeaders)==null?void 0:l.call(i)}}).then(a=>a.json()));const s=await e[o];return setTimeout(()=>{o in e&&delete e[o]}),s},r=async(o,i,s={})=>{i.key in t||(t[i.key]=F$(a=>n(a,s),i.ms));const l=await t[i.key].fetch(o);return i.key in t&&delete t[i.key],l};return{fetch:async(o,i={})=>i.throttle?r(o,i.throttle,i):n(o,i),delete:o=>o in e&&delete e[o]}},cg=z$();var j$=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var o=42;t[n]=o;for(n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,n);if(s.value!==o||s.enumerable!==!0)return!1}return!0},cx=typeof Symbol<"u"&&Symbol,B$=j$,W$=function(){return typeof cx!="function"||typeof Symbol!="function"||typeof cx("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:B$()},U$="Function.prototype.bind called on incompatible ",wh=Array.prototype.slice,H$=Object.prototype.toString,V$="[object Function]",K$=function(t){var n=this;if(typeof n!="function"||H$.call(n)!==V$)throw new TypeError(U$+n);for(var r=wh.call(arguments,1),o,i=function(){if(this instanceof o){var c=n.apply(this,r.concat(wh.call(arguments)));return Object(c)===c?c:this}else return n.apply(t,r.concat(wh.call(arguments)))},s=Math.max(0,n.length-r.length),l=[],a=0;a<s;a++)l.push("$"+a);if(o=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(i),n.prototype){var u=function(){};u.prototype=n.prototype,o.prototype=new u,u.prototype=null}return o},G$=K$,my=Function.prototype.bind||G$,Z$=my,Y$=Z$.call(Function.call,Object.prototype.hasOwnProperty),me,nl=SyntaxError,zS=Function,js=TypeError,_h=function(e){try{return zS('"use strict"; return ('+e+").constructor;")()}catch{}},Ri=Object.getOwnPropertyDescriptor;if(Ri)try{Ri({},"")}catch{Ri=null}var Sh=function(){throw new js},Q$=Ri?function(){try{return arguments.callee,Sh}catch{try{return Ri(arguments,"callee").get}catch{return Sh}}}():Sh,cs=W$(),pr=Object.getPrototypeOf||function(e){return e.__proto__},ys={},J$=typeof Uint8Array>"u"?me:pr(Uint8Array),Pi={"%AggregateError%":typeof AggregateError>"u"?me:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?me:ArrayBuffer,"%ArrayIteratorPrototype%":cs?pr([][Symbol.iterator]()):me,"%AsyncFromSyncIteratorPrototype%":me,"%AsyncFunction%":ys,"%AsyncGenerator%":ys,"%AsyncGeneratorFunction%":ys,"%AsyncIteratorPrototype%":ys,"%Atomics%":typeof Atomics>"u"?me:Atomics,"%BigInt%":typeof BigInt>"u"?me:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?me:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?me:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?me:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?me:Float32Array,"%Float64Array%":typeof Float64Array>"u"?me:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?me:FinalizationRegistry,"%Function%":zS,"%GeneratorFunction%":ys,"%Int8Array%":typeof Int8Array>"u"?me:Int8Array,"%Int16Array%":typeof Int16Array>"u"?me:Int16Array,"%Int32Array%":typeof Int32Array>"u"?me:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":cs?pr(pr([][Symbol.iterator]())):me,"%JSON%":typeof JSON=="object"?JSON:me,"%Map%":typeof Map>"u"?me:Map,"%MapIteratorPrototype%":typeof Map>"u"||!cs?me:pr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?me:Promise,"%Proxy%":typeof Proxy>"u"?me:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?me:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?me:Set,"%SetIteratorPrototype%":typeof Set>"u"||!cs?me:pr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?me:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":cs?pr(""[Symbol.iterator]()):me,"%Symbol%":cs?Symbol:me,"%SyntaxError%":nl,"%ThrowTypeError%":Q$,"%TypedArray%":J$,"%TypeError%":js,"%Uint8Array%":typeof Uint8Array>"u"?me:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?me:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?me:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?me:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?me:WeakMap,"%WeakRef%":typeof WeakRef>"u"?me:WeakRef,"%WeakSet%":typeof WeakSet>"u"?me:WeakSet};try{null.error}catch(e){var q$=pr(pr(e));Pi["%Error.prototype%"]=q$}var X$=function e(t){var n;if(t==="%AsyncFunction%")n=_h("async function () {}");else if(t==="%GeneratorFunction%")n=_h("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=_h("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&(n=pr(o.prototype))}return Pi[t]=n,n},dx={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},$u=my,Ld=Y$,eO=$u.call(Function.call,Array.prototype.concat),tO=$u.call(Function.apply,Array.prototype.splice),fx=$u.call(Function.call,String.prototype.replace),Ad=$u.call(Function.call,String.prototype.slice),nO=$u.call(Function.call,RegExp.prototype.exec),rO=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,oO=/\\(\\)?/g,iO=function(t){var n=Ad(t,0,1),r=Ad(t,-1);if(n==="%"&&r!=="%")throw new nl("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new nl("invalid intrinsic syntax, expected opening `%`");var o=[];return fx(t,rO,function(i,s,l,a){o[o.length]=l?fx(a,oO,"$1"):s||i}),o},sO=function(t,n){var r=t,o;if(Ld(dx,r)&&(o=dx[r],r="%"+o[0]+"%"),Ld(Pi,r)){var i=Pi[r];if(i===ys&&(i=X$(r)),typeof i>"u"&&!n)throw new js("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:o,name:r,value:i}}throw new nl("intrinsic "+t+" does not exist!")},gy=function(t,n){if(typeof t!="string"||t.length===0)throw new js("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new js('"allowMissing" argument must be a boolean');if(nO(/^%?[^%]*%?$/,t)===null)throw new nl("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=iO(t),o=r.length>0?r[0]:"",i=sO("%"+o+"%",n),s=i.name,l=i.value,a=!1,u=i.alias;u&&(o=u[0],tO(r,eO([0,1],u)));for(var c=1,d=!0;c<r.length;c+=1){var f=r[c],p=Ad(f,0,1),h=Ad(f,-1);if((p==='"'||p==="'"||p==="`"||h==='"'||h==="'"||h==="`")&&p!==h)throw new nl("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(a=!0),o+="."+f,s="%"+o+"%",Ld(Pi,s))l=Pi[s];else if(l!=null){if(!(f in l)){if(!n)throw new js("base intrinsic for "+t+" exists, but the property is not available.");return}if(Ri&&c+1>=r.length){var y=Ri(l,f);d=!!y,d&&"get"in y&&!("originalValue"in y.get)?l=y.get:l=l[f]}else d=Ld(l,f),l=l[f];d&&!a&&(Pi[s]=l)}}return l},dg={},lO={get exports(){return dg},set exports(e){dg=e}};(function(e){var t=my,n=gy,r=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),i=n("%Reflect.apply%",!0)||t.call(o,r),s=n("%Object.getOwnPropertyDescriptor%",!0),l=n("%Object.defineProperty%",!0),a=n("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}e.exports=function(d){var f=i(t,o,arguments);if(s&&l){var p=s(f,"length");p.configurable&&l(f,"length",{value:1+a(0,d.length-(arguments.length-1))})}return f};var u=function(){return i(t,r,arguments)};l?l(e.exports,"apply",{value:u}):e.exports.apply=u})(lO);var jS=gy,BS=dg,aO=BS(jS("String.prototype.indexOf")),uO=function(t,n){var r=jS(t,!!n);return typeof r=="function"&&aO(t,".prototype.")>-1?BS(r):r};const cO={},dO=Object.freeze(Object.defineProperty({__proto__:null,default:cO},Symbol.toStringTag,{value:"Module"})),fO=iN(dO);var yy=typeof Map=="function"&&Map.prototype,Eh=Object.getOwnPropertyDescriptor&&yy?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Fd=yy&&Eh&&typeof Eh.get=="function"?Eh.get:null,px=yy&&Map.prototype.forEach,vy=typeof Set=="function"&&Set.prototype,kh=Object.getOwnPropertyDescriptor&&vy?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,zd=vy&&kh&&typeof kh.get=="function"?kh.get:null,hx=vy&&Set.prototype.forEach,pO=typeof WeakMap=="function"&&WeakMap.prototype,ya=pO?WeakMap.prototype.has:null,hO=typeof WeakSet=="function"&&WeakSet.prototype,va=hO?WeakSet.prototype.has:null,mO=typeof WeakRef=="function"&&WeakRef.prototype,mx=mO?WeakRef.prototype.deref:null,gO=Boolean.prototype.valueOf,yO=Object.prototype.toString,vO=Function.prototype.toString,xO=String.prototype.match,xy=String.prototype.slice,Oo=String.prototype.replace,wO=String.prototype.toUpperCase,gx=String.prototype.toLowerCase,WS=RegExp.prototype.test,yx=Array.prototype.concat,hr=Array.prototype.join,_O=Array.prototype.slice,vx=Math.floor,fg=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ch=Object.getOwnPropertySymbols,pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,rl=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Lt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===rl||"symbol")?Symbol.toStringTag:null,US=Object.prototype.propertyIsEnumerable,xx=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function wx(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||WS.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-vx(-e):vx(e);if(r!==e){var o=String(r),i=xy.call(t,o.length+1);return Oo.call(o,n,"$&_")+"."+Oo.call(Oo.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Oo.call(t,n,"$&_")}var hg=fO,_x=hg.custom,Sx=VS(_x)?_x:null,SO=function e(t,n,r,o){var i=n||{};if(So(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(So(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=So(i,"customInspect")?i.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(So(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(So(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return GS(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var a=String(t);return l?wx(t,a):a}if(typeof t=="bigint"){var u=String(t)+"n";return l?wx(t,u):u}var c=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=c&&c>0&&typeof t=="object")return mg(t)?"[Array]":"[Object]";var d=jO(i,r);if(typeof o>"u")o=[];else if(KS(o,t)>=0)return"[Circular]";function f(H,ee,K){if(ee&&(o=_O.call(o),o.push(ee)),K){var A={depth:i.depth};return So(i,"quoteStyle")&&(A.quoteStyle=i.quoteStyle),e(H,A,r+1,o)}return e(H,i,r+1,o)}if(typeof t=="function"&&!Ex(t)){var p=IO(t),h=kc(t,f);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(h.length>0?" { "+hr.call(h,", ")+" }":"")}if(VS(t)){var y=rl?Oo.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):pg.call(t);return typeof t=="object"&&!rl?Hl(y):y}if(AO(t)){for(var x="<"+gx.call(String(t.nodeName)),g=t.attributes||[],v=0;v<g.length;v++)x+=" "+g[v].name+"="+HS(EO(g[v].value),"double",i);return x+=">",t.childNodes&&t.childNodes.length&&(x+="..."),x+="</"+gx.call(String(t.nodeName))+">",x}if(mg(t)){if(t.length===0)return"[]";var S=kc(t,f);return d&&!zO(S)?"["+gg(S,d)+"]":"[ "+hr.call(S,", ")+" ]"}if(CO(t)){var E=kc(t,f);return!("cause"in Error.prototype)&&"cause"in t&&!US.call(t,"cause")?"{ ["+String(t)+"] "+hr.call(yx.call("[cause]: "+f(t.cause),E),", ")+" }":E.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+hr.call(E,", ")+" }"}if(typeof t=="object"&&s){if(Sx&&typeof t[Sx]=="function"&&hg)return hg(t,{depth:c-r});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(RO(t)){var b=[];return px&&px.call(t,function(H,ee){b.push(f(ee,t,!0)+" => "+f(H,t))}),kx("Map",Fd.call(t),b,d)}if(MO(t)){var k=[];return hx&&hx.call(t,function(H){k.push(f(H,t))}),kx("Set",zd.call(t),k,d)}if(PO(t))return bh("WeakMap");if(LO(t))return bh("WeakSet");if(DO(t))return bh("WeakRef");if(NO(t))return Hl(f(Number(t)));if($O(t))return Hl(f(fg.call(t)));if(TO(t))return Hl(gO.call(t));if(bO(t))return Hl(f(String(t)));if(!kO(t)&&!Ex(t)){var O=kc(t,f),$=xx?xx(t)===Object.prototype:t instanceof Object||t.constructor===Object,R=t instanceof Object?"":"null prototype",T=!$&&Lt&&Object(t)===t&&Lt in t?xy.call(li(t),8,-1):R?"Object":"",D=$||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",F=D+(T||R?"["+hr.call(yx.call([],T||[],R||[]),": ")+"] ":"");return O.length===0?F+"{}":d?F+"{"+gg(O,d)+"}":F+"{ "+hr.call(O,", ")+" }"}return String(t)};function HS(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function EO(e){return Oo.call(String(e),/"/g,"&quot;")}function mg(e){return li(e)==="[object Array]"&&(!Lt||!(typeof e=="object"&&Lt in e))}function kO(e){return li(e)==="[object Date]"&&(!Lt||!(typeof e=="object"&&Lt in e))}function Ex(e){return li(e)==="[object RegExp]"&&(!Lt||!(typeof e=="object"&&Lt in e))}function CO(e){return li(e)==="[object Error]"&&(!Lt||!(typeof e=="object"&&Lt in e))}function bO(e){return li(e)==="[object String]"&&(!Lt||!(typeof e=="object"&&Lt in e))}function NO(e){return li(e)==="[object Number]"&&(!Lt||!(typeof e=="object"&&Lt in e))}function TO(e){return li(e)==="[object Boolean]"&&(!Lt||!(typeof e=="object"&&Lt in e))}function VS(e){if(rl)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!pg)return!1;try{return pg.call(e),!0}catch{}return!1}function $O(e){if(!e||typeof e!="object"||!fg)return!1;try{return fg.call(e),!0}catch{}return!1}var OO=Object.prototype.hasOwnProperty||function(e){return e in this};function So(e,t){return OO.call(e,t)}function li(e){return yO.call(e)}function IO(e){if(e.name)return e.name;var t=xO.call(vO.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function KS(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function RO(e){if(!Fd||!e||typeof e!="object")return!1;try{Fd.call(e);try{zd.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function PO(e){if(!ya||!e||typeof e!="object")return!1;try{ya.call(e,ya);try{va.call(e,va)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function DO(e){if(!mx||!e||typeof e!="object")return!1;try{return mx.call(e),!0}catch{}return!1}function MO(e){if(!zd||!e||typeof e!="object")return!1;try{zd.call(e);try{Fd.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function LO(e){if(!va||!e||typeof e!="object")return!1;try{va.call(e,va);try{ya.call(e,ya)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function AO(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function GS(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return GS(xy.call(e,0,t.maxStringLength),t)+r}var o=Oo.call(Oo.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,FO);return HS(o,"single",t)}function FO(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+wO.call(t.toString(16))}function Hl(e){return"Object("+e+")"}function bh(e){return e+" { ? }"}function kx(e,t,n,r){var o=r?gg(n,r):hr.call(n,", ");return e+" ("+t+") {"+o+"}"}function zO(e){for(var t=0;t<e.length;t++)if(KS(e[t],`
`)>=0)return!1;return!0}function jO(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=hr.call(Array(e.indent+1)," ");else return null;return{base:n,prev:hr.call(Array(t+1),n)}}function gg(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+hr.call(e,","+n)+`
`+t.prev}function kc(e,t){var n=mg(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=So(e,o)?t(e[o],e):""}var i=typeof Ch=="function"?Ch(e):[],s;if(rl){s={};for(var l=0;l<i.length;l++)s["$"+i[l]]=i[l]}for(var a in e)So(e,a)&&(n&&String(Number(a))===a&&a<e.length||rl&&s["$"+a]instanceof Symbol||(WS.call(/[^\w$]/,a)?r.push(t(a,e)+": "+t(e[a],e)):r.push(a+": "+t(e[a],e))));if(typeof Ch=="function")for(var u=0;u<i.length;u++)US.call(e,i[u])&&r.push("["+t(i[u])+"]: "+t(e[i[u]],e));return r}var wy=gy,yl=uO,BO=SO,WO=wy("%TypeError%"),Cc=wy("%WeakMap%",!0),bc=wy("%Map%",!0),UO=yl("WeakMap.prototype.get",!0),HO=yl("WeakMap.prototype.set",!0),VO=yl("WeakMap.prototype.has",!0),KO=yl("Map.prototype.get",!0),GO=yl("Map.prototype.set",!0),ZO=yl("Map.prototype.has",!0),_y=function(e,t){for(var n=e,r;(r=n.next)!==null;n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r},YO=function(e,t){var n=_y(e,t);return n&&n.value},QO=function(e,t,n){var r=_y(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}},JO=function(e,t){return!!_y(e,t)},qO=function(){var t,n,r,o={assert:function(i){if(!o.has(i))throw new WO("Side channel does not contain "+BO(i))},get:function(i){if(Cc&&i&&(typeof i=="object"||typeof i=="function")){if(t)return UO(t,i)}else if(bc){if(n)return KO(n,i)}else if(r)return YO(r,i)},has:function(i){if(Cc&&i&&(typeof i=="object"||typeof i=="function")){if(t)return VO(t,i)}else if(bc){if(n)return ZO(n,i)}else if(r)return JO(r,i);return!1},set:function(i,s){Cc&&i&&(typeof i=="object"||typeof i=="function")?(t||(t=new Cc),HO(t,i,s)):bc?(n||(n=new bc),GO(n,i,s)):(r||(r={key:{},next:null}),QO(r,i,s))}};return o},XO=String.prototype.replace,eI=/%20/g,Nh={RFC1738:"RFC1738",RFC3986:"RFC3986"},Sy={default:Nh.RFC3986,formatters:{RFC1738:function(e){return XO.call(e,eI,"+")},RFC3986:function(e){return String(e)}},RFC1738:Nh.RFC1738,RFC3986:Nh.RFC3986},tI=Sy,Th=Object.prototype.hasOwnProperty,_i=Array.isArray,cr=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),nI=function(t){for(;t.length>1;){var n=t.pop(),r=n.obj[n.prop];if(_i(r)){for(var o=[],i=0;i<r.length;++i)typeof r[i]<"u"&&o.push(r[i]);n.obj[n.prop]=o}}},ZS=function(t,n){for(var r=n&&n.plainObjects?Object.create(null):{},o=0;o<t.length;++o)typeof t[o]<"u"&&(r[o]=t[o]);return r},rI=function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(_i(t))t.push(n);else if(t&&typeof t=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Th.call(Object.prototype,n))&&(t[n]=!0);else return[t,n];return t}if(!t||typeof t!="object")return[t].concat(n);var o=t;return _i(t)&&!_i(n)&&(o=ZS(t,r)),_i(t)&&_i(n)?(n.forEach(function(i,s){if(Th.call(t,s)){var l=t[s];l&&typeof l=="object"&&i&&typeof i=="object"?t[s]=e(l,i,r):t.push(i)}else t[s]=i}),t):Object.keys(n).reduce(function(i,s){var l=n[s];return Th.call(i,s)?i[s]=e(i[s],l,r):i[s]=l,i},o)},oI=function(t,n){return Object.keys(n).reduce(function(r,o){return r[o]=n[o],r},t)},iI=function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},sI=function(t,n,r,o,i){if(t.length===0)return t;var s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),r==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var l="",a=0;a<s.length;++a){var u=s.charCodeAt(a);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||i===tI.RFC1738&&(u===40||u===41)){l+=s.charAt(a);continue}if(u<128){l=l+cr[u];continue}if(u<2048){l=l+(cr[192|u>>6]+cr[128|u&63]);continue}if(u<55296||u>=57344){l=l+(cr[224|u>>12]+cr[128|u>>6&63]+cr[128|u&63]);continue}a+=1,u=65536+((u&1023)<<10|s.charCodeAt(a)&1023),l+=cr[240|u>>18]+cr[128|u>>12&63]+cr[128|u>>6&63]+cr[128|u&63]}return l},lI=function(t){for(var n=[{obj:{o:t},prop:"o"}],r=[],o=0;o<n.length;++o)for(var i=n[o],s=i.obj[i.prop],l=Object.keys(s),a=0;a<l.length;++a){var u=l[a],c=s[u];typeof c=="object"&&c!==null&&r.indexOf(c)===-1&&(n.push({obj:s,prop:u}),r.push(c))}return nI(n),t},aI=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},uI=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},cI=function(t,n){return[].concat(t,n)},dI=function(t,n){if(_i(t)){for(var r=[],o=0;o<t.length;o+=1)r.push(n(t[o]));return r}return n(t)},YS={arrayToObject:ZS,assign:oI,combine:cI,compact:lI,decode:iI,encode:sI,isBuffer:uI,isRegExp:aI,maybeMap:dI,merge:rI},QS=qO,yg=YS,xa=Sy,fI=Object.prototype.hasOwnProperty,Cx={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,n){return t+"["+n+"]"},repeat:function(t){return t}},Br=Array.isArray,pI=String.prototype.split,hI=Array.prototype.push,JS=function(e,t){hI.apply(e,Br(t)?t:[t])},mI=Date.prototype.toISOString,bx=xa.default,St={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:yg.encode,encodeValuesOnly:!1,format:bx,formatter:xa.formatters[bx],indices:!1,serializeDate:function(t){return mI.call(t)},skipNulls:!1,strictNullHandling:!1},gI=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},$h={},yI=function e(t,n,r,o,i,s,l,a,u,c,d,f,p,h,y,x){for(var g=t,v=x,S=0,E=!1;(v=v.get($h))!==void 0&&!E;){var b=v.get(t);if(S+=1,typeof b<"u"){if(b===S)throw new RangeError("Cyclic object value");E=!0}typeof v.get($h)>"u"&&(S=0)}if(typeof a=="function"?g=a(n,g):g instanceof Date?g=d(g):r==="comma"&&Br(g)&&(g=yg.maybeMap(g,function(M){return M instanceof Date?d(M):M})),g===null){if(i)return l&&!h?l(n,St.encoder,y,"key",f):n;g=""}if(gI(g)||yg.isBuffer(g)){if(l){var k=h?n:l(n,St.encoder,y,"key",f);if(r==="comma"&&h){for(var O=pI.call(String(g),","),$="",R=0;R<O.length;++R)$+=(R===0?"":",")+p(l(O[R],St.encoder,y,"value",f));return[p(k)+(o&&Br(g)&&O.length===1?"[]":"")+"="+$]}return[p(k)+"="+p(l(g,St.encoder,y,"value",f))]}return[p(n)+"="+p(String(g))]}var T=[];if(typeof g>"u")return T;var D;if(r==="comma"&&Br(g))D=[{value:g.length>0?g.join(",")||null:void 0}];else if(Br(a))D=a;else{var F=Object.keys(g);D=u?F.sort(u):F}for(var H=o&&Br(g)&&g.length===1?n+"[]":n,ee=0;ee<D.length;++ee){var K=D[ee],A=typeof K=="object"&&typeof K.value<"u"?K.value:g[K];if(!(s&&A===null)){var z=Br(g)?typeof r=="function"?r(H,K):H:H+(c?"."+K:"["+K+"]");x.set(t,S);var I=QS();I.set($h,x),JS(T,e(A,z,r,o,i,s,l,a,u,c,d,f,p,h,y,I))}}return T},vI=function(t){if(!t)return St;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=t.charset||St.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=xa.default;if(typeof t.format<"u"){if(!fI.call(xa.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var o=xa.formatters[r],i=St.filter;return(typeof t.filter=="function"||Br(t.filter))&&(i=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:St.addQueryPrefix,allowDots:typeof t.allowDots>"u"?St.allowDots:!!t.allowDots,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:St.charsetSentinel,delimiter:typeof t.delimiter>"u"?St.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:St.encode,encoder:typeof t.encoder=="function"?t.encoder:St.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:St.encodeValuesOnly,filter:i,format:r,formatter:o,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:St.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:St.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:St.strictNullHandling}},xI=function(e,t){var n=e,r=vI(t),o,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):Br(r.filter)&&(i=r.filter,o=i);var s=[];if(typeof n!="object"||n===null)return"";var l;t&&t.arrayFormat in Cx?l=t.arrayFormat:t&&"indices"in t?l=t.indices?"indices":"repeat":l="indices";var a=Cx[l];if(t&&"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=a==="comma"&&t&&t.commaRoundTrip;o||(o=Object.keys(n)),r.sort&&o.sort(r.sort);for(var c=QS(),d=0;d<o.length;++d){var f=o[d];r.skipNulls&&n[f]===null||JS(s,yI(n[f],f,a,u,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}var p=s.join(r.delimiter),h=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),p.length>0?h+p:""},ol=YS,vg=Object.prototype.hasOwnProperty,wI=Array.isArray,ht={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ol.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},_I=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},qS=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},SI="utf8=%26%2310003%3B",EI="utf8=%E2%9C%93",kI=function(t,n){var r={},o=n.ignoreQueryPrefix?t.replace(/^\?/,""):t,i=n.parameterLimit===1/0?void 0:n.parameterLimit,s=o.split(n.delimiter,i),l=-1,a,u=n.charset;if(n.charsetSentinel)for(a=0;a<s.length;++a)s[a].indexOf("utf8=")===0&&(s[a]===EI?u="utf-8":s[a]===SI&&(u="iso-8859-1"),l=a,a=s.length);for(a=0;a<s.length;++a)if(a!==l){var c=s[a],d=c.indexOf("]="),f=d===-1?c.indexOf("="):d+1,p,h;f===-1?(p=n.decoder(c,ht.decoder,u,"key"),h=n.strictNullHandling?null:""):(p=n.decoder(c.slice(0,f),ht.decoder,u,"key"),h=ol.maybeMap(qS(c.slice(f+1),n),function(y){return n.decoder(y,ht.decoder,u,"value")})),h&&n.interpretNumericEntities&&u==="iso-8859-1"&&(h=_I(h)),c.indexOf("[]=")>-1&&(h=wI(h)?[h]:h),vg.call(r,p)?r[p]=ol.combine(r[p],h):r[p]=h}return r},CI=function(e,t,n,r){for(var o=r?t:qS(t,n),i=e.length-1;i>=0;--i){var s,l=e[i];if(l==="[]"&&n.parseArrays)s=[].concat(o);else{s=n.plainObjects?Object.create(null):{};var a=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,u=parseInt(a,10);!n.parseArrays&&a===""?s={0:o}:!isNaN(u)&&l!==a&&String(u)===a&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(s=[],s[u]=o):a!=="__proto__"&&(s[a]=o)}o=s}return o},bI=function(t,n,r,o){if(t){var i=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,a=r.depth>0&&s.exec(i),u=a?i.slice(0,a.index):i,c=[];if(u){if(!r.plainObjects&&vg.call(Object.prototype,u)&&!r.allowPrototypes)return;c.push(u)}for(var d=0;r.depth>0&&(a=l.exec(i))!==null&&d<r.depth;){if(d+=1,!r.plainObjects&&vg.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+i.slice(a.index)+"]"),CI(c,n,r,o)}},NI=function(t){if(!t)return ht;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof t.charset>"u"?ht.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?ht.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:ht.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:ht.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:ht.arrayLimit,charset:n,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:ht.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:ht.comma,decoder:typeof t.decoder=="function"?t.decoder:ht.decoder,delimiter:typeof t.delimiter=="string"||ol.isRegExp(t.delimiter)?t.delimiter:ht.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:ht.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:ht.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:ht.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:ht.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:ht.strictNullHandling}},TI=function(e,t){var n=NI(t);if(e===""||e===null||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?kI(e,n):e,o=n.plainObjects?Object.create(null):{},i=Object.keys(r),s=0;s<i.length;++s){var l=i[s],a=bI(l,r[l],n,typeof e=="string");o=ol.merge(o,a,n)}return n.allowSparse===!0?o:ol.compact(o)},$I=xI,OI=TI,II=Sy,XS={formats:II,parse:OI,stringify:$I};const jd=(e,t,n)=>{const r=`?${XS.stringify({...t&&{query:t},...n&&{ctx:n}})}`;return`${e}${r}`},eE=(e,t)=>{const n=t?`?${XS.stringify({ctx:t})}`:"";return`${e}${n}`},Ey=(e,t,n)=>jd(e.externalProcedure.indexOf("/")>0?`${e.apiUrl}/${e.externalProcedure}`:`${e.apiUrl}/${e.route}/${e.externalProcedure}`,t,n),Bs=(e,t)=>typeof e=="function"?e(t??{}):e??t??{},xg="client proxy not accessed correctly",Nx=(e,t={})=>{const n=new AbortController;return Object.assign((async()=>{try{const i=await cg.fetch(e,{abortController:n,...t});return i.status>=400?ga({message:"Fetch failed",detail:"status code"}):gl(i)?i:ga({message:"The JSON response is not in the correct format.",detail:i})}catch(i){return console.error(i),ga({message:"Fetch failed",detail:i})}})(),{abort:()=>{cg.delete(e),n.abort()}})},tE=(e,t,n={})=>{const r=new AbortController;return Object.assign((async()=>{var s;try{const l=await fetch(e,{method:"POST",credentials:"include",body:JSON.stringify({query:t}),headers:{"Content-Type":"application/json",...n.headers,...(s=n.generateHeaders)==null?void 0:s.call(n)}});return l.status>=400?ga({message:"Fetch failed",detail:"status code"}):await l.json()}catch(l){return console.error(l),ga({message:"Fetch failed",detail:l})}})(),{abort:()=>r.abort()})};function Bd(e,t={}){return new Proxy({},{get(n,r){if(typeof r!="string")throw new Error("");return new Proxy({},{get(o,i){if(typeof i!="string")throw new Error(xg);return{key(s,l){const a=(l==null?void 0:l.url)??e;if(!a)throw new Error("No API URL provided");return jd(`${a}/${r}/${i}`,s,Bs(l==null?void 0:l.context,t.context))},async query(s,l){const a=(l==null?void 0:l.url)??e;if(!a)throw new Error("No API URL provided");const u=Bs(l==null?void 0:l.context,t.context),c=jd(`${a}/${r}/${i}`,s,u),d=(l==null?void 0:l.cache)??t.cache;if(d){const p=d.read(c);if(typeof p<"u")return M$(p)}let f=Nx;return d&&(f=(p,h)=>{const y=Nx(p,h),x=y.then(g=>{var v;if(Sr(g))return g;if(l!=null&&l.cachePreload){const S=([E,b],k)=>{const O=Ey({apiUrl:a,route:r,externalProcedure:E},b,u);d.read(O)||d.write(O,k)};(v=l.cachePreload)==null||v.call(l,Ut(g),S)}return d.write(p,Ut(g)),g});return Object.assign(x,{abort:y.abort})}),f(c,t)},mutation(s,l){const a=(l==null?void 0:l.url)??e;if(!a)throw new Error("No API URL provided");return tE(eE(`${a}/${r}/${i}`,Bs(l==null?void 0:l.context,t.context)),s,t)}}}})}})}const RI=(e,t,n,r,o,{rollbackOnError:i=!0,revalidate:s=!1}={})=>([l,a],u)=>{e(Ey({apiUrl:n,route:r,externalProcedure:l},a,o),async c=>{const d=await t;if(Sr(d))throw new Error(d.message);return u(c,Ut(d))},{revalidate:s,optimisticData:c=>u(c,void 0),rollbackOnError:i})},Tx=async(e,t={})=>{const n=await cg.fetch(e,t);if(Sr(n))throw n;return Ut(n)};function nE(e,t){return new Proxy({},{get(n,r){if(typeof r!="string")throw new Error(xg);return new Proxy({},{get(o,i){if(typeof i!="string")throw new Error(xg);return{useQuery:(s,{inactive:l,immutable:a,context:u,cachePreload:c,throttle:d,...f}={})=>{var x;const p=((x=t.useGlobalOptions)==null?void 0:x.call(t))??{},h=e??p.url??"/api";let y=w.useCallback(g=>Tx(g,{throttle:d,...p}),[d==null?void 0:d.key,d==null?void 0:d.ms,p]);if(c){const{cache:g,mutate:v}=t.useSWRConfig();y=w.useCallback(async S=>{const E=await Tx(S,{throttle:d,...p});return E!==void 0&&c(E,([k,O],$)=>{const R=Ey({apiUrl:h,route:r,externalProcedure:k},O,p.context);g.get(R)||v(R,$)}),E},[g,d==null?void 0:d.key,d==null?void 0:d.ms])}return a&&(f.revalidateOnFocus=!1,f.revalidateIfStale=!1,f.revalidateOnReconnect=!1),t.useSWR(()=>l?void 0:jd(`${h}/${r}/${i}`,s,Bs(u,p.context)),y,f)},useMutation:(s={})=>{var c;const l=((c=t.useGlobalOptions)==null?void 0:c.call(t))??{},a=e??l.url??"/api",{mutate:u}=t.useSWRConfig();return async d=>{var h,y;const f=tE(eE(`${a}/${r}/${i}`,Bs(s.context,l.context)),d,l);if(s.cacheUpdate){const x=RI(u,f,a,r,Bs(s.context,l.context),s.options);s.cacheUpdate(d,x)}const p=await f;return Sr(p)?(h=s.onError)==null||h.call(s,d,{status:p.status,message:p.message,detail:p.detail}):(y=s.onSuccess)==null||y.call(s,d,Ut(p)),p}}}}})}})}const ct=(e,t)=>{const n=w.useContext(e);if(n===null)throw new Error(`Cannot find ${t}.Provider`);return n};function rE(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=rE(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function P(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=rE(e))&&(r&&(r+=" "),r+=t);return r}function oE(e,t={}){let{duration:n=2e3}=t,r=null,o=0,i=0;function s(x,g){if(Date.now()-i>g)return x()}const l=async x=>x==="start"||x==="unload"||x==="visibilitychange"?(i=Date.now(),await e(o++,x)):await s(()=>(i=Date.now(),e(o++,x)),n/2),a=async()=>{r===null&&(r=setInterval(()=>l("interval"),n))},u=()=>{r!==null&&(clearInterval(r),setTimeout(()=>l("stop"),n),r=null)},c=()=>{l("start"),a()},d=()=>{u()},f=async()=>{l("visibilitychange")},p=async()=>{l("unload")},h=()=>(window.addEventListener("focus",c),window.addEventListener("blur",d),window.addEventListener("visibilitychange",f),window.addEventListener("beforeunload",p),document.hasFocus()&&a(),r===null&&l("start"),y),y=()=>{r!==null&&(clearInterval(r),r=null),window.removeEventListener("focus",c),window.removeEventListener("blur",d),window.removeEventListener("visibilitychange",f),window.removeEventListener("beforeunload",p)};return h()}function Ho({size:e="sm"}){const t={sm:"w-12",md:"w-24",lg:"w-48",full:"w-full"}[e];return m("div",{className:P("h-1 bg-black/10 dark:bg-white/10 rounded-full overflow-hidden",t),children:m("div",{className:P("h-1 bg-black/20 dark:bg-white/20 rounded-full",t,"animate-load")})})}const iE=e=>e.replace(/^\/+/,""),sE=e=>e.replace(/\/+$/,""),PI=e=>sE(iE(e)),lE="/api",Wd=Bd(lE),DI=nE(lE,{useSWR:np,useSWRConfig:Tu}),aE=w.createContext({user:null,organization:null,apiUrl:null,getToken:()=>{}}),or=()=>w.useContext(aE);function MI(){const e=w.useRef(null),t=w.useCallback(()=>{const r=o=>{const s=`; ${document.cookie}`.split(`; ${o}=`);if(s.length===2)return s.pop().split(";").shift()};e.current=r("sf.c.local-token")??e.current},[]);return[w.useCallback(()=>e.current??void 0,[]),t]}function LI(){const{pathname:e}=_n(),n=iE(e).split("/")[0];return!n||n===""||n.startsWith("~")?null:n}function AI({children:e,organization:t}){const n=t?t.slug:LI(),[r,o]=MI(),[i,s]=w.useState(!0),[l,a]=w.useState(null),[u,c]=w.useState(null),[d,f]=w.useState(null),p=()=>{s(!0),c(null),f(null),a(null)};w.useEffect(()=>{if(n==="logout"||i===!1&&n===null)return;const g=async v=>{const S=await Wd.auth.authenticate.mutation({organization:{slug:n,url:(t==null?void 0:t.url)??null},returnConfig:Boolean(v)});return o(),S};return g(!0).then(v=>{const S=Ut(v);S?(c(E=>E&&E.email===S.user.email?E:S.user),S.config?f({slug:n,...S.config}):n&&h(`/?unauthorized=${n}`)):h(n?`/?next=${n}`:"/"),a(S!=null&&S.url?`${S.url}/api`:null),s(!1)}),oE(()=>g(),{duration:3e4})},[n]);const h=ml(),{pathname:y}=_n();w.useEffect(()=>{y==="/logout"&&(async()=>(p(),await Wd.auth.logout.mutation(),h("/",{replace:!0})))()},[y]);const x=w.useMemo(()=>({user:u,organization:d,apiUrl:l,getToken:r}),[u,d]);return i?m("div",{}):m(aE.Provider,{value:x,children:e})}function FI({children:e}){const{user:t}=or();return t?m(re,{children:e}):null}function zI({children:e}){const{user:t}=or();return t?null:m(re,{children:e})}function jI(){const[e,t]=w.useState(!1),[n,r]=w.useState(!1),[o,i]=w.useState(!1),{search:s}=_n();return w.useEffect(()=>{const l=setTimeout(()=>t(!0),200);return()=>{clearTimeout(l)}},[]),o?m("div",{className:"w-full h-full flex-center",children:"Email sendt"}):m("div",{className:P("w-full h-full flex-center transition-opacity duration-300",e?"opacity-100":"opacity-0"),children:N("form",{onSubmit:async l=>{l.preventDefault();const a=new FormData(l.currentTarget);r(!0);const u=new URLSearchParams(s).get("next")??void 0,c=await Wd.auth.sendEmail.query({email:a.get("email"),...u&&encodeURIComponent(u)===u&&u.length<50?{next:u}:{}});r(!1),gl(c)&&i(!0)},className:"flex flex-col gap-5 items-center",children:[m("input",{type:"text",name:"email",className:"bg-gray-900 focus:bg-gray-850 px-5 py-2.5 rounded w-72 outline-none",placeholder:"email",autoComplete:"off"}),m("button",{className:"ring-button flex-center w-32 h-10 rounded",children:n?m(Ho,{}):"Log ind"})]})})}const BI="http://localhost:3000/api",ky=new Map,WI=()=>ky;function uE(e){let t=ky.get(e);if(!(!t||!t.data||t.isLoading===!0))return t.data}const cE=e=>({read:uE,write(t,n){ky.get(t)||e(t,n)}}),dE=w.createContext(null),zn=()=>ct(dE,"Client"),fE=w.createContext(null),pE=()=>ct(fE,"ServicesClient");function hE(){const{mutate:e}=Tu(),{getToken:t,organization:n}=or(),r=w.useMemo(()=>cE(e),[]);return Bd(void 0,{context:{slug:n==null?void 0:n.slug},generateHeaders:()=>({"x-storyflow-token":t()??""}),cache:r})}function UI({children:e}){const{mutate:t}=Tu(),{getToken:n,apiUrl:r,organization:o}=or(),i=w.useMemo(()=>({url:r,context:{slug:(o==null?void 0:o.slug)??""},generateHeaders:()=>({"x-storyflow-token":n()??""})}),[o,r]),s=w.useMemo(()=>cE(t),[]),l=w.useMemo(()=>Bd(i.url,{context:i.context,generateHeaders:i.generateHeaders,cache:s}),[i]),a=w.useMemo(()=>Bd(BI,{context:i.context,generateHeaders:i.generateHeaders,cache:s}),[i]);return m(mE.Provider,{value:i,children:m(dE.Provider,{value:l,children:m(fE.Provider,{value:a,children:o?e:null})})})}const mE=w.createContext({}),HI=()=>w.useContext(mE),tr=nE(void 0,{useSWR:np,useSWRConfig:Tu,useGlobalOptions:HI}),Ud=w.createContext(null),VI=()=>ct(Ud,"FolderDomains"),KI=({children:e,domains:t})=>{const n=w.useContext(Ud),r=w.useMemo(()=>{let o=new Set(n??[]);return(t??[]).forEach(i=>o.add(i)),Array.from(o)},[n,t]);return m(Ud.Provider,{value:r,children:e})},Cy={label:"Default",configs:{LinkConfig:{label:"Link",props:{label:{type:"string",label:"Label"},href:{type:"string",label:"URL"}},inline:!0},OutletConfig:{label:"Side",props:{}},LoopConfig:{label:"Generer fra data",props:{children:{type:"children",label:"Indhold"},data:{type:"data",label:"Data"}}},TextConfig:{label:"Tekst",props:{children:{type:"children",label:"Indhold"}}},H1Config:{label:"Overskrift",props:{children:{type:"children",label:"Indhold"}}},H2Config:{label:"Overskrift",props:{children:{type:"children",label:"Indhold"}}},H3Config:{label:"Overskrift",props:{children:{type:"children",label:"Indhold"}}}}},gE=w.createContext(null),GI=(e,t)=>e?[e,t].join(":"):t,ZI=e=>{if(e.indexOf(":")<0)return{library:"",name:e};const[t,n]=e.split(":");return{library:t,name:n}},ai=(e,t)=>{const{library:n,name:r}=ZI(e),o=t[n];return o?o.configs[`${r}Config`]:void 0},$x={baseURL:"",label:"",configs:{"":Cy}},YI={"":Cy};function Qe(e){const t=w.useContext(gE),n=VI();if(!t)throw new Error("useAppConfig cannot find provider.");if(e)return t[e]??$x;if(!n)throw new Error("useAppConfig must be used within a FolderPage");if(!Object.keys(t??[]).length)return $x;const r=t[n[0]];return{baseURL:(r==null?void 0:r.baseURL)??"",label:(r==null?void 0:r.label)??"",builderPath:r==null?void 0:r.builderPath,configs:(r==null?void 0:r.configs)??YI}}function QI({children:e}){const{organization:t}=or(),[n,r]=w.useState({}),o=hE();return w.useLayoutEffect(()=>{let i=!0;const s=new AbortController;return(async()=>{const l=await Promise.all(t.apps.map(async({name:a,baseURL:u})=>{const c=await o.app.config.query(void 0,{url:`${u}/api`});if(Sr(c))return;const d=Ut(c);return[a,{...d,configs:{"":Cy,...d.configs}}]}));if(i){const a=l.filter(u=>Boolean(u));r(Object.fromEntries(a))}})(),()=>{i=!1,s.abort()}},[t==null?void 0:t.apps]),m(gE.Provider,{value:n,children:e})}const yE=w.createContext(null);function JI({children:e}){const t=w.useState(null);return m(yE.Provider,{value:t,children:e})}const rp=()=>{const e=w.useContext(yE);if(e===null)throw new Error("useFieldFocus must be used within the FieldFocusProvider");return e};var xe;(function(e){e.assertEqual=o=>o;function t(o){}e.assertIs=t;function n(o){throw new Error}e.assertNever=n,e.arrayToEnum=o=>{const i={};for(const s of o)i[s]=s;return i},e.getValidEnumValues=o=>{const i=e.objectKeys(o).filter(l=>typeof o[o[l]]!="number"),s={};for(const l of i)s[l]=o[l];return e.objectValues(s)},e.objectValues=o=>e.objectKeys(o).map(function(i){return o[i]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const i=[];for(const s in o)Object.prototype.hasOwnProperty.call(o,s)&&i.push(s);return i},e.find=(o,i)=>{for(const s of o)if(i(s))return s},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function r(o,i=" | "){return o.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(o,i)=>typeof i=="bigint"?i.toString():i})(xe||(xe={}));var wg;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(wg||(wg={}));const Y=xe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bo=e=>{switch(typeof e){case"undefined":return Y.undefined;case"string":return Y.string;case"number":return isNaN(e)?Y.nan:Y.number;case"boolean":return Y.boolean;case"function":return Y.function;case"bigint":return Y.bigint;case"symbol":return Y.symbol;case"object":return Array.isArray(e)?Y.array:e===null?Y.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Y.promise:typeof Map<"u"&&e instanceof Map?Y.map:typeof Set<"u"&&e instanceof Set?Y.set:typeof Date<"u"&&e instanceof Date?Y.date:Y.object;default:return Y.unknown}},W=xe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),qI=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Qn extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(i){return i.message},r={_errors:[]},o=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(o);else if(s.code==="invalid_return_type")o(s.returnTypeError);else if(s.code==="invalid_arguments")o(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let l=r,a=0;for(;a<s.path.length;){const u=s.path[a];a===s.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(s))):l[u]=l[u]||{_errors:[]},l=l[u],a++}}};return o(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,xe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Qn.create=e=>new Qn(e);const Za=(e,t)=>{let n;switch(e.code){case W.invalid_type:e.received===Y.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case W.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,xe.jsonStringifyReplacer)}`;break;case W.unrecognized_keys:n=`Unrecognized key(s) in object: ${xe.joinValues(e.keys,", ")}`;break;case W.invalid_union:n="Invalid input";break;case W.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${xe.joinValues(e.options)}`;break;case W.invalid_enum_value:n=`Invalid enum value. Expected ${xe.joinValues(e.options)}, received '${e.received}'`;break;case W.invalid_arguments:n="Invalid function arguments";break;case W.invalid_return_type:n="Invalid function return type";break;case W.invalid_date:n="Invalid date";break;case W.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:xe.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case W.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case W.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case W.custom:n="Invalid input";break;case W.invalid_intersection_types:n="Intersection results could not be merged";break;case W.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case W.not_finite:n="Number must be finite";break;default:n=t.defaultError,xe.assertNever(e)}return{message:n}};let vE=Za;function XI(e){vE=e}function Hd(){return vE}const Vd=e=>{const{data:t,path:n,errorMaps:r,issueData:o}=e,i=[...n,...o.path||[]],s={...o,path:i};let l="";const a=r.filter(u=>!!u).slice().reverse();for(const u of a)l=u(s,{data:t,defaultError:l}).message;return{...o,path:i,message:o.message||l}},eR=[];function q(e,t){const n=Vd({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Hd(),Za].filter(r=>!!r)});e.common.issues.push(n)}class At{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const o of n){if(o.status==="aborted")return de;o.status==="dirty"&&t.dirty(),r.push(o.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const o of n)r.push({key:await o.key,value:await o.value});return At.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const o of n){const{key:i,value:s}=o;if(i.status==="aborted"||s.status==="aborted")return de;i.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),(typeof s.value<"u"||o.alwaysSet)&&(r[i.value]=s.value)}return{status:t.value,value:r}}}const de=Object.freeze({status:"aborted"}),xE=e=>({status:"dirty",value:e}),Ht=e=>({status:"valid",value:e}),_g=e=>e.status==="aborted",Sg=e=>e.status==="dirty",Kd=e=>e.status==="valid",Gd=e=>typeof Promise<"u"&&e instanceof Promise;var te;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(te||(te={}));class br{constructor(t,n,r,o){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ox=(e,t)=>{if(Kd(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Qn(e.common.issues);return this._error=n,this._error}}};function fe(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(s,l)=>s.code!=="invalid_type"?{message:l.defaultError}:typeof l.data>"u"?{message:r??l.defaultError}:{message:n??l.defaultError},description:o}}class he{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return bo(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:bo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new At,ctx:{common:t.parent.common,data:t.data,parsedType:bo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Gd(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const o={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bo(t)},i=this._parseSync({data:t,path:o.path,parent:o});return Ox(o,i)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bo(t)},o=this._parse({data:t,path:r.path,parent:r}),i=await(Gd(o)?o:Promise.resolve(o));return Ox(r,i)}refine(t,n){const r=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,i)=>{const s=t(o),l=()=>i.addIssue({code:W.custom,...r(o)});return typeof Promise<"u"&&s instanceof Promise?s.then(a=>a?!0:(l(),!1)):s?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,o)=>t(r)?!0:(o.addIssue(typeof n=="function"?n(r,o):n),!1))}_refinement(t){return new nr({schema:this,typeName:le.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Qr.create(this,this._def)}nullable(){return Gi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Jn.create(this,this._def)}promise(){return sl.create(this,this._def)}or(t){return qa.create([this,t],this._def)}and(t){return Xa.create(this,t,this._def)}transform(t){return new nr({...fe(this._def),schema:this,typeName:le.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new ou({...fe(this._def),innerType:this,defaultValue:n,typeName:le.ZodDefault})}brand(){return new _E({typeName:le.ZodBranded,type:this,...fe(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Jd({...fe(this._def),innerType:this,catchValue:n,typeName:le.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Ou.create(this,t)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const tR=/^c[^\s-]{8,}$/i,nR=/^[a-z][a-z0-9]*$/,rR=/[0-9A-HJKMNP-TV-Z]{26}/,oR=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,iR=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,sR=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,lR=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,aR=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,uR=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function cR(e,t){return!!((t==="v4"||!t)&&lR.test(e)||(t==="v6"||!t)&&aR.test(e))}class Kn extends he{constructor(){super(...arguments),this._regex=(t,n,r)=>this.refinement(o=>t.test(o),{validation:n,code:W.invalid_string,...te.errToObj(r)}),this.nonempty=t=>this.min(1,te.errToObj(t)),this.trim=()=>new Kn({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Kn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Kn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Y.string){const i=this._getOrReturnCtx(t);return q(i,{code:W.invalid_type,expected:Y.string,received:i.parsedType}),de}const r=new At;let o;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(o=this._getOrReturnCtx(t,o),q(o,{code:W.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(o=this._getOrReturnCtx(t,o),q(o,{code:W.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const s=t.data.length>i.value,l=t.data.length<i.value;(s||l)&&(o=this._getOrReturnCtx(t,o),s?q(o,{code:W.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&q(o,{code:W.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")iR.test(t.data)||(o=this._getOrReturnCtx(t,o),q(o,{validation:"email",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")sR.test(t.data)||(o=this._getOrReturnCtx(t,o),q(o,{validation:"emoji",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")oR.test(t.data)||(o=this._getOrReturnCtx(t,o),q(o,{validation:"uuid",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")tR.test(t.data)||(o=this._getOrReturnCtx(t,o),q(o,{validation:"cuid",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")nR.test(t.data)||(o=this._getOrReturnCtx(t,o),q(o,{validation:"cuid2",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")rR.test(t.data)||(o=this._getOrReturnCtx(t,o),q(o,{validation:"ulid",code:W.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),q(o,{validation:"url",code:W.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),q(o,{validation:"regex",code:W.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(o=this._getOrReturnCtx(t,o),q(o,{code:W.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(o=this._getOrReturnCtx(t,o),q(o,{code:W.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(o=this._getOrReturnCtx(t,o),q(o,{code:W.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?uR(i).test(t.data)||(o=this._getOrReturnCtx(t,o),q(o,{code:W.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?cR(t.data,i.version)||(o=this._getOrReturnCtx(t,o),q(o,{validation:"ip",code:W.invalid_string,message:i.message}),r.dirty()):xe.assertNever(i);return{status:r.value,value:t.data}}_addCheck(t){return new Kn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...te.errToObj(t)})}url(t){return this._addCheck({kind:"url",...te.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...te.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...te.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...te.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...te.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...te.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...te.errToObj(t)})}datetime(t){var n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,...te.errToObj(t==null?void 0:t.message)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...te.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...te.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...te.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...te.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...te.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...te.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...te.errToObj(n)})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Kn.create=e=>{var t;return new Kn({checks:[],typeName:le.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...fe(e)})};function dR(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r,i=parseInt(e.toFixed(o).replace(".","")),s=parseInt(t.toFixed(o).replace(".",""));return i%s/Math.pow(10,o)}class Vo extends he{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Y.number){const i=this._getOrReturnCtx(t);return q(i,{code:W.invalid_type,expected:Y.number,received:i.parsedType}),de}let r;const o=new At;for(const i of this._def.checks)i.kind==="int"?xe.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),q(r,{code:W.invalid_type,expected:"integer",received:"float",message:i.message}),o.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),q(r,{code:W.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),q(r,{code:W.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="multipleOf"?dR(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),q(r,{code:W.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),q(r,{code:W.not_finite,message:i.message}),o.dirty()):xe.assertNever(i);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,te.toString(n))}gt(t,n){return this.setLimit("min",t,!1,te.toString(n))}lte(t,n){return this.setLimit("max",t,!0,te.toString(n))}lt(t,n){return this.setLimit("max",t,!1,te.toString(n))}setLimit(t,n,r,o){return new Vo({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:te.toString(o)}]})}_addCheck(t){return new Vo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:te.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:te.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:te.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:te.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:te.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:te.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&xe.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Vo.create=e=>new Vo({checks:[],typeName:le.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...fe(e)});class Ko extends he{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Y.bigint){const i=this._getOrReturnCtx(t);return q(i,{code:W.invalid_type,expected:Y.bigint,received:i.parsedType}),de}let r;const o=new At;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),q(r,{code:W.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),q(r,{code:W.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),q(r,{code:W.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):xe.assertNever(i);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,te.toString(n))}gt(t,n){return this.setLimit("min",t,!1,te.toString(n))}lte(t,n){return this.setLimit("max",t,!0,te.toString(n))}lt(t,n){return this.setLimit("max",t,!1,te.toString(n))}setLimit(t,n,r,o){return new Ko({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:te.toString(o)}]})}_addCheck(t){return new Ko({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:te.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:te.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:te.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:te.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:te.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ko.create=e=>{var t;return new Ko({checks:[],typeName:le.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...fe(e)})};class Ya extends he{_parse(t){if(this._def.coerce&&(t.data=Boolean(t.data)),this._getType(t)!==Y.boolean){const r=this._getOrReturnCtx(t);return q(r,{code:W.invalid_type,expected:Y.boolean,received:r.parsedType}),de}return Ht(t.data)}}Ya.create=e=>new Ya({typeName:le.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...fe(e)});class Vi extends he{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Y.date){const i=this._getOrReturnCtx(t);return q(i,{code:W.invalid_type,expected:Y.date,received:i.parsedType}),de}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return q(i,{code:W.invalid_date}),de}const r=new At;let o;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(o=this._getOrReturnCtx(t,o),q(o,{code:W.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(o=this._getOrReturnCtx(t,o),q(o,{code:W.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):xe.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Vi({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:te.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:te.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Vi.create=e=>new Vi({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:le.ZodDate,...fe(e)});class Zd extends he{_parse(t){if(this._getType(t)!==Y.symbol){const r=this._getOrReturnCtx(t);return q(r,{code:W.invalid_type,expected:Y.symbol,received:r.parsedType}),de}return Ht(t.data)}}Zd.create=e=>new Zd({typeName:le.ZodSymbol,...fe(e)});class Qa extends he{_parse(t){if(this._getType(t)!==Y.undefined){const r=this._getOrReturnCtx(t);return q(r,{code:W.invalid_type,expected:Y.undefined,received:r.parsedType}),de}return Ht(t.data)}}Qa.create=e=>new Qa({typeName:le.ZodUndefined,...fe(e)});class Ja extends he{_parse(t){if(this._getType(t)!==Y.null){const r=this._getOrReturnCtx(t);return q(r,{code:W.invalid_type,expected:Y.null,received:r.parsedType}),de}return Ht(t.data)}}Ja.create=e=>new Ja({typeName:le.ZodNull,...fe(e)});class il extends he{constructor(){super(...arguments),this._any=!0}_parse(t){return Ht(t.data)}}il.create=e=>new il({typeName:le.ZodAny,...fe(e)});class Di extends he{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ht(t.data)}}Di.create=e=>new Di({typeName:le.ZodUnknown,...fe(e)});class ro extends he{_parse(t){const n=this._getOrReturnCtx(t);return q(n,{code:W.invalid_type,expected:Y.never,received:n.parsedType}),de}}ro.create=e=>new ro({typeName:le.ZodNever,...fe(e)});class Yd extends he{_parse(t){if(this._getType(t)!==Y.undefined){const r=this._getOrReturnCtx(t);return q(r,{code:W.invalid_type,expected:Y.void,received:r.parsedType}),de}return Ht(t.data)}}Yd.create=e=>new Yd({typeName:le.ZodVoid,...fe(e)});class Jn extends he{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),o=this._def;if(n.parsedType!==Y.array)return q(n,{code:W.invalid_type,expected:Y.array,received:n.parsedType}),de;if(o.exactLength!==null){const s=n.data.length>o.exactLength.value,l=n.data.length<o.exactLength.value;(s||l)&&(q(n,{code:s?W.too_big:W.too_small,minimum:l?o.exactLength.value:void 0,maximum:s?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(q(n,{code:W.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(q(n,{code:W.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,l)=>o.type._parseAsync(new br(n,s,n.path,l)))).then(s=>At.mergeArray(r,s));const i=[...n.data].map((s,l)=>o.type._parseSync(new br(n,s,n.path,l)));return At.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new Jn({...this._def,minLength:{value:t,message:te.toString(n)}})}max(t,n){return new Jn({...this._def,maxLength:{value:t,message:te.toString(n)}})}length(t,n){return new Jn({...this._def,exactLength:{value:t,message:te.toString(n)}})}nonempty(t){return this.min(1,t)}}Jn.create=(e,t)=>new Jn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:le.ZodArray,...fe(t)});function vs(e){if(e instanceof We){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Qr.create(vs(r))}return new We({...e._def,shape:()=>t})}else return e instanceof Jn?new Jn({...e._def,type:vs(e.element)}):e instanceof Qr?Qr.create(vs(e.unwrap())):e instanceof Gi?Gi.create(vs(e.unwrap())):e instanceof Nr?Nr.create(e.items.map(t=>vs(t))):e}class We extends he{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=xe.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Y.object){const u=this._getOrReturnCtx(t);return q(u,{code:W.invalid_type,expected:Y.object,received:u.parsedType}),de}const{status:r,ctx:o}=this._processInputParams(t),{shape:i,keys:s}=this._getCached(),l=[];if(!(this._def.catchall instanceof ro&&this._def.unknownKeys==="strip"))for(const u in o.data)s.includes(u)||l.push(u);const a=[];for(const u of s){const c=i[u],d=o.data[u];a.push({key:{status:"valid",value:u},value:c._parse(new br(o,d,o.path,u)),alwaysSet:u in o.data})}if(this._def.catchall instanceof ro){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of l)a.push({key:{status:"valid",value:c},value:{status:"valid",value:o.data[c]}});else if(u==="strict")l.length>0&&(q(o,{code:W.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of l){const d=o.data[c];a.push({key:{status:"valid",value:c},value:u._parse(new br(o,d,o.path,c)),alwaysSet:c in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of a){const d=await c.key;u.push({key:d,value:await c.value,alwaysSet:c.alwaysSet})}return u}).then(u=>At.mergeObjectSync(r,u)):At.mergeObjectSync(r,a)}get shape(){return this._def.shape()}strict(t){return te.errToObj,new We({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var o,i,s,l;const a=(s=(i=(o=this._def).errorMap)===null||i===void 0?void 0:i.call(o,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=te.errToObj(t).message)!==null&&l!==void 0?l:a}:{message:a}}}:{}})}strip(){return new We({...this._def,unknownKeys:"strip"})}passthrough(){return new We({...this._def,unknownKeys:"passthrough"})}extend(t){return new We({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new We({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:le.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new We({...this._def,catchall:t})}pick(t){const n={};return xe.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new We({...this._def,shape:()=>n})}omit(t){const n={};return xe.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new We({...this._def,shape:()=>n})}deepPartial(){return vs(this)}partial(t){const n={};return xe.objectKeys(this.shape).forEach(r=>{const o=this.shape[r];t&&!t[r]?n[r]=o:n[r]=o.optional()}),new We({...this._def,shape:()=>n})}required(t){const n={};return xe.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Qr;)i=i._def.innerType;n[r]=i}}),new We({...this._def,shape:()=>n})}keyof(){return wE(xe.objectKeys(this.shape))}}We.create=(e,t)=>new We({shape:()=>e,unknownKeys:"strip",catchall:ro.create(),typeName:le.ZodObject,...fe(t)});We.strictCreate=(e,t)=>new We({shape:()=>e,unknownKeys:"strict",catchall:ro.create(),typeName:le.ZodObject,...fe(t)});We.lazycreate=(e,t)=>new We({shape:e,unknownKeys:"strip",catchall:ro.create(),typeName:le.ZodObject,...fe(t)});class qa extends he{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function o(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const s=i.map(l=>new Qn(l.ctx.common.issues));return q(n,{code:W.invalid_union,unionErrors:s}),de}if(n.common.async)return Promise.all(r.map(async i=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(o);{let i;const s=[];for(const a of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=a._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=s.map(a=>new Qn(a));return q(n,{code:W.invalid_union,unionErrors:l}),de}}get options(){return this._def.options}}qa.create=(e,t)=>new qa({options:e,typeName:le.ZodUnion,...fe(t)});const td=e=>e instanceof tu?td(e.schema):e instanceof nr?td(e.innerType()):e instanceof nu?[e.value]:e instanceof Go?e.options:e instanceof ru?Object.keys(e.enum):e instanceof ou?td(e._def.innerType):e instanceof Qa?[void 0]:e instanceof Ja?[null]:null;class op extends he{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Y.object)return q(n,{code:W.invalid_type,expected:Y.object,received:n.parsedType}),de;const r=this.discriminator,o=n.data[r],i=this.optionsMap.get(o);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(q(n,{code:W.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),de)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const o=new Map;for(const i of n){const s=td(i.shape[t]);if(!s)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of s){if(o.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);o.set(l,i)}}return new op({typeName:le.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:o,...fe(r)})}}function Eg(e,t){const n=bo(e),r=bo(t);if(e===t)return{valid:!0,data:e};if(n===Y.object&&r===Y.object){const o=xe.objectKeys(t),i=xe.objectKeys(e).filter(l=>o.indexOf(l)!==-1),s={...e,...t};for(const l of i){const a=Eg(e[l],t[l]);if(!a.valid)return{valid:!1};s[l]=a.data}return{valid:!0,data:s}}else if(n===Y.array&&r===Y.array){if(e.length!==t.length)return{valid:!1};const o=[];for(let i=0;i<e.length;i++){const s=e[i],l=t[i],a=Eg(s,l);if(!a.valid)return{valid:!1};o.push(a.data)}return{valid:!0,data:o}}else return n===Y.date&&r===Y.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Xa extends he{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),o=(i,s)=>{if(_g(i)||_g(s))return de;const l=Eg(i.value,s.value);return l.valid?((Sg(i)||Sg(s))&&n.dirty(),{status:n.value,value:l.data}):(q(r,{code:W.invalid_intersection_types}),de)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,s])=>o(i,s)):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Xa.create=(e,t,n)=>new Xa({left:e,right:t,typeName:le.ZodIntersection,...fe(n)});class Nr extends he{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Y.array)return q(r,{code:W.invalid_type,expected:Y.array,received:r.parsedType}),de;if(r.data.length<this._def.items.length)return q(r,{code:W.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),de;!this._def.rest&&r.data.length>this._def.items.length&&(q(r,{code:W.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((s,l)=>{const a=this._def.items[l]||this._def.rest;return a?a._parse(new br(r,s,r.path,l)):null}).filter(s=>!!s);return r.common.async?Promise.all(i).then(s=>At.mergeArray(n,s)):At.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new Nr({...this._def,rest:t})}}Nr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Nr({items:e,typeName:le.ZodTuple,rest:null,...fe(t)})};class eu extends he{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Y.object)return q(r,{code:W.invalid_type,expected:Y.object,received:r.parsedType}),de;const o=[],i=this._def.keyType,s=this._def.valueType;for(const l in r.data)o.push({key:i._parse(new br(r,l,r.path,l)),value:s._parse(new br(r,r.data[l],r.path,l))});return r.common.async?At.mergeObjectAsync(n,o):At.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof he?new eu({keyType:t,valueType:n,typeName:le.ZodRecord,...fe(r)}):new eu({keyType:Kn.create(),valueType:t,typeName:le.ZodRecord,...fe(n)})}}class Qd extends he{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Y.map)return q(r,{code:W.invalid_type,expected:Y.map,received:r.parsedType}),de;const o=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(([l,a],u)=>({key:o._parse(new br(r,l,r.path,[u,"key"])),value:i._parse(new br(r,a,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const a of s){const u=await a.key,c=await a.value;if(u.status==="aborted"||c.status==="aborted")return de;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),l.set(u.value,c.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const a of s){const u=a.key,c=a.value;if(u.status==="aborted"||c.status==="aborted")return de;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),l.set(u.value,c.value)}return{status:n.value,value:l}}}}Qd.create=(e,t,n)=>new Qd({valueType:t,keyType:e,typeName:le.ZodMap,...fe(n)});class Ki extends he{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Y.set)return q(r,{code:W.invalid_type,expected:Y.set,received:r.parsedType}),de;const o=this._def;o.minSize!==null&&r.data.size<o.minSize.value&&(q(r,{code:W.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&r.data.size>o.maxSize.value&&(q(r,{code:W.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const i=this._def.valueType;function s(a){const u=new Set;for(const c of a){if(c.status==="aborted")return de;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((a,u)=>i._parse(new br(r,a,r.path,u)));return r.common.async?Promise.all(l).then(a=>s(a)):s(l)}min(t,n){return new Ki({...this._def,minSize:{value:t,message:te.toString(n)}})}max(t,n){return new Ki({...this._def,maxSize:{value:t,message:te.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Ki.create=(e,t)=>new Ki({valueType:e,minSize:null,maxSize:null,typeName:le.ZodSet,...fe(t)});class Ws extends he{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Y.function)return q(n,{code:W.invalid_type,expected:Y.function,received:n.parsedType}),de;function r(l,a){return Vd({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Hd(),Za].filter(u=>!!u),issueData:{code:W.invalid_arguments,argumentsError:a}})}function o(l,a){return Vd({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Hd(),Za].filter(u=>!!u),issueData:{code:W.invalid_return_type,returnTypeError:a}})}const i={errorMap:n.common.contextualErrorMap},s=n.data;return this._def.returns instanceof sl?Ht(async(...l)=>{const a=new Qn([]),u=await this._def.args.parseAsync(l,i).catch(f=>{throw a.addIssue(r(l,f)),a}),c=await s(...u);return await this._def.returns._def.type.parseAsync(c,i).catch(f=>{throw a.addIssue(o(c,f)),a})}):Ht((...l)=>{const a=this._def.args.safeParse(l,i);if(!a.success)throw new Qn([r(l,a.error)]);const u=s(...a.data),c=this._def.returns.safeParse(u,i);if(!c.success)throw new Qn([o(u,c.error)]);return c.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Ws({...this._def,args:Nr.create(t).rest(Di.create())})}returns(t){return new Ws({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new Ws({args:t||Nr.create([]).rest(Di.create()),returns:n||Di.create(),typeName:le.ZodFunction,...fe(r)})}}class tu extends he{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}tu.create=(e,t)=>new tu({getter:e,typeName:le.ZodLazy,...fe(t)});class nu extends he{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return q(n,{received:n.data,code:W.invalid_literal,expected:this._def.value}),de}return{status:"valid",value:t.data}}get value(){return this._def.value}}nu.create=(e,t)=>new nu({value:e,typeName:le.ZodLiteral,...fe(t)});function wE(e,t){return new Go({values:e,typeName:le.ZodEnum,...fe(t)})}class Go extends he{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return q(n,{expected:xe.joinValues(r),received:n.parsedType,code:W.invalid_type}),de}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),r=this._def.values;return q(n,{received:n.data,code:W.invalid_enum_value,options:r}),de}return Ht(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t){return Go.create(t)}exclude(t){return Go.create(this.options.filter(n=>!t.includes(n)))}}Go.create=wE;class ru extends he{_parse(t){const n=xe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Y.string&&r.parsedType!==Y.number){const o=xe.objectValues(n);return q(r,{expected:xe.joinValues(o),received:r.parsedType,code:W.invalid_type}),de}if(n.indexOf(t.data)===-1){const o=xe.objectValues(n);return q(r,{received:r.data,code:W.invalid_enum_value,options:o}),de}return Ht(t.data)}get enum(){return this._def.values}}ru.create=(e,t)=>new ru({values:e,typeName:le.ZodNativeEnum,...fe(t)});class sl extends he{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Y.promise&&n.common.async===!1)return q(n,{code:W.invalid_type,expected:Y.promise,received:n.parsedType}),de;const r=n.parsedType===Y.promise?n.data:Promise.resolve(n.data);return Ht(r.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}sl.create=(e,t)=>new sl({type:e,typeName:le.ZodPromise,...fe(t)});class nr extends he{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),o=this._def.effect||null;if(o.type==="preprocess"){const s=o.transform(r.data);return r.common.async?Promise.resolve(s).then(l=>this._def.schema._parseAsync({data:l,path:r.path,parent:r})):this._def.schema._parseSync({data:s,path:r.path,parent:r})}const i={addIssue:s=>{q(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),o.type==="refinement"){const s=l=>{const a=o.refinement(l,i);if(r.common.async)return Promise.resolve(a);if(a instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?de:(l.status==="dirty"&&n.dirty(),s(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?de:(l.status==="dirty"&&n.dirty(),s(l.value).then(()=>({status:n.value,value:l.value}))))}if(o.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Kd(s))return s;const l=o.transform(s.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Kd(s)?Promise.resolve(o.transform(s.value,i)).then(l=>({status:n.value,value:l})):s);xe.assertNever(o)}}nr.create=(e,t,n)=>new nr({schema:e,typeName:le.ZodEffects,effect:t,...fe(n)});nr.createWithPreprocess=(e,t,n)=>new nr({schema:t,effect:{type:"preprocess",transform:e},typeName:le.ZodEffects,...fe(n)});class Qr extends he{_parse(t){return this._getType(t)===Y.undefined?Ht(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Qr.create=(e,t)=>new Qr({innerType:e,typeName:le.ZodOptional,...fe(t)});class Gi extends he{_parse(t){return this._getType(t)===Y.null?Ht(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Gi.create=(e,t)=>new Gi({innerType:e,typeName:le.ZodNullable,...fe(t)});class ou extends he{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Y.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ou.create=(e,t)=>new ou({innerType:e,typeName:le.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...fe(t)});class Jd extends he{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Gd(o)?o.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Qn(r.common.issues)},input:r.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Qn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Jd.create=(e,t)=>new Jd({innerType:e,typeName:le.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...fe(t)});class qd extends he{_parse(t){if(this._getType(t)!==Y.nan){const r=this._getOrReturnCtx(t);return q(r,{code:W.invalid_type,expected:Y.nan,received:r.parsedType}),de}return{status:"valid",value:t.data}}}qd.create=e=>new qd({typeName:le.ZodNaN,...fe(e)});const fR=Symbol("zod_brand");class _E extends he{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ou extends he{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?de:i.status==="dirty"?(n.dirty(),xE(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const o=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?de:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:r.path,parent:r})}}static create(t,n){return new Ou({in:t,out:n,typeName:le.ZodPipeline})}}const SE=(e,t={},n)=>e?il.create().superRefine((r,o)=>{var i,s;if(!e(r)){const l=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,a=(s=(i=l.fatal)!==null&&i!==void 0?i:n)!==null&&s!==void 0?s:!0,u=typeof l=="string"?{message:l}:l;o.addIssue({code:"custom",...u,fatal:a})}}):il.create(),pR={object:We.lazycreate};var le;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"})(le||(le={}));const hR=(e,t={message:`Input not instance of ${e.name}`})=>SE(n=>n instanceof e,t),EE=Kn.create,kE=Vo.create,mR=qd.create,gR=Ko.create,CE=Ya.create,yR=Vi.create,vR=Zd.create,xR=Qa.create,wR=Ja.create,_R=il.create,SR=Di.create,ER=ro.create,kR=Yd.create,CR=Jn.create,bR=We.create,NR=We.strictCreate,TR=qa.create,$R=op.create,OR=Xa.create,IR=Nr.create,RR=eu.create,PR=Qd.create,DR=Ki.create,MR=Ws.create,LR=tu.create,AR=nu.create,FR=Go.create,zR=ru.create,jR=sl.create,Ix=nr.create,BR=Qr.create,WR=Gi.create,UR=nr.createWithPreprocess,HR=Ou.create,VR=()=>EE().optional(),KR=()=>kE().optional(),GR=()=>CE().optional(),ZR={string:e=>Kn.create({...e,coerce:!0}),number:e=>Vo.create({...e,coerce:!0}),boolean:e=>Ya.create({...e,coerce:!0}),bigint:e=>Ko.create({...e,coerce:!0}),date:e=>Vi.create({...e,coerce:!0})},YR=de;var bn=Object.freeze({__proto__:null,defaultErrorMap:Za,setErrorMap:XI,getErrorMap:Hd,makeIssue:Vd,EMPTY_PATH:eR,addIssueToContext:q,ParseStatus:At,INVALID:de,DIRTY:xE,OK:Ht,isAborted:_g,isDirty:Sg,isValid:Kd,isAsync:Gd,get util(){return xe},get objectUtil(){return wg},ZodParsedType:Y,getParsedType:bo,ZodType:he,ZodString:Kn,ZodNumber:Vo,ZodBigInt:Ko,ZodBoolean:Ya,ZodDate:Vi,ZodSymbol:Zd,ZodUndefined:Qa,ZodNull:Ja,ZodAny:il,ZodUnknown:Di,ZodNever:ro,ZodVoid:Yd,ZodArray:Jn,ZodObject:We,ZodUnion:qa,ZodDiscriminatedUnion:op,ZodIntersection:Xa,ZodTuple:Nr,ZodRecord:eu,ZodMap:Qd,ZodSet:Ki,ZodFunction:Ws,ZodLazy:tu,ZodLiteral:nu,ZodEnum:Go,ZodNativeEnum:ru,ZodPromise:sl,ZodEffects:nr,ZodTransformer:nr,ZodOptional:Qr,ZodNullable:Gi,ZodDefault:ou,ZodCatch:Jd,ZodNaN:qd,BRAND:fR,ZodBranded:_E,ZodPipeline:Ou,custom:SE,Schema:he,ZodSchema:he,late:pR,get ZodFirstPartyTypeKind(){return le},coerce:ZR,any:_R,array:CR,bigint:gR,boolean:CE,date:yR,discriminatedUnion:$R,effect:Ix,enum:FR,function:MR,instanceof:hR,intersection:OR,lazy:LR,literal:AR,map:PR,nan:mR,nativeEnum:zR,never:ER,null:wR,nullable:WR,number:kE,object:bR,oboolean:GR,onumber:KR,optional:BR,ostring:VR,pipeline:HR,preprocess:UR,promise:jR,record:RR,set:DR,strictObject:NR,string:EE,symbol:vR,transformer:Ix,tuple:IR,undefined:xR,union:TR,unknown:SR,void:kR,NEVER:YR,ZodIssueCode:W,quotelessJson:qI,ZodError:Qn});const QR=0,JR=1,qR=2,XR=3,eP=128,tP=256,bE=256**2,Iu="00",NE="0000",Ru=`${Iu}${Zi(QR,"5b")}`;function ip(e){return parseInt(xt(e),16)<bE-1}function Zi(e,t){const n=parseInt(t,10);if(n<1||n>6)throw new Error("Invalid length");if(e>256**n)throw new Error(`Number too large: ${e}`);return e.toString(16).padStart(n*2,"0")}const xt=e=>{if(e.length!==24)throw new Error(`Invalid document id: ${e}`);return e.slice(12,24)},Oh=e=>{if(e.length!==24)throw new Error(`Invalid document id: ${e}`);return e.slice(12,24)};function $t(e){if(e.length!==24)throw new Error(`Invalid field id: ${e}`);return e.slice(12,24)}function Zo(e,t){const n=t?xt(t):Ru,r=`${Iu}${Zi(e,"5b")}`;return`${n}${r}`}const nP=e=>xt(e).slice(0,2),sp=(e,t)=>{const n=Zi(e,"3b");return[xt(t),Iu,NE,n].join("")},rP=e=>parseInt(e.slice(-6),16),Xd=(e,t)=>`${xt(t)}${$t(e)}`,Ln=(e,t)=>{if(t.length!==12)throw new Error(`Invalid raw field id: ${t}`);return`${xt(e)}${t}`},pe=e=>{if(e.length!==24)throw new Error(`Invalid field id: ${e}`);return`${Iu}${Zi(0,"5b")}${e.slice(0,12)}`},oP=e=>{if(e.length===12)return`${Ru}${e}`;if(e.length!==24)throw new Error(`Invalid field id: ${e}`);return e},iP=e=>{if(e.length===12)return`${Ru}${e}`;if(e.length!==24)throw new Error(`Invalid field id: ${e}`);return e},TE=e=>{if(e.length!==24)throw new Error(`Invalid field id: ${e}`);return`${Iu}${Zi(0,"5b")}${e.slice(0,12)}`},sP=e=>xt(e).slice(8,12),dn=e=>{if(![12,24].includes(e.length))throw new Error(`Invalid field id: ${e}`);const t=e.length===24?e.slice(14,18):e.slice(2,6);return t===NE&&e.length===24?pe(e):`${Ru}${t.padStart(12,"0")}`},Pu=e=>dn(e)!==pe(e),by=e=>{if(Pu(e))return $t(e);const t=pe(e),n=nP(t),r=sP(t),o=e.slice(18,24);return[n,r,o].join("")},_e=(e,t)=>Pu(t)?Xd(t,e):Ln(e,by(t));function kg(e){const t=dn(e);return sp(rP(e),t)}const Ci=e=>e.slice(0,12)!==Ru,lP=(e,t)=>{const n=pe(e);return xt(n)===xt(t)},aP=27,pn=e=>{e=e.toLowerCase();const t=[],n=s=>{r%5===0?t.unshift(s):t[0]=t[0]*aP+s,r++};let r=0,o=0;for(;r<e.length;){let s=e[r+o];if(s==="_"||s==="$")n(25);else if(s==="#")n(26);else{let l=parseInt(s,36);if(Number.isNaN(l)){o++;continue}n((l>=10?l-10:l)+1)}}t.reverse();const i=t.splice(0,2);return typeof i[1]!="number"&&(i[1]=0),t.forEach((s,l)=>{l%2?(i[0]+=(16777216-s)%1876429,i[1]+=s*(1+1e3*(l+3))&16777215):(i[1]+=(16777216-s)%1876429,i[0]+=s*(1+1e3*(l+3))&16777215)}),`${Zi(i[1]&16777215,"3b")}${Zi(i[0]&16777215,"3b")}`},Ih={id:50,template:3,field:5},uP=bn.object({workspace:bn.string(),id:bn.number(),template:bn.number(),id_offsets:bn.array(bn.number()),template_offsets:bn.array(bn.number()),field_offsets:bn.array(bn.number()),docs:bn.array(bn.string())}),Rx=(e,t,n)=>{const r=n+1,o=Math.floor(r/t)*t,i=e.findIndex(l=>o>=l),s=e[i];if(o!==s){if(i<=0)return[null,!0];const l=e[i-1];return[l+r%t,l===0]}return[r,i===0]},Du=w.createContext(null);function cP({children:e}){const{organization:t}=or(),n=t.workspaces[0].name,r=(g="ids")=>`${t.slug}:${g}`,o=g=>typeof window>"u"?null:localStorage.getItem(g)??null,i=async()=>{if(s())return;const[g,v,S]=await Promise.all([y("id"),y("template"),y("field")]),E={workspace:n,id:g,template:v,id_offsets:[g],template_offsets:[v],field_offsets:[S],docs:[]};localStorage.setItem(r(),JSON.stringify(E))},s=()=>{const g=o(r());if(!g)return null;try{const v=uP.parse(JSON.parse(g));if(v.workspace!==n)throw new Error("Workspace mismatch");return v}catch(v){return console.error(v),localStorage.removeItem(r()),null}},l=()=>{const g=s();if(!g)throw new Error("Object not found");return g},a=g=>{const v=l(),S=v[g],E=v[`${g}_offsets`],[b,k]=Rx(E,Ih[g],S);if(k&&y(g).then(O=>h(g,O)),!b)throw new Error("No more ids available");return localStorage.setItem(r(),JSON.stringify({...v,[g]:b})),b},u=()=>a("id")+bE,c=()=>a("template")+tP,d=g=>{const v=l(),S=v.docs,E=xt(g),b=S.includes(E),k=v.field_offsets;let O;if(b){const $=o(r(E));if(!$)throw new Error("Field number should exist but was not found");const R=parseInt($),[T,D]=Rx(k,Ih.field,R);if(D&&y("field").then(F=>h("field",F)),!T)throw new Error("No more ids available");O=T}else S.push(E),O=k[k.length-1];return localStorage.setItem(r(E),O.toString()),localStorage.setItem(r(),JSON.stringify({...v,docs:S})),O},f=w.useRef({id:null,template:null,field:null}),p=zn(),h=(g,v)=>{if(v===null)return;const S=l();localStorage.setItem(r(),JSON.stringify({...S,[`${g}_offsets`]:[v,...S[`${g}_offsets`]]}))},y=async g=>{if(!f.current[g]){const v=p.admin.getOffset.query({name:g,size:Ih[g]}),S=v.then(b=>b.result).finally(()=>{f.current[g]=null}),E=Object.assign(S,{abort(){v.abort()}});f.current[g]=E}return await f.current[g]};w.useEffect(()=>{if(n)return i(),()=>{var g,v,S;(g=f.current.id)==null||g.abort(),f.current.id=null,(v=f.current.template)==null||v.abort(),f.current.template=null,(S=f.current.field)==null||S.abort(),f.current.field=null}},[n]);const x=w.useMemo(()=>({getDocumentNumber:u,getTemplateNumber:c,getFieldNumber:d}),[n]);return n?m(Du.Provider,{value:x,children:e}):null}const dP=()=>{const e=w.useContext(Du);if(!e)throw Error("No IdContext.Provider");return w.useCallback(()=>Zo(e.getDocumentNumber()),[e])},jn=()=>{const e=w.useContext(Du);if(!e)throw Error("No IdContext.Provider");return w.useCallback(t=>t?Zo(e.getDocumentNumber(),t):Zo(e.getDocumentNumber()),[e])},fP=()=>{const e=w.useContext(Du);if(!e)throw Error("No IdContext.Provider");return w.useCallback(()=>Zo(e.getTemplateNumber()),[e])},pP=()=>{const e=w.useContext(Du);if(!e)throw Error("No IdContext.Provider");return w.useCallback(t=>sp(e.getFieldNumber(t),t),[e])},$E=e=>{if(e.length!==3&&e.length!==6)throw new Error(`Invalid hex color: ${e}`);if(e.length===3){const t=parseInt(`${e[0]}${e[0]}`,16),n=parseInt(`${e[1]}${e[1]}`,16),r=parseInt(`${e[2]}${e[2]}`,16);return[t,n,r]}else{const t=parseInt(`${e[0]}${e[1]}`,16),n=parseInt(`${e[2]}${e[3]}`,16),r=parseInt(`${e[4]}${e[5]}`,16);return[t,n,r]}},hP=(e,t,n)=>{const[r,o,i]=$E(e);let s=1/0,l=0;for(let a=0;a<t.length;a+=3){const u=t[a],c=t[a+1],d=t[a+2],f=Math.sqrt(Math.pow(r-u,2)+Math.pow(o-c,2)+Math.pow(i-d,2));f<s&&(s=f,l=a/3)}return n[l]},Cg=Zo(JR),Yo=Zo(qR),je={type:"root",children:[]};function mP(e){const t=new Set,n=s=>(t.add(s),()=>{t.delete(s)});let r=e;return[n,s=>{r=s,t.forEach(l=>l(s))},()=>r]}let Us,$n=null,On=0,wa=[],bg=0;function Ng(e){bg++;const t=e();return bg--,Tg(),t}const Nc=0,Rh=1,ds=2;function gP(e,t){const n=Us,r=$n,o=On;Us=e,$n=null,On=0;try{t()}finally{$n=r,Us=n,On=o}}class Px{constructor(t,n){un(this,"fn");un(this,"_value");un(this,"observers",null);un(this,"sources",null);un(this,"store");un(this,"state");un(this,"asyncTimestamp",null);un(this,"subscribers",new Set);un(this,"notifyVersion",0);un(this,"updateVersion",0);un(this,"sync",[t=>this.subscribe(t),()=>this.peek()]);this.fn=t,this.fn?this.state=ds:this.state=Nc,this._value=void 0,this.store=n}initialized(){return typeof this.fn<"u"}get value(){return this.get()}peek(){return this.updateIfNecessary(),this._value}get(){return Us&&(!$n&&Us.sources&&Us.sources[On]==this?On++:$n?$n.push(this):$n=[this]),this.peek()}set(t,n){if(this.fn=t,wa.push(()=>this.notify()),this.state=ds,this.observers)for(let r=0;r<this.observers.length;r++)this.observers[r].stale(Rh);Tg(n)}then(t,n){if(n!==this.asyncTimestamp)return;wa.push(()=>this.notify());const r=this._value;if(this._value=t,r!==this._value&&(this.updateVersion++,this.observers))for(let o=0;o<this.observers.length;o++)this.observers[o].stale(ds);Tg()}stale(t){if(this.state===Nc&&wa.push(()=>this.notify()),this.state<t&&(this.state=t,this.observers))for(let n=0;n<this.observers.length;n++)this.observers[n].stale(Rh)}handleSources(){if($n){if(this.removeAsObserver(),this.sources&&On>0){this.sources.length=On+$n.length;for(let t=0;t<$n.length;t++)this.sources[On+t]=$n[t]}else this.sources=$n;for(let t=On;t<this.sources.length;t++){const n=this.sources[t];n.observers?n.observers.push(this):n.observers=[this]}}else this.sources&&On<this.sources.length&&(this.removeAsObserver(),this.sources.length=On)}update(){if(!this.initialized())throw new Error("Not initialized");const t=this._value;if(gP(this,()=>{const n=this.fn(t);if(typeof n=="object"&&n!==null&&"then"in n){const r=Date.now();this.asyncTimestamp=r,n.then(o=>this.then(o,r))}else this._value=n;this.handleSources()}),t!==this._value&&(this.updateVersion++,this.observers))for(let n=0;n<this.observers.length;n++)this.observers[n].state=ds;this.state=Nc}updateIfNecessary(){if(this.state===Rh){for(const t of this.sources)if(t.updateIfNecessary(),this.state===ds)break}this.state===ds&&this.update(),this.state=Nc}removeAsObserver(){if(this.sources)for(let t=On;t<this.sources.length;t++){const n=this.sources[t],r=n.observers.findIndex(o=>o===this);n.observers[r]=n.observers[n.observers.length-1],n.observers.pop(),n.possiblyDeleteFromStore()}}deleteFromStore(){return this.store?(this.removeAsObserver(),this.store.map.delete(this.store.key),!0):!1}possiblyDeleteFromStore(){return new Promise(t=>{queueMicrotask(()=>{const n=this.subscribers.size>0,r=this.observers&&this.observers.length>0;return t(n||r?!1:this.deleteFromStore())})})}subscribe(t){return this.subscribers.add(t),t(this.value),()=>{this.subscribers.delete(t),this.possiblyDeleteFromStore()}}notify(){const t=this.peek();this.notifyVersion!==this.updateVersion&&(this.subscribers.forEach(n=>n(t)),this.notifyVersion,this.updateVersion)}}function Tg(e){if(!bg){let t=Array.from(wa);wa.length=0,(e?queueMicrotask:r=>r())(()=>{for(let r=0;r<t.length;r++)t[r]();t.length=0})}}class OE{constructor(){un(this,"map",new Map)}use(t,n){let r=this.map.get(t);return r?(!r.initialized()&&n&&r.set(n,!0),r):(r=new Px(n,{map:this.map,key:t}),this.map.set(t,r),r)}useMany(t,n){const r=[];for(let i of Array.from(this.map.keys()))i.match(t)&&r.push(i);const o=[];for(let i of r){const s=n?this.use(i,l=>n(i,l)):this.use(i);o.push([i,s])}return o}useAsync(t,n){let r=this.map.get(t);return!n||!("then"in n)?this.use(t,n):(r?r.initialized()||n.then(o=>o&&r.set(o,!0)):(r=new Px(void 0,{map:this.map,key:t}),this.map.set(t,r),n.then(o=>o&&r.set(o,!0))),r)}}function yP(e,t){let n={transaction:void 0};function r(a,u){var c;t.has(a)?u&&((c=t.get(a))==null||c.add(u)):t.set(a,new WeakSet(u?[u]:void 0))}const o=(a,u)=>{let c=[];return typeof a=="function"?c=i(a,u):c=[a],c.length===0?(e.push(c),!1):(c.forEach(d=>{r(d,u)}),e.push(c),!0)};function i(a,u){const c=a(n.transaction);return c.await?(n.transaction=c.await,r(c.await,u)):n.transaction=void 0,c.push??[]}const s=a=>{const u=e.get();n.transaction&&u.push({...e.getMetadata(),transaction:n.transaction,transactionIndex:null,timelineIndex:null,trackers:t.get(n.transaction)}),u.forEach(c=>{a(c)})};function l(a){return a(),e.registerListener(a)}return{push:o,forEach:s,register:l}}function Pt(e){return{queue:e[0],prev:e[1],user:e[2],transactions:e.slice(3)}}function Tc(e){if(!e)return null;const{prev:t,user:n,queue:r}=Pt(e);return`${t}-${n}-${r}`}const Dx=(e,t={})=>{const n=[];return e.forEach((r,o)=>{const{transactions:i,...s}=Pt(r),l=t.includeTimelineIndex?o:null;i.forEach((a,u)=>{var c;n.push({...s,timelineIndex:l,transactionIndex:u,transaction:a,trackers:(c=t.trackers)==null?void 0:c.get(a)})})}),n};function IE(e,t){if(t===null)return e;let n=new Map;const r=l=>{let a=n.get(l);if(!a){const u=Array.isArray(t)?t:t[l]??[0];a={version:u,index:u[0]+0,elements:[],shadows:new Set,allAreShadows:!0},n.set(l,a)}return a};let o=e.map(()=>[]),i=!1;if(e.forEach((l,a)=>{if(i)return;let u=o[a];l.forEach(c=>{if(i)return;const{prev:d,queue:f,user:p}=Pt(c),h=r(f);if(h.elements.push(c),i=d>h.index,i)return;if(d===h.version[1]&&p===h.version[2]){o.forEach(g=>g.length=0),h.index=0;return}d<h.version[0]||h.shadows.has(d)?(u.push([f,d,p]),h.shadows.add(h.index)):(h.allAreShadows=!1,u.push(c)),h.index++})}),i)return o.forEach(l=>l.length=0),o;const s=[];return Array.from(n.values()).forEach(l=>{l.allAreShadows&&l.elements.length&&s.push(...l.elements)}),s.length&&(o=o.map(l=>l.filter(a=>!s.includes(a)))),o}const oo=e=>Array.isArray(e)&&typeof e[0]=="number"&&(e.length===1||typeof e[1]=="number"),Ny=e=>Array.isArray(e)&&e.length===2&&typeof e[0]=="string",Ee=e=>{const t=[];let n;return e({target(o){return n=o,this},splice(...o){if(n===void 0)throw new Error("No target specified.");const i=o.filter(s=>s!==void 0);return i.length&&(t[n]||(t[n]=[]),t[n].push(...i.map(({index:s,remove:l,insert:a})=>a?[s,l??0,a]:l?[s,l]:[s]))),this},toggle(...o){if(n===void 0)throw new Error("No target specified.");const i=o.filter(s=>s!==void 0);return i.length&&(t[n]||(t[n]=[]),t[n].push(...i.map(({name:s,value:l})=>[s,l]))),this}}),Object.entries(t)};function fs(e){function t(n){if(!n||typeof n!="object")return n;if(Array.isArray(n))return n.map(t);{const r={};return Object.entries(n).forEach(([o,i])=>{r[o]=t(i)}),r}}return t(e)}const vP=Math.random().toString(36).slice(2,10),Mx=e=>e;function $c(e={}){const{user:t=vP,debugId:n=""}=e;let r=Mx;const o={shared:[],posted:[],postedIds:[],current:[],versions:null,initialized:!1,stale:!1,saving:!1},i=()=>({isMutated:Boolean(o.shared.length+o.posted.length+o.current.length)}),s=new Map,l=new WeakMap,a=new Map;let u=null,c=!1,d=null;function f(A,z,I={}){if(o.saving)if(z)d=z,c=[];else return K;if(z){if(r=z.transform??Mx,o.versions=z.versions,o.initialized=!0,o.stale=!1,o.saving=!1,!I.keepListeners)if(z.versions!==null&&!Array.isArray(z.versions)){const M=o.versions;if(M===null||Array.isArray(M))throw new Error("Invalid versions");Object.entries(z.versions).forEach(([U,se])=>{var V,ue;se[0]>(((V=M==null?void 0:M[U])==null?void 0:V[0])??0)&&((ue=a.get(U))==null||ue.clear())})}else a.forEach(M=>M.clear());Array.isArray(c)?(I.resetLocalState&&(o.current=[]),console.log("/t",n,"INITIALIZED WITH PREFETCHED"),x(c),k(),c=!1):console.log("/t",n,"INITIALIZED WITH FETCH")}return!u&&!c&&(o.initialized||(c=!0),u=A().then(M=>{M.length&&(o.initialized?(x(M),k(),c=!1):c=M)}).finally(()=>{u=null})),K}async function p(A,z){return u?(await u,K):o.initialized?K:(f(A,z),u&&await u,K)}function h(){o.posted.length||(o.posted=o.current,o.postedIds=o.current.map(A=>Tc(A)),o.current=[])}function y(){o.current=o.posted.concat(o.current),o.posted=[],o.postedIds=[]}function x(A){let z=[];console.log("/t",n,"---STATE BEFORE ",fs(o)),o.posted.forEach((V,ue)=>{const Se=o.postedIds[ue],it=A.find(Le=>Tc(Le)===Se);if(it){const Le=Pt(V).transactions,Cn=Pt(it).transactions;Le.forEach((ke,Ae)=>{const we=l.get(ke);we&&(l.delete(ke),l.set(Cn[Ae],we))})}else z.push(V)});let I=o.current;console.log("/t",n,"---PACKAGES BEFORE FILTER",fs({shared:A,posted:z,current:I})),[A,z,I]=IE([A,z,I],o.versions),I=I.filter(V=>V.length>3),console.log("/t",n,"---PACKAGES AFTER FILTER",fs({shared:A,posted:z,current:I}));const M=r([...A,...z,...I]),U=M.splice(A.length+z.length,I.length),se=M.splice(A.length,z.length);console.log("/t",n,"---NEW ",{shared:fs(M),posted:fs(se),current:fs(U)}),o.shared=M,o.posted=se,o.current=U,R.trigger(i().isMutated)}let g=null;async function v(A){if(g)return await g;if(!(!(H()>0||o.current.length>0)||o.saving||o.posted.length>0||o.stale))return h(),g=A(o.posted,{startId:Tc(o.shared[0]),length:o.shared.length}).then(I=>(g=null,o.saving||I.status==="error"?(console.warn("/t",n,"RETRACT"),y(),"error"):I.status==="stale"?(console.warn("/t",n,"STALE",Tc(o.shared[0]),I.updates),y(),c=I.updates,o.stale=!0,$.trigger(I.updates),o.stale!==!0?"success":(o.current=o.posted,o.posted=[],"stale")):(I.updates.length&&(x([...o.shared,...I.updates]),new Set(I.updates.map(M=>Pt(M).queue)).forEach(M=>{k(M)})),"success"))),await g}async function S(A){if(o.saving=!0,o.posted.length||o.current.length)return!1;const I=await A(o.shared);return o.saving=!1,I.status==="success"?(d?(console.log("/t",n,"WITH SAVED DATA",d),c=I.updated,f(()=>new Promise(()=>[]),d),d=null):(c=I.updated,o.stale=!0,$.trigger(c)),!0):!1}const E=A=>{const z=Dx(o.shared,{trackers:l,includeTimelineIndex:!0}).filter(M=>M.queue===A),I=Dx([...o.posted,...o.current],{trackers:l,includeTimelineIndex:!1}).filter(M=>M.queue===A);return[...z,...I]};function b(A,z){let I=a.get(A);return I||(I=new Set([]),a.set(A,I)),I.add(z),()=>{I==null||I.delete(z)}}function k(A){console.log("/t",n,"LISTENERS TRIGGERED",A),Ng(()=>{var z;A?(z=a.get(A))==null||z.forEach(I=>I()):a.forEach(I=>I.forEach(M=>M())),R.trigger(i().isMutated)})}const O=()=>{const A=new Set;return{register(z){return A.add(z),()=>{A.delete(z)}},trigger(z){A.forEach(I=>I(z))}}},$=O(),R=O(),T=A=>{var z,I,M;return Array.isArray(o.versions)?(z=o.versions)==null?void 0:z[0]:((M=(I=o.versions)==null?void 0:I[A])==null?void 0:M[0])??0},D=A=>{const z=o.shared.filter(M=>Pt(M).queue===A);return T(A)+z.length},F=A=>({getMetadata(){return{user:t,prev:D(A),queue:A}},get(){return E(A)},push(z){if(z.length){let I=o.current[o.current.length-1];if(!I||Pt(I).queue!==A){const M=D(A);I=[A,M,t],o.current.push(I)}I.push(...z)}k(A)},registerListener(z){return b(A,z)}});function H(){let A=0;return a.forEach(z=>A+=z.size),A}function ee(){return H()===0&&o.posted.length===0&&o.current.length===0}const K={initialize:f,softInitializeAsync:p,sync:v,save:S,getQueue(A=""){let z=s.get(A);return z||(z=yP(F(A),l),s.set(A,z)),z},getStatus:i,registerStaleListener:$.register,registerMutationListener:R.register,isInactive:ee};return K}function xP(e){Array.from(e.entries()).forEach(([t,n])=>{n.isInactive()&&e.delete(t)})}const wP=()=>{let e={};const t=new Promise((n,r)=>{e.resolve=n,e.reject=r});return Object.assign(t,e),t};async function _P(e,t){const n=[],r=(s,l,a)=>{const u=wP();return n.push({id:a,entries:s,state:l,promise:u}),u};e.forEach((s,l)=>s.sync((a,u)=>r(a,u,l)));const o=n.reduce((s,{id:l,entries:a,state:u})=>(a.length&&(s[l]={entries:a,...u}),s),{}),i=await t(o);return n.forEach(({id:s,promise:l})=>{Sr(i)?l.resolve({status:"error"}):l.resolve(Ut(i)[s]??{status:"success",updates:[]})}),i}function SP(e){const{duration:t=5e3}=e,n=async u=>{const c=await e.sync({[u]:{entries:[],startId:null,length:0}});return Sr(c)?[]:Ut(c)[u].updates},r=$c({debugId:"folders"}),o=$c({debugId:"documents"}),i=new Map,[s,l]=mP("done"),a=async(u,c)=>{l("loading");const d=new Map(i);d.set("documents",o),u%3===0&&d.set("folders",r);const f=await _P(d,e.sync);return l("done"),xP(i),f};return{registerEventListener:s,registerMutationListener(){},sync:a,syncOnInterval(){return oE((u,c)=>a(u),{duration:t})},getTimeline(u){return u==="folders"?r:u==="documents"?o:i.get(u)},async getInitializedTimelineAsync(u,c){let d=i.get(u);return d||(d=$c({debugId:`doc ${parseInt(u,16).toString(16)}`}),i.set(u,d)),await d.softInitializeAsync(()=>n(u),c)},initializeTimeline(u,c){if(u==="folders")return r.initialize(()=>n(u),c);if(u==="documents")return o.initialize(()=>n(u),{versions:null});{let d=i.get(u);return d||(d=$c({debugId:`doc ${parseInt(u,16).toString(16)}`}),i.set(u,d)),d.initialize(()=>n(u),c)}},async saveTimeline(u,c){const d=i.get(u);return await d.sync(async(p,h)=>{const y=await e.sync({[u]:{entries:p,...h}});return Sr(y)?{status:"error"}:Ut(y)[u]})?await d.save(async p=>{if(!await c(p))return{status:"error"};const y=await e.update({id:u,index:p.length});return Sr(y)?{status:"error"}:{status:"success",updated:Ut(y)}}):!1}}}const RE=w.createContext(null),sn=()=>ct(RE,"Collab");function EP({children:e}){const t=pE(),n=w.useMemo(()=>SP({sync:t.collab.sync.mutation,update:t.collab.update.mutation}),[t]);return w.useLayoutEffect(()=>n.syncOnInterval(),[t]),m(RE.Provider,{value:n,children:e})}function Je(e,t){const n=sn();return w.useCallback((...r)=>n.getTimeline(e).getQueue(t).push(...r),[n,e,t])}function Sn(e){return e!==null&&typeof e=="object"}function PE(e){return Sn(e)&&"field"in e}function kP(e){return Sn(e)&&"n"in e}function CP(e){return Sn(e)&&"x"in e}function DE(e){return Sn(e)&&"id"in e&&"element"in e}function ME(e){return Sn(e)&&"id"in e&&"folder"in e}function LE(e){return Sn(e)&&"id"in e&&"text"in e}function bP(e){return Sn(e)&&"id"in e&&!DE(e)&&!PE(e)&&!ME(e)&&!LE(e)}function NP(e){return Sn(e)&&"id"in e}function AE(e){return Sn(e)&&"src"in e}function FE(e){return Sn(e)&&"color"in e}function zE(e){return Sn(e)&&"name"in e}function jE(e){return Sn(e)&&"ctx"in e}function BE(e){return Sn(e)&&"state"in e}function TP(e){return AE(e)||FE(e)||zE(e)||jE(e)||BE(e)}function $P(e){return typeof e!="object"||e instanceof Date}const G={isNestedField:PE,isNestedFolder:ME,isNestedElement:DE,isNestedDocument:bP,isNestedCreator:LE,isNestedEntity:NP,isLineBreak:kP,isParameter:CP,isPrimitiveValue:$P,isFileToken:AE,isColorToken:FE,isCustomToken:zE,isContextToken:jE,isStateToken:BE,isToken:TP},lp=(e,t)=>Array.from(e.matchAll(new RegExp(`^(${t})|[^\\\\](${t})`,"g")),n=>n.index===void 0?null:n[1]?{index:n.index,value:n[1]}:n[2]?{index:n.index+1,value:n[2]}:null).filter(n=>n!==null),Lx=(e,t)=>{const n=lp(e,t);let r=[],o=0;return n.forEach(i=>{r.push(e.slice(o,i.index)),r.push(e.slice(i.index,i.index+i.value.length)),o=i.index+i.value.length}),r.push(e.slice(o,e.length)),r};function Mu(e,t,n=!0){let r=0;for(let o=0;o<e.length;o++){let i=e[o];if(G.isPrimitiveValue(i))if(typeof i=="boolean"){if(t(i,r++))return}else if(n)if(i===""){if(t(i,r++))return}else{let s=`${i}`,l=s.length;for(let a=0;a<l;a++)if(t(s[a],r++))return}else{if(t(`${i}`,r))return;r+=`${i}`.length}else if(t(i,r++))return}}function Jr(e){return e.reduce((t,n)=>{if(G.isPrimitiveValue(n)){if(typeof n=="boolean")return t+1;{const r=`${n}`.length;return t+r}}else return t+1},0)}function Hs(e,t,n){let r=t<0?Jr(e)-t:t,o=n===void 0?Jr(e):n<0?Jr(e)+n:n,i=[];if(r===o)return i;const s=()=>{let a=i[i.length-1];`${Number(a)}`===a&&(i[i.length-1]=Number(a))};let l=a=>{s(),i.push(a)};return Mu(e,(a,u)=>{if(u<r)return;if(u>=o)return!0;let c=i[i.length-1];G.isPrimitiveValue(a)&&typeof a=="string"&&typeof c=="string"?i[i.length-1]=`${c}${a}`:l(a)}),s(),i}function WE(e,...t){const n=(o,i)=>{if(typeof o[o.length-1]=="number"&&typeof i[0]=="number"){const s=a=>o[o.length-1]!==0?Number(a):a,l=`${o[o.length-1]}${i[0]}`;return[...o.slice(0,-1),s(l),...i.slice(1)]}if(["string","number"].includes(typeof o[o.length-1])&&["string","number"].includes(typeof i[0])){let s=`${o[o.length-1]}${i[0]}`;return s.match(/\d+\.\d+/)&&(s=Number(s)),[...o.slice(0,-1),s,...i.slice(1)]}return[...o,...i]};return t.reduce((o,i)=>n(o,i),e)}function Ax(e){return e===null?"null":typeof e=="object"?"dref"in e?"document-import":"values"in e?"nested-document":"type"in e?"layout-element":"src"in e?"file-token":"color"in e?"color-token":"fref"in e?"field-import":"filters"in e?"fetcher":"x"in e?"parameter":"symbol":typeof e}function OP(e,t){if(Jr(e)!==Jr(t))return!1;let n=!0;return Mu(e,(r,o)=>{let i=UE(t,o);if(Ax(r)!==Ax(i))n=!1;else if(G.isNestedField(i))r.id!==i.id&&(n=!1);else if(G.isNestedDocument(i))r.id!==i.id&&(n=!1);else if(G.isNestedElement(i))r.id!==i.id&&(n=!1);else if(G.isNestedDocument(i))r.id!==i.id&&(n=!1);else if(G.isFileToken(i))r.src!==i.src&&(n=!1);else if(G.isCustomToken(i))r.name!==i.name&&(n=!1);else if(G.isColorToken(i))r.color!==i.color&&(n=!1);else if(typeof i=="object"){const s=Object.entries(r)[0],l=Object.entries(i)[0];s.some((a,u)=>a!==l[u])&&(n=!1)}else String(r)!==String(i)&&(n=!1)}),n}function UE(e,t){let n;return Mu(e,(r,o)=>{if(!(o<t))return o===t&&(n=r),!0}),n}function Ty(e,...t){let n=[];return Mu(e,(r,o)=>{for(let i=0;i<t.length;i++){let s=t[i];if(typeof s=="string"&&typeof r=="string"){const l=lp(r,s);if(l.length){n.push(...l.map(a=>({...a,index:a.index+o})));break}}else if(typeof s=="function"&&s(r)){n.push({index:o,value:{n:!0}});break}}},!1),n}function IP(e,t){const n=Ty(e,t);let r=e;return n.reverse().forEach(o=>{r=WE(Hs(r,0,o.index),Hs(r,o.index+Jr([o.value])))}),r}function RP(e,...t){const n=Ty(e,...t);let r=[],o=0;return n.forEach(i=>{const s=Jr([i.value]);r.push(Hs(e,o,i.index)),r.push(Hs(e,i.index,i.index+s)),o=i.index+s}),r.push(Hs(e,o,Jr(e))),r}const ae={at:UE,equals:OP,slice:Hs,forEach:Mu,concat:WE,getLength:Jr,match:Ty,split:RP,removeCharacters:IP},PP=(e,t,n,r)=>{let o=t;return n.forEach(i=>{i.transactions.forEach(l=>{l.forEach(([a,u])=>{if(e!==a)return;let c=0,d=0;u.forEach(f=>{if(!oo(f))return;const[p,h,y]=f;if(c>0&&!h&&!y)o=p+c;else if(p<o){p+(h??0)>o?c=o-p:c=0;const x=!y&&!h?d:r(e,y??[]);o+=x;let g=Math.min(h??0,o-p);o-=g}else if(p===o){const x=!y&&!h?d:r(e,y??[]);o+=x,c=0}d=h??0})})})}),o},Ph=e=>{const t=new Map;function n(r){let o=t.get(r);return o||(o=e(r),t.set(r,o)),o}return{get:n,forEach(...r){return t.forEach(...r)}}},DP=(e,t,n,r)=>{let o=[];const i=e[0];return e[1].forEach(s=>{if(!oo(s)){o.push(s);return}let l=[];const[a,u,c]=s;if(u&&(l=[...r.lastSeenState].splice(a,u).reduce((p,h)=>{const y=p[p.length-1],x=r.currentState.findIndex(g=>g===h);if(x>=0)if(y&&x===y[0]+(y[1]??0))y[1]=(y[1]??0)+1;else{const g=[x,1];p.push(g)}return p},[])),c||!u){const f=PP(i,a,t,n),p=l.find(y=>y[0]===f),h=p??[f,0];c&&(h[2]=c),p||l.push(h)}let d=0;l.sort((f,p)=>f[0]-p[0]).forEach(f=>{f[0]+=d;const[,p,h]=f;d+=n(i,h??[]),d-=p??0}),o.push(...l)}),o},MP=e=>{const t=new Map,n=(o,i)=>{const s=i[2];if(!s)return[];let l=t.get(s);if(l)return l;const a=e(o,s??[]);return l=Array.from({length:a},(u,c)=>[i,c]),t.set(s,l),l};return(o,i)=>{const s=[];i[1].forEach(l=>{if(!oo(l))return;const[a,u,c]=l;let f=!u&&!c?s:n(i[0],l);const p=o.splice(a,u??0,...f);s.push(...p)})}};function LP(e,t=n=>n.length){return n=>{const r=Ph(l=>[[0,Array.from({length:e(l)},(u,c)=>[null,c])]]),o=MP(t),i=(l,a,u)=>{const{prev:c,user:d,queue:f,transactions:p}=Pt(l),h=c,y=u.filter(R=>R[0]===f),x=y.findIndex(R=>R===l),g=y.find(R=>R.length>3);if(!g||!p.length)return;const v=Pt(g).prev,S=y.slice(h,x).map(R=>Pt(R)),E=S.filter(R=>R.transactions.length&&R.user!==d),b=R=>{const T=r.get(R).find(([F])=>F<=h)[1].slice(),D=S.filter(F=>F.transactions.length&&F.user===d);return D.length&&D.forEach(F=>{F.transactions.forEach(H=>{H.map(ee=>{ee[0]===R&&o(T,ee)})})}),T},k=Ph(R=>r.get(R)[0][1].slice()),O=Ph(b),$=Boolean(E.length);p.forEach(R=>{R.forEach(T=>{const D=T[0],F=k.get(D);if($){const H=O.get(D),ee=DP(T,E,t,{currentState:F,lastSeenState:H});o(H,T),T[1]=ee}o(F,T)})}),k.forEach((R,T)=>{r.get(T).unshift([a+1,R])}),u[a]=[f,v+x,d,...p]},s=[...n];return s.forEach(i),s}}const $y=["*","+","-","/","=","<",">",">=","<=","&","|"],AP=["in","concat","sum","filter","slug","url","select","loop","root","merge","template","fetch"];function $g(e){return $y.includes(e)}function FP(e){if(e===null||typeof e!="object")return!1;const t=Object.keys(e)[0];return AP.includes(t)}const ns=e=>e!==null&&typeof e=="object"&&"type"in e&&"children"in e,ef=e=>Object.entries(e),zP=(e,t)=>{const n=r=>{r.children.forEach(o=>{ns(o)?n(o):t(o)})};n(e)},Yi=e=>{let t=[],n=null;const r=(o,i=[])=>{if(o.type==="root"){if(n)throw new Error("You have multiple roots in your transform");n=o}else t.push({type:o.type,...o.data&&{data:o.data}}),o.children.map((s,l)=>{ns(s)&&r(s,[...i,l])})};if(r(e),!n)throw new Error("You have no root node in your syntax tree.");return[t,n]},Lu=(e,t)=>t.reduceRight((n,r)=>({...r,children:[n]}),e);function Qt(e,t,n){return e===null||typeof e!="object"?!1:$g(t)?e._===t:t&&t in e?!n||e[t]===n:!1}function Xl(e){return e!==null&&typeof e=="object"}const ea=e=>typeof e!="object"?!0:"id"in e?Boolean(e.inline):"type"in e?!0:G.isPrimitiveValue(e)||G.isToken(e)||G.isParameter(e),Oc=(e,t)=>{for(;e.type!==null&&e.type!=="root";)e=t.get(e);return e},Og=e=>Xl(e)&&"type"in e&&e.type==="merge";function ap(e,t){let n={children:[],type:"root"},r=new WeakMap,o=n;const i=()=>o.children[o.children.length-1],s=c=>{if(!l&&o.children.length&&ea(c)){const d=i();if(Og(d)){d.children.push(c);return}else if(ea(d)&&[null,"root"].includes(o.type)){o.children.pop(),o.children.push({type:"merge",children:[d,c]});return}}l&&!ea(c)&&o.children.push({error:","}),o.children.push(c)};let l=!1,a=!1;const u=()=>{const c=i();return o.children.length===0||!(ea(c)||Og(c))};if(e.forEach(c=>{let d=!1;if(Qt(c,"(")||Qt(c,"[")){const f={children:[],type:null};r.set(f,o),s(f),o=f}else if(FP(c)){o=Oc(o,r),l&&o.children.push({error:","});const[f,p]=Object.entries(c)[0];o.type=f,p!==!0&&(o.data=p);const h=r.get(o);h?o=h:o.children.push({error:")"})}else if(Qt(c,")")||Qt(c,"]")){o=Oc(o,r),l&&o.children.push({error:","}),c[")"]&&typeof c[")"]!="boolean"?o.type=c[")"]:c["]"]&&(o.type="array");const f=r.get(o);f?o=f:o.children.push({error:")"})}else if(Qt(c,",")){o=Oc(o,r);const f=u();(l||f)&&o.children.push({error:","}),d=!f}else if(G.isLineBreak(c))o=Oc(o,r),l&&o.children.push({error:","}),o.children.push(c);else if(Qt(c,"_"))if(o.type!==c._)if(["+","-"].includes(c._)&&["*","/"].includes(o.type)){const f=r.get(o).children.findIndex(y=>y===o),p=r.get(o),h={children:[o],type:c._};r.set(o,h),r.set(h,p),p.children[f]=h,o=h}else{let f;o.children.length===0?f={error:"missing"}:o.children.length===1&&o.type!==null&&o.type!=="root"||(f=o.children[o.children.length-1],o.children.pop());const p={children:f!==void 0?[f]:[],type:c._};r.set(p,o),o.children.push(p),o=p}else a&&o.children.push({error:"missing"});else if(G.isNestedField(c))if("select"in c){let{select:f,...p}=c,h;"loop"in c&&({loop:h,...p}=p);let y={children:[p],type:"select",data:f};h&&(y={children:[y],type:"loop",data:h}),r.set(y,o),s(y)}else s(c);else(G.isNestedDocument(c)||G.isNestedFolder(c)||G.isNestedElement(c)||G.isToken(c)||G.isParameter(c)||G.isPrimitiveValue(c))&&s(c);a=Qt(c,"_"),l=d}),l&&o.children.push({error:","}),o!==n){for(;o!==n;)if($y.includes(o.type)||(o.open=!0),o=r.get(o),!o)throw new Error("Unbalanced brackets")}return t?Lu(n,t):n}function qn(e){e=Yi(e)[1];const t=(r,o)=>{let i=[],s;$g(r.type)&&(s={_:r.type});const l=c=>ea(c)||Og(c),a=(c,d)=>d!==void 0&&r.type!=="merge"&&!s&&l(c)&&l(d);r.children.forEach((c,d)=>{d&&s&&i.push(s);const f=r.children[d-1],p=r.children[d+1];Xl(c)&&"children"in c?(a(c,f)&&i.push({",":!0}),i.push(...t(c,r))):Xl(c)&&"error"in c&&c.error===")"?i.push({")":!0}):Xl(c)&&"error"in c?c.error==="missing"?f&&!(Xl(f)&&"error"in f&&f.error==="missing")&&!p&&i.push(s):i.push({",":!0}):(a(c,f)&&i.push({",":!0}),i.push(c))}),r.children.length<=1&&s&&i.push(s);const u=o===null&&r.type==="root";if(!$g(r.type)){if(!u){if(r.type!=="merge")if(r.type==="select")i[0].select=r.data;else if(r.type==="loop")i[0].loop=r.data;else{let c={"(":!0},d={")":!0};r.type==="array"?(c={"[":!0},d={"]":!0}):r.type!==null&&(d={[r.type]:r.data??!0}),i.unshift(c),r.open||i.push(d)}}}return i};return[...t(e,null)]}const Dh=(e,t)=>$t(e)===$t(t);function Fx(e,t,n={}){const r=t;for(let o of e)if(Array.isArray(o)){const i=o.find(s=>Dh(s.id,r));if(i)return i}else if("id"in o){if(Dh(o.id,r))return o}else if(!n.noPartialConfig&&"template"in o&&o.config){const i=o.config.find(s=>Dh(s.id,r));if(i)return i}}const jP=(e,t,n)=>{let r=null,o=null,i=-1;for(let s of e){if(i++,Array.isArray(s)){let l=s.findIndex(a=>a.id===t);if(l>=0){r=i,o=l;break}}if("id"in s&&s.id===t){r=i;break}}if(r!==null){let s=[...e];return o!==null?(s[r]=[...s[r]],s[r][o]=n(s[r][o])):s[r]=n(s[r]),s}return e},up=(e,t)=>{let n=e.stream,r=e.transforms,o=[];return t[1].forEach(i=>{if(oo(i)){const[s,l=0,a=[]]=i;if(!a.length&&!l)n=ae.concat(ae.slice(n,0,s),o,ae.slice(n,s));else{if(l>0){const c=ae.slice(n,s,s+l);o.push(...c);const d=ae.slice(n,0,s),f=ae.slice(n,s+l);n=ae.concat(d,f)}a.length>0&&!(a.length===1&&a[0]==="")&&(n=ae.concat(ae.slice(n,0,s),a,ae.slice(n,s)))}}else if(Ny(i)){const[s,l]=i,a=r.findIndex(u=>u.type===s);a>=0?l===null?r.splice(a,1):r[a]={type:s,...l!==!0&&{data:l}}:l!==null&&r.push({type:s,...l!==!0&&{data:l}})}}),{stream:n,transforms:r}},HE=(e,t)=>{let n=e;const r=t[0];return t[1].forEach(o=>{if(oo(o)){const[i,s,l]=o;n.splice(i,s??0,...l??[])}else if(Ny(o)){const i=r,[s,l]=o;if(Pu(i)){const a=dn(i),u=n.find(c=>"template"in c&&c.template===a);if(u){"config"in u||(u.config=[]);let c=u.config.findIndex(d=>d.id===i);c<0&&(u.config.push({id:i}),c=u.config.length-1),s==="label"&&l===""?delete u.config[c][s]:u.config[c]={...u.config[c],[s]:l}}}n=jP(n,i,a=>({...a,[s]:l}))}}),n},cp=e=>LP(n=>{if(n==="config")return e.config.length;const r=n;let o=qn(e.record[r]??je);return ae.getLength(o)},(n,r)=>n==="config"?r.length:ae.getLength(r));let BP=0;const Nn=()=>sp(0,Zo(XR+BP++));let WP=0;const UP=()=>Zo(eP+WP++),ie={creation_date:{id:Nn(),label:"Oprettelsesdato"},label:{id:Nn(),label:"Label"},url:{id:Nn(),ui:"url",label:"URL",initialValue:{transforms:[{type:"url"}],children:["","/",""]}},slug:{id:Nn(),label:"URL-segment",initialValue:{transforms:[{type:"slug"}]}},page:{id:Nn(),label:"Side",type2:"children"},layout:{id:Nn(),label:"Layout",type2:"children"},redirect:{id:Nn(),label:"Omdirigering"},published:{id:Nn(),label:"Offentlig"},released:{id:Nn(),label:"Udgivelsesdato"},user:{id:Nn(),label:"Brugeremail"},params:{id:Nn(),label:"URL-segmenter"},template_label:{id:Nn(),label:"Label til template"}},VE=e=>{if(!e.initialValue)return je;const t={...je,children:e.initialValue.children??[]};return e.initialValue.transforms?Lu(t,e.initialValue.transforms):t};function iu(e,t){return dn(ie[t].id)===dn(e)}function HP(e){return Object.values(ie).find(t=>dn(t.id)===dn(e))}const Mh=(e,t)=>{const n={},r=UP();return t.forEach(o=>{o.initialValue&&(n[_e(r,o.id)]=VE(o))}),n[_e(r,ie.template_label.id)]={...je,children:[e]},{_id:r,folder:Yo,config:t.map(o=>({template:dn(o.id)})),record:n,versions:{config:[0]}}},Mi={staticPage:Mh("Statisk side",[ie.url,ie.layout,ie.page]),dynamicPage:Mh("Dynamisk side",[ie.url,ie.params,ie.layout,ie.page]),redirectPage:Mh("Viderestilling",[ie.url,ie.redirect])},Oy=[...Object.values(ie).map(e=>{let{initialValue:t,...n}=e;const r=pe(e.id),o={};return"initialValue"in e&&(o[e.id]=VE(e)),o[_e(r,ie.template_label.id)]={...je,children:[e.label]},{_id:r,folder:Yo,config:[n],record:o,versions:{config:[0,0,""]}}}),...Object.values(Mi)];async function dp(e,t){const n=Oy.find(o=>o._id===e);if(n)return n;const r=await t.documents.findById.query(e);return Ut(r)}function KE(e,t){const n=Oy.find(s=>s._id===e);if(n)return{then(s){return s?s(n):n}};const r=t.documents.findById.key(e),o=uE(r);return typeof o<"u"?{then(s){return s?s(o.doc):o.doc}}:t.documents.findById.query(e).then(s=>Ut(s))}function rs(e){const t=e&&oP(e),n=Oy.find(i=>i._id===t);if(n)return w.useMemo(()=>({doc:n,timeline:[],mutate:()=>{},error:void 0}),[]);const{data:r,error:o}=tr.documents.findById.useQuery(t,{inactive:!t,immutable:!0});return{doc:r,error:r?void 0:o}}function VP(e){const t=sn();w.useLayoutEffect(()=>{console.log("PREFETCHING"),t.initializeTimeline(e),i.current=!1},[t]);const{data:n,error:r,mutate:o}=tr.documents.findById.useQuery(e,{immutable:!0});w.useLayoutEffect(()=>{n&&(console.log("UPDATED! ON STALE?",i.current),t.initializeTimeline(e,{versions:n.versions,transform:cp(n)}),i.current=!1)},[n]);let i=w.useRef(!1);return w.useEffect(()=>t.getTimeline(e).registerStaleListener(()=>{i.current||(o(),i.current=!0)}),[o]),{doc:n,error:n?void 0:r}}async function KP(e,t,n){return Ut(await t.documents.find.query(e,{cachePreload:(o,i)=>{o.forEach(s=>{i(["findById",s._id],()=>s)})},throttle:n?{key:n,ms:250}:void 0}))}function En(e,t){const{data:n,error:r}=tr.documents.find.useQuery(typeof e=="object"?e:{folder:e,limit:50},{inactive:typeof e>"u",immutable:!0,cachePreload:(o,i)=>{o.forEach(s=>{i(["findById",s._id],()=>s)})},throttle:t?{key:t,ms:250}:void 0});return{documents:n,error:r}}const Vl=new Map,GE=e=>{const t=w.useRef(Symbol());return w.useLayoutEffect(()=>(Vl.set(e,[...Vl.get(e)??[],t.current]),()=>{Vl.set(e,(Vl.get(e)??[]).filter(n=>n!==t.current))}),[]),w.useCallback(n=>{var r;((r=Vl.get(e))==null?void 0:r.indexOf(t.current))===0&&n()},[])};function ZE(e,t,{timelineId:n,queueId:r,target:o}){const i=sn(),s=GE(["collab",n,r,o??""].filter(Boolean).join("-"));w.useEffect(()=>{const u=i.getTimeline(n).getQueue(r);return u.register(()=>s(()=>{a(t(u.forEach,"update"))}))},[i,t]);const[l,a]=e(()=>t(u=>{var d;const c=(d=i.getTimeline(n))==null?void 0:d.getQueue(r);console.log("HAS QUEUE READY",c),c&&c.forEach(f=>{console.log("-> HAS QUEUE READY",f),u(f)})},"initial"));return l}const Au=e=>{let t;const n=new Map,r=(d,f)=>{let p=n.get(d);return p||(p=new Set,n.set(d,p)),p.add(f),()=>{var h;(h=n.get(d))==null||h.delete(f)}},o=d=>(t||(t=e()),t.get(d)),i=d=>{var p;(p=n.get(d))==null||p.forEach(h=>h());const f=n.get("");f&&f.size&&(t=e(t),f.forEach(h=>h()))},s=d=>{t&&t.delete(d)},l=d=>{t&&new Set(t.keys()).forEach(f=>{t&&d(f)&&t.delete(f)})},a=(d,f)=>{t||(t=e()),t.get(d)!==f&&(t.set(d,f),i(d))};function u(d){const f=w.useCallback(()=>{d!==void 0&&t===void 0?t=typeof d=="function"?d():d:t===void 0&&(t=e())},[d]);return w.useSyncExternalStore(h=>(f(),r("",h)),()=>(f(),t))}function c(d,f,p){const h=w.useCallback(()=>{if(f!==void 0&&o(d)===void 0){const g=typeof f=="function"?f():f;a(d,g)}},[f]),y=w.useSyncExternalStore(g=>(h(),r(d,g)),()=>(h(),p?p(o(d)):o(d))),x=w.useCallback(g=>{const v=typeof g=="function"?g(o(d)):g;a(d,v)},[]);return[y,x]}return{subscribe:r,get:o,set:a,notify:i,deleteOne:s,deleteMany:l,useStore:u,useKey:c}},GP=e=>{const t=new Map;return n=>{const r={};let o=t.get(n);return o||(o=new Set,t.set(n,o)),o.add(r),()=>{let i=t.get(n);i&&(i.delete(r),i.size===0&&(t.delete(n),e(n)))}}},tf=Au(e=>new Map(e??[])),YE=e=>({_id:e,label:"",spaces:[]}),ZP=e=>{const t=tf.useStore(e),n=w.useCallback(r=>{r.forEach((o,i)=>{tf.set(i,o)})},[]);return[t,n]};function YP({folders:e,children:t}){const n=w.useMemo(()=>({[Oh(Cg)]:{_id:Cg,label:"Hjem",spaces:[{id:"00000000",type:"folders",items:[]}]},[Oh(Yo)]:{_id:Yo,label:"Skabeloner",spaces:[{id:"00000001",type:"documents"}]},...e}),[e]),r=w.useCallback((o,i)=>{const s=i==="initial"?Object.fromEntries(Object.entries(n).map(([a,u])=>[iP(a),{...u,spaces:[...u.spaces]}])):{},l=a=>{const u=n[Oh(a)]??YE(a);return s[a]??{...u,spaces:[...u.spaces]}};return o(({transaction:a})=>{a.forEach(u=>{console.log("ENTRY",u);const[c,d]=u[0].split(":");d?u[1].forEach(f=>{const p=l(c),h=p.spaces.findIndex(g=>g.id===d),y=p.spaces[h];if(console.log("space",{newFolder:p,spaceId:d,space:y}),!y)return;const x={...y,items:[...y.items]};if(oo(f)){const[g,v,S]=f;x.items.splice(g,v??0,...S??[])}p.spaces[h]=x,s[c]=p}):u[1].forEach(f=>{const p=l(c);if(console.log("folder",{newFolder:p}),oo(f)){const[h,y,x]=f;p.spaces.splice(h,y??0,...x??[])}else Ny(f)&&(p[f[0]]=f[1]);s[c]=p})})}),new Map(Object.entries(s))},[n]);return ZE(ZP,r,{timelineId:"folders"}),m(re,{children:t})}const Iy=()=>tf.useStore(),os=e=>tf.useKey(e)[0]??YE(e),Fu=()=>os(Yo),QP=({children:e})=>{const t=sn();w.useLayoutEffect(()=>{t.initializeTimeline("folders"),t.initializeTimeline("documents",{versions:null})},[t]),w.useLayoutEffect(()=>{const r=t.getTimeline("documents");r.registerStaleListener(()=>{r.initialize(async()=>[],{versions:null},{resetLocalState:!0,keepListeners:!0})})},[t]);const{data:n}=tr.admin.getFolders.useQuery(void 0,{onSuccess(r){t.initializeTimeline("folders",{versions:r.version})}});return n?m(YP,{folders:n.record,children:e}):null};function JP(){return np("COLORS",()=>fetch("/colors.json").then(async e=>{const t=await e.json(),n=[],r=[];return t.forEach(([o,i])=>{n.push(...$E(o)),r.push(i)}),[new Uint8Array(n),r]}),{revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateIfStale:!1}),En(Yo),null}const su=()=>Math.random().toString(36).slice(2,10),qP=(e,t)=>Object.fromEntries(Object.entries(e).map(([n,r])=>[n,t(r)]));function XP(e,t){const[n,r]=w.useState(t),o=w.useMemo(()=>{const i={};return Object.keys(e).forEach(s=>{i[s]=l=>{r(a=>e[s](a,l))}}),i},[e]);return[n,o]}function e3(e,t){const[n,r]=w.useState(t),o=w.useMemo(()=>{const i={};return Object.keys(e).forEach(s=>{i[s]=l=>(r(a=>e[s](a,l)),e[s](n,l))}),i},[e,n]);return[n,o]}const t3=e=>{const[t,...n]=e.split(/\/~/);return[`/${PI(t)}`,`/~${n.join("/~")}`]},Ry=e=>{const[t,n]=t3(e),r=n.split(/\/\~/g).slice(1);return{prefix:t,data:r.map((o,i)=>({key:su(),path:o||"/",index:i}))}},QE=({prefix:e,data:t})=>`${e}${t.slice().sort((n,r)=>n.index-r.index).reduce((n,r)=>n+`/~${r.path==="/"?"":r.path}`,"")}`,fp=(e,t)=>{const n=Ry(e);return n.data[t.index].path=t.path,QE(n)},JE=w.createContext(null),qE=w.createContext(null),n3=()=>ct(JE,"PanelsContext"),zu=()=>ct(qE,"PanelActionsContext"),r3=(e,t)=>[...e.map(n=>n.index>=t.index?{...n,index:n.index+1}:n),t],o3=(e,t)=>e.reduce((n,r)=>(r.index>t?n.push({...r,index:r.index-1}):r.index<t&&n.push(r),n),[]),i3=(e,t,n)=>e.reduce((r,o)=>(o.index>t&&o.index>n||o.index<t&&o.index<n?r.push(o):o.index===t?r.push({...o,index:n}):r.push({...o,index:o.index+(n>t?-1:1)}),r),[]),s3={reconcile({prefix:e,data:t},n){const r=Ry(n);return t.length!==r.data.length?r:{prefix:e,data:t.map(o=>({key:o.key,index:o.index,path:r.data[o.index].path}))}},open(e,t){const n=t.index<0?e.data.length+1+t.index:t.index;return{prefix:e.prefix,data:r3(e.data,{key:su(),path:t.path||"/",index:n})}},close(e,t){return e.data.length<=1||t>=e.data.length?e:{prefix:e.prefix,data:o3(e.data,t)}},move(e,t){return{prefix:e.prefix,data:i3(e.data,t.start,t.end)}}};function l3({children:e}){const t=ml();let n=_n();const[r,o]=e3(s3,Ry(n.pathname)),i=w.useRef(!1),s=w.useMemo(()=>qP(o,l=>(...u)=>{const c=l(...u);i.current=!0;const d=QE(c);return t(d),c}),[o,t]);return w.useLayoutEffect(()=>{i.current?i.current=!1:o.reconcile(n.pathname)},[n]),m(JE.Provider,{value:r,children:m(qE.Provider,{value:s,children:e})})}const a3=()=>({get:e=>{if(typeof window>"u")return;const t=localStorage.getItem(e);if(t)return JSON.parse(t)},set:(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},delete:e=>{localStorage.removeItem(e)},keys:function*(){for(let e=0;e<localStorage.length;e++)yield localStorage.key(e)}}),u3=Au(()=>a3()),mn=(e,t)=>{const[n,r]=u3.useKey(e),o=w.useMemo(()=>n===void 0?t:n,[n]),i=w.useCallback(s=>{r(typeof s=="function"?s(o):s)},[o]);return[o,i]};function c3({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}const d3=_.forwardRef(c3),f3=d3;function p3({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const h3=_.forwardRef(p3),m3=h3;function g3({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 00-3.7-3.7 48.678 48.678 0 00-7.324 0 4.006 4.006 0 00-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3l-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 003.7 3.7 48.656 48.656 0 007.324 0 4.006 4.006 0 003.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3l-3 3"}))}const y3=_.forwardRef(g3),Py=y3;function v3({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"}))}const x3=_.forwardRef(v3),w3=x3;function _3({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"}))}const S3=_.forwardRef(_3),E3=S3;function k3({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"}))}const C3=_.forwardRef(k3),b3=C3;function N3({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}const T3=_.forwardRef(N3),$3=T3;function O3({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"}))}const I3=_.forwardRef(O3),XE=I3;function R3({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l6-6m0 0l-6-6m6 6H9a6 6 0 000 12h3"}))}const P3=_.forwardRef(R3),D3=P3;function M3({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5L7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"}))}const L3=_.forwardRef(M3),A3=L3;function F3({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9h16.5m-16.5 6.75h16.5"}))}const z3=_.forwardRef(F3),j3=z3;function B3({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"}))}const W3=_.forwardRef(B3),U3=W3;function H3({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"}))}const V3=_.forwardRef(H3),K3=V3;function G3({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"}))}const Z3=_.forwardRef(G3),Y3=Z3;function Q3({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}const J3=_.forwardRef(Q3),q3=J3;function X3({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"}))}const eD=_.forwardRef(X3),vl=eD;function tD({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"}))}const nD=_.forwardRef(tD),ek=nD;function rD({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"}))}const oD=_.forwardRef(rD),iD=oD;function sD({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"}))}const lD=_.forwardRef(sD),tk=lD;function aD({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"}))}const uD=_.forwardRef(aD),Dy=uD;function cD({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"}))}const dD=_.forwardRef(cD),nk=dD;function fD({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"}))}const pD=_.forwardRef(fD),ju=pD;function hD({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const mD=_.forwardRef(hD),My=mD;function gD({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zM12 2.25V4.5m5.834.166l-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243l-1.59-1.59"}))}const yD=_.forwardRef(gD),vD=yD;function xD({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"}))}const wD=_.forwardRef(xD),Tr=wD;function _D({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"}))}const SD=_.forwardRef(_D),Bu=SD;function ED({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM18.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"}))}const kD=_.forwardRef(ED),pp=kD;function CD({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 00-1.883 2.542l.857 6a2.25 2.25 0 002.227 1.932H19.05a2.25 2.25 0 002.227-1.932l.857-6a2.25 2.25 0 00-1.883-2.542m-16.5 0V6A2.25 2.25 0 016 3.75h3.879a1.5 1.5 0 011.06.44l2.122 2.12a1.5 1.5 0 001.06.44H18A2.25 2.25 0 0120.25 9v.776"}))}const bD=_.forwardRef(CD),ND=bD;function TD({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"}))}const $D=_.forwardRef(TD),Qo=$D;function OD({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z"}))}const ID=_.forwardRef(OD),RD=ID;function PD({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"}))}const DD=_.forwardRef(PD),MD=DD;function LD({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const AD=_.forwardRef(LD),Ig=AD;function FD({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"}))}const zD=_.forwardRef(FD),xl=zD;function jD({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"}))}const BD=_.forwardRef(jD),WD=BD;function UD({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"}))}const HD=_.forwardRef(UD),VD=HD;function KD({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"}))}const GD=_.forwardRef(KD),ZD=GD;function YD({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12h-15"}))}const QD=_.forwardRef(YD),JD=QD;function qD({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"}))}const XD=_.forwardRef(qD),eM=XD;function tM({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42"}))}const nM=_.forwardRef(tM),rM=nM;function oM({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"}))}const iM=_.forwardRef(oM),sM=iM;function lM({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"}))}const aM=_.forwardRef(lM),uM=aM;function cM({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"}))}const dM=_.forwardRef(cM),rk=dM;function fM({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const pM=_.forwardRef(fM),ui=pM;function hM({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.848 8.25l1.536.887M7.848 8.25a3 3 0 11-5.196-3 3 3 0 015.196 3zm1.536.887a2.165 2.165 0 011.083 1.839c.005.351.054.695.14 1.024M9.384 9.137l2.077 1.199M7.848 15.75l1.536-.887m-1.536.887a3 3 0 11-5.196 3 3 3 0 015.196-3zm1.536-.887a2.165 2.165 0 001.083-1.838c.005-.352.054-.695.14-1.025m-1.223 2.863l2.077-1.199m0-3.328a4.323 4.323 0 012.068-1.379l5.325-1.628a4.5 4.5 0 012.48-.044l.803.215-7.794 4.5m-2.882-1.664A4.331 4.331 0 0010.607 12m3.736 0l7.794 4.5-.802.215a4.5 4.5 0 01-2.48-.043l-5.326-1.629a4.324 4.324 0 01-2.068-1.379M14.343 12l-2.882 1.664"}))}const mM=_.forwardRef(hM),gM=mM;function yM({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 8.25V6a2.25 2.25 0 00-2.25-2.25H6A2.25 2.25 0 003.75 6v8.25A2.25 2.25 0 006 16.5h2.25m8.25-8.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-7.5A2.25 2.25 0 018.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 00-2.25 2.25v6"}))}const vM=_.forwardRef(yM),xM=vM;function wM({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"}))}const _M=_.forwardRef(wM),SM=_M;function EM({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 017.5 5.25h9a2.25 2.25 0 012.25 2.25v9a2.25 2.25 0 01-2.25 2.25h-9a2.25 2.25 0 01-2.25-2.25v-9z"}))}const kM=_.forwardRef(EM),Lh=kM;function CM({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"}))}const bM=_.forwardRef(CM),NM=bM;function TM({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.098 19.902a3.75 3.75 0 005.304 0l6.401-6.402M6.75 21A3.75 3.75 0 013 17.25V4.125C3 3.504 3.504 3 4.125 3h5.25c.621 0 1.125.504 1.125 1.125v4.072M6.75 21a3.75 3.75 0 003.75-3.75V8.197M6.75 21h13.125c.621 0 1.125-.504 1.125-1.125v-5.25c0-.621-.504-1.125-1.125-1.125h-4.072M10.5 8.197l2.88-2.88c.438-.439 1.15-.439 1.59 0l3.712 3.713c.44.44.44 1.152 0 1.59l-2.879 2.88M6.75 17.25h.008v.008H6.75v-.008z"}))}const $M=_.forwardRef(TM),ok=$M;function OM({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6z"}))}const IM=_.forwardRef(OM),RM=IM;function PM({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"}))}const DM=_.forwardRef(PM),Jo=DM;function MM({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.745 3A23.933 23.933 0 003 12c0 3.183.62 6.22 1.745 9M19.5 3c.967 2.78 1.5 5.817 1.5 9s-.533 6.22-1.5 9M8.25 8.885l1.444-.89a.75.75 0 011.105.402l2.402 7.206a.75.75 0 001.104.401l1.445-.889m-8.25.75l.213.09a1.687 1.687 0 002.062-.617l4.45-6.676a1.688 1.688 0 012.062-.618l.213.09"}))}const LM=_.forwardRef(MM),AM=LM;function FM({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8.25V18a2.25 2.25 0 002.25 2.25h13.5A2.25 2.25 0 0021 18V8.25m-18 0V6a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 6v2.25m-18 0h18M5.25 6h.008v.008H5.25V6zM7.5 6h.008v.008H7.5V6zm2.25 0h.008v.008H9.75V6z"}))}const zM=_.forwardRef(FM),Ly=zM;function jM({title:e,titleId:t,...n},r){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?_.createElement("title",{id:t},e):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))}const BM=_.forwardRef(jM),$r=BM;function WM(){const[e,t]=mn("nav-is-open",!0);w.useState(null);const[n,r]=mn("dark-mode",!0),o=n?eM:NM,i=zu(),s=e?iD:tk,l=ml(),{pathname:a}=_n(),u=w.useCallback(c=>{l(fp(a,{path:c,index:0}))},[a,l]);return mn("toolbar-open",!0),m(re,{children:m("div",{className:P("group h-screen flex flex-col shrink-0 grow-0 overflow-hidden transition-[width] ease-out",e?"w-60":"w-10 menu-closed","dark:text-white"),children:N("div",{className:"h-full flex flex-col pl-2 py-4 w-60",children:[m("div",{className:"flex flex-col gap-2",children:m(Fr,{onClick:()=>{i.open({path:"/",index:0})},icon:ui,children:"Åbn nyt panel"})}),N("div",{className:"lex flex-col gap-2 mt-6",children:[m(Fr,{onClick:()=>{u("/")},icon:Qo,children:"Hjem"}),m(Nu,{type:"nav",id:"nav",onChange:()=>{},canReceive:{link:()=>"ignore",move:({type:c})=>c.startsWith("link")?"accept":"ignore"},children:m(ep,{children:c=>m("div",{children:c})})})]}),m("div",{className:"w-full grow",onClick:()=>t(c=>!c)}),N("div",{className:"flex flex-col gap-2",children:[m("div",{className:P("text-xs ml-1 font-bold text-gray-500 mb-1 transition-[opacity,height]",e?"opacity-100 h-4":"opacity-0 h-0"),children:"Systemarkiver"}),m(Fr,{onClick:()=>i.open({path:"/folders",index:0}),icon:Qo,children:"Mapper"}),m(Fr,{onClick:()=>i.open({path:"/templates",index:0}),icon:Tr,children:"Skabeloner"}),m(Fr,{onClick:()=>i.open({path:"/files",index:0}),icon:rk,children:"Filer"}),N("div",{className:"flex justify-between mt-3 gap-8",children:[m(Fr,{onClick:()=>{t(c=>!c)},icon:s,className:"important [.menu-closed_&.important]:opacity-80 [.menu-closed:hover_&.important]:opacity-80"}),m(Fr,{icon:E3,to:"/"}),m(Fr,{onClick:()=>r(c=>!c),icon:o}),m(UM,{})]})]})]})})})}function Fr({children:e,className:t,icon:n,...r}){const o="to"in r?vr:"button";return N(o,{className:P("w-full h-7 px-1.5 rounded flex gap-4 items-center [.menu-closed_&]:opacity-40 [.menu-closed:hover_&]:opacity-75 opacity-75 hover:opacity-100 [.menu-closed:hover_&]:hover:opacity-100 transition-opacity","font-medium",t),...r,children:[m(n,{className:"w-5 h-5"}),e&&m("div",{children:e})]})}function UM(){const[e,t]=w.useState(!1),[n,r]=w.useState("done"),o=({collabState:f,isModified:p})=>f==="loading"?p?"uploading":"downloading":p?"modified":"default",[i,s]=w.useState(()=>o({isModified:e,collabState:n})),l=w.useRef(Date.now()),a=w.useRef(null),u=f=>{f.isModified!==void 0&&t(f.isModified),f.collabState!==void 0&&r(f.collabState);const p={isModified:e,collabState:n,...f};a.current&&clearTimeout(a.current);const h=Date.now()-l.current;h<350?a.current=setTimeout(()=>{l.current=Date.now(),s(o(p))},350-h):(l.current=Date.now(),s(o(p)))},c=sn();w.useEffect(()=>c.registerEventListener(f=>{u({collabState:f,...f==="done"&&{isModified:!1}})}),[e,n]);const d={uploading:$3,downloading:f3,modified:ZD,default:q3}[i];return m(Fr,{icon:d,className:["uploading","modified"].includes(i)?"text-yellow-400":"text-green-400",onClick:()=>c.sync(0)})}function HM(){const[e,t]=mn("sidebar-is-open",!1),n=()=>t(r=>!r);return m(re,{children:m("div",{className:P("relative h-screen shrink-0 grow-0 overflow-hidden transition-[width] ease-out",e?"w-56":"w-0"),children:m("div",{className:"absolute right-0 h-screen w-72",children:m("div",{className:"p-3 flex",children:m("button",{className:"ml-auto text-sm h-7 px-2 flex items-center rounded-md bg-gray-500 bg-opacity-90 text-gray-300 hover:text-white hover:bg-opacity-100 transition-colors",onClick:n,children:m(JD,{className:"w-4 h-4"})})})})})})}function VM({left:e,right:t,children:n}){const[r]=mn("sidebar-is-open",!1),[o]=mn("nav-is-open",!0),[i,s]=w.useState(!1);return w.useEffect(()=>{s(!0)},[]),N("div",{className:P("flex w-full h-screen transition-opacity duration-300",i?"opacity-100":"opacity-0"),children:[m(WM,{}),m("div",{className:"flex flex-col h-screen grow-0 shrink-0 transition-[width] ease-out mx-2",style:{width:`calc(${["100%","1rem",o?"15rem":"2.5rem",r&&"12rem"].filter(Boolean).join(" - ")})`},children:m("div",{className:"w-full grow overflow-hidden",children:n})}),m(HM,{})]})}const KM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GM=KM?_.useLayoutEffect:()=>{};var Rg=GM;let ZM=0;function Ay(e=null){const t=typeof _.useId=="function"?_.useId():null,n=_.useRef(e||t||null);return n.current===null&&(n.current=""+ZM++),n.current}const hp=_.createContext(null);hp.displayName="PanelGroupContext";function ik({children:e=null,className:t="",collapsible:n=!1,defaultSize:r=null,forwardedRef:o,id:i=null,maxSize:s=100,minSize:l=10,onCollapse:a=null,onResize:u=null,order:c=null,style:d={},tagName:f="div"}){const p=_.useContext(hp);if(p===null)throw Error("Panel components must be rendered within a PanelGroup container");const h=Ay(i),{collapsePanel:y,expandPanel:x,getPanelStyle:g,registerPanel:v,resizePanel:S,unregisterPanel:E}=p;_.useImperativeHandle(o,()=>({collapse:()=>y(h),expand:()=>x(h),resize:O=>S(h,O)}),[y,x,h,S]);const b=_.useRef({onCollapse:a,onResize:u});if(_.useEffect(()=>{b.current.onCollapse=a,b.current.onResize=u}),l<0||l>100)throw Error(`Panel minSize must be between 0 and 100, but was ${l}`);if(s<0||s>100)throw Error(`Panel maxSize must be between 0 and 100, but was ${s}`);if(r!==null){if(r<0||r>100)throw Error(`Panel defaultSize must be between 0 and 100, but was ${r}`);l>r&&!n&&(console.error(`Panel minSize ${l} cannot be greater than defaultSize ${r}`),r=l)}Rg(()=>(v(h,{callbacksRef:b,collapsible:n,defaultSize:r,id:h,maxSize:s,minSize:l,order:c}),()=>{E(h)}),[n,r,h,s,l,c,v,E]);const k=g(h);return _.createElement(f,{children:e,className:t,"data-panel":"","data-panel-collapsible":n||void 0,"data-panel-id":h,"data-panel-size":parseFloat(""+k.flexGrow).toFixed(1),id:`data-panel-id-${h}`,style:{...k,...d}})}const nf=_.forwardRef((e,t)=>_.createElement(ik,{...e,forwardedRef:t}));ik.displayName="Panel";nf.displayName="forwardRef(Panel)";function sk(e){return e.map(t=>{const{minSize:n,order:r}=t;return r?`${r}:${n}`:`${n}`}).sort((t,n)=>t.localeCompare(n)).join(",")}function lk(e){try{const t=localStorage.getItem(`PanelGroup:sizes:${e}`);if(t){const n=JSON.parse(t);if(typeof n=="object"&&n!=null)return n}}catch{}return null}function YM(e,t){const n=lk(e);if(n){const r=sk(t);return n[r]??null}return null}function QM(e,t,n){const r=sk(t),o=lk(e)||{};o[r]=n;try{localStorage.setItem(`PanelGroup:sizes:${e}`,JSON.stringify(o))}catch(i){console.error(i)}}const Qi=10;function ta(e,t,n,r,o){if(r===0)return o;const i=fr(e),s=o.concat();let l=0;{const c=r<0?n:t,d=i.findIndex(y=>y.id===c),f=i[d],p=o[d],h=zx(f,Math.abs(r),p);if(p===h)return o;r=r<0?p-h:h-p}let a=r<0?t:n,u=i.findIndex(c=>c.id===a);for(;;){const c=i[u],d=o[u],f=zx(c,0-Math.abs(r),d);if(d!==f&&(l+=d-f,s[u]=f,l.toPrecision(Qi)>=r.toPrecision(Qi)))break;if(r<0){if(--u<0)break}else if(++u>=i.length)break}return l===0?o:(a=r<0?n:t,u=i.findIndex(c=>c.id===a),s[u]=o[u]+l,s)}function Ic(e,t,n){n.forEach((r,o)=>{const i=t[o];if(i!==r){const{callbacksRef:s}=e[o],{onCollapse:l,onResize:a}=s.current;a&&a(r),l&&(i===0&&r!==0?l(!1):i!==0&&r===0&&l(!0))}})}function Ah(e,t){if(t.length<2)return[null,null];const n=t.findIndex(s=>s.id===e);if(n<0)return[null,null];const r=n===t.length-1,o=r?t[n-1].id:e,i=r?e:t[n+1].id;return[o,i]}function ak(e,t,n){if(e.size===1)return"100";const o=fr(e).findIndex(s=>s.id===t),i=n[o];return i==null?"0":i.toPrecision(Qi)}function JM(e){const t=document.querySelector(`[data-panel-id="${e}"]`);return t||null}function Fy(e){const t=document.querySelector(`[data-panel-group-id="${e}"]`);return t||null}function zy(e){const t=document.querySelector(`[data-panel-resize-handle-id="${e}"]`);return t||null}function qM(e){return uk().findIndex(r=>r.getAttribute("data-panel-resize-handle-id")===e)??null}function uk(){return Array.from(document.querySelectorAll("[data-panel-resize-handle-id]"))}function ck(e){return Array.from(document.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function jy(e,t,n){var a,u;const r=zy(t),i=ck(e).indexOf(r),s=((a=n[i])==null?void 0:a.id)??null,l=((u=n[i+1])==null?void 0:u.id)??null;return[s,l]}function fr(e){return Array.from(e.values()).sort((t,n)=>t.order-n.order)}function zx(e,t,n){const r=n+t;return e.collapsible&&r<=0?0:Math.min(e.maxSize,Math.max(e.minSize,r))}function dk(e,t,n,r=0){const o=n==="horizontal";let i=0;if(t4(e))i=o?e.clientX:e.clientY;else if(n4(e)){const u=e.touches[0];i=o?u.screenX:u.screenY}else return 0;const l=zy(t).getBoundingClientRect(),a=o?l.left:l.top;return i-a-r}function XM(e,t,n,r,o,i,s){if(e4(e)){const l=o==="horizontal",u=Fy(t).getBoundingClientRect(),c=l?u.width:u.height,d=e.shiftKey?10:100,f=c/d;let p=0;switch(e.key){case"ArrowDown":p=l?0:f;break;case"ArrowLeft":p=l?-f:0;break;case"ArrowRight":p=l?f:0;break;case"ArrowUp":p=l?0:-f;break;case"End":p=c;break;case"Home":p=-c;break}const[h,y]=jy(t,n,r),x=p<0?h:y,g=r.findIndex(S=>S.id===x),v=r[g];if(v.collapsible){const S=i[g];(S===0||S.toPrecision(Qi)===v.minSize.toPrecision(Qi))&&(p=p<0?-v.minSize*c:v.minSize*c)}return p}else return dk(e,n,o,s)}function e4(e){return e.type==="keydown"}function t4(e){return e.type.startsWith("mouse")}function n4(e){return e.type.startsWith("touch")}function r4({committedValuesRef:e,groupId:t,panels:n,setSizes:r,sizes:o}){_.useEffect(()=>{const{direction:i,panels:s}=e.current,l=Fy(t),{height:a,width:u}=l.getBoundingClientRect(),d=ck(t).map(f=>{const p=f.getAttribute("data-panel-resize-handle-id"),h=fr(s),[y,x]=jy(t,p,h);if(y==null||x==null)return()=>{};let g=0,v=100,S=0,E=0;h.forEach(T=>{T.id===y?(v=T.maxSize,g=T.minSize):(S+=T.minSize,E+=T.maxSize)});const b=Math.min(v,100-S),k=Math.max(g,(h.length-1)*100-E),O=ak(s,y,o);f.setAttribute("aria-valuemax",""+Math.round(b)),f.setAttribute("aria-valuemin",""+Math.round(k)),f.setAttribute("aria-valuenow",""+Math.round(parseInt(O)));const $=T=>{switch(T.key){case"Enter":{const D=h.findIndex(F=>F.id===y);if(D>=0){const F=h[D],H=o[D];if(H!=null){let ee=0;H.toPrecision(Qi)<=F.minSize.toPrecision(Qi)?ee=i==="horizontal"?u:a:ee=-(i==="horizontal"?u:a);const K=ta(s,y,x,ee,o);o!==K&&r(K)}}break}}};f.addEventListener("keydown",$);const R=JM(y);return R!=null&&f.setAttribute("aria-controls",R.id),()=>{f.removeAttribute("aria-valuemax"),f.removeAttribute("aria-valuemin"),f.removeAttribute("aria-valuenow"),f.removeEventListener("keydown",$),R!=null&&f.removeAttribute("aria-controls")}});return()=>{d.forEach(f=>f())}},[t,n,o])}function o4({disabled:e,handleId:t,resizeHandler:n}){_.useEffect(()=>{if(e||n==null)return;const r=zy(t);if(r==null)return;const o=i=>{switch(i.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":n(i);break;case"F6":{const s=uk(),l=qM(t),a=i.shiftKey?l>0?l-1:s.length-1:l+1<s.length?l+1:0;s[a].focus();break}}};return r.addEventListener("keydown",o),()=>{r.removeEventListener("keydown",o)}},[e,t,n])}let Pg=null,bi=null;function fk(e){switch(e){case"horizontal":return"col-resize";case"horizontal-max":return"w-resize";case"horizontal-min":return"e-resize";case"vertical":return"row-resize";case"vertical-max":return"n-resize";case"vertical-min":return"s-resize"}}function i4(){bi!==null&&(document.head.removeChild(bi),Pg=null,bi=null)}function Fh(e){if(Pg===e)return;Pg=e;const t=fk(e);bi===null&&(bi=document.createElement("style"),document.head.appendChild(bi)),bi.innerHTML=`*{cursor: ${t}!important;}`}function By({autoSaveId:e,children:t=null,className:n="",direction:r,id:o=null,style:i={},tagName:s="div"}){const l=Ay(o),[a,u]=_.useState(null),[c,d]=_.useState(new Map),[f,p]=_.useState([]),h=_.useRef(0),y=_.useRef(new Map),x=_.useRef({direction:r,panels:c,sizes:f});Rg(()=>{x.current.direction=r,x.current.panels=c,x.current.sizes=f}),r4({committedValuesRef:x,groupId:l,panels:c,setSizes:p,sizes:f}),Rg(()=>{if(x.current.sizes.length===c.size)return;let D;if(e){const F=fr(c);D=YM(e,F)}if(D!=null)p(D);else{const F=fr(c);let H=0,ee=0,K=0;if(F.forEach(A=>{K+=A.minSize,A.defaultSize===null?H++:ee+=A.defaultSize}),ee>100)throw new Error("The sum of the defaultSize of all panels in a group cannot exceed 100.");if(K>100)throw new Error("The sum of the minSize of all panels in a group cannot exceed 100.");p(F.map(A=>A.defaultSize===null?(100-ee)/H:A.defaultSize))}},[e,c]),_.useEffect(()=>{if(e){if(f.length===0||f.length!==c.size)return;const T=fr(c);QM(e,T,f)}},[e,c,f]);const g=_.useCallback(T=>{const{panels:D}=x.current;return D.size===0?{flexBasis:"auto",flexGrow:1,flexShrink:1,overflow:"hidden"}:{flexBasis:0,flexGrow:ak(D,T,f),flexShrink:1,overflow:"hidden",pointerEvents:a!==null?"none":void 0}},[a,r,f]),v=_.useCallback((T,D)=>{d(F=>{if(F.has(T))return F;const H=new Map(F);return H.set(T,D),H})},[]),S=_.useCallback(T=>F=>{F.preventDefault();const{direction:H,panels:ee,sizes:K}=x.current,A=fr(ee),[z,I]=jy(l,T,A);if(z==null||I==null)return;const M=XM(F,l,T,A,H,K,h.current);if(M===0)return;const se=Fy(l).getBoundingClientRect(),V=H==="horizontal",ue=V?se.width:se.height,Se=M/ue*100,it=ta(ee,z,I,Se,K);K===it?Fh(V?M<0?"horizontal-min":"horizontal-max":M<0?"vertical-min":"vertical-max"):(Fh(V?"horizontal":"vertical"),Ic(A,K,it),p(it))},[l]),E=_.useCallback(T=>{d(D=>{if(!D.has(T))return D;const F=new Map(D);return F.delete(T),F})},[]),b=_.useCallback(T=>{const{panels:D,sizes:F}=x.current,H=D.get(T);if(H==null||!H.collapsible)return;const ee=fr(D),K=ee.indexOf(H);if(K<0)return;const A=F[K];if(A===0)return;y.current.set(T,A);const[z,I]=Ah(T,ee);if(z==null||I==null)return;const U=K===ee.length-1?A:0-A,se=ta(D,z,I,U,F);F!==se&&(Ic(ee,F,se),p(se))},[]),k=_.useCallback(T=>{const{panels:D,sizes:F}=x.current,H=D.get(T);if(H==null)return;const ee=y.current.get(T)||H.minSize;if(!ee)return;const K=fr(D),A=K.indexOf(H);if(A<0||F[A]!==0)return;const[I,M]=Ah(T,K);if(I==null||M==null)return;const se=A===K.length-1?0-ee:ee,V=ta(D,I,M,se,F);F!==V&&(Ic(K,F,V),p(V))},[]),O=_.useCallback((T,D)=>{const{panels:F,sizes:H}=x.current,ee=F.get(T);if(ee==null)return;const K=fr(F),A=K.indexOf(ee);if(A<0)return;const z=H[A];if(z===D)return;const[I,M]=Ah(T,K);if(I==null||M==null)return;const se=A===K.length-1?z-D:D-z,V=ta(F,I,M,se,H);H!==V&&(Ic(K,H,V),p(V))},[]),$=_.useMemo(()=>({activeHandleId:a,collapsePanel:b,direction:r,expandPanel:k,getPanelStyle:g,groupId:l,registerPanel:v,registerResizeHandle:S,resizePanel:O,startDragging:(T,D)=>{u(T),h.current=dk(D,T,r)},stopDragging:()=>{i4(),u(null)},unregisterPanel:E}),[a,b,r,k,g,l,v,S,O,E]),R={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return _.createElement(hp.Provider,{children:_.createElement(s,{children:t,className:n,"data-panel-group-direction":r,"data-panel-group-id":l,style:{...R,...i}}),value:$})}By.displayName="PanelGroup";function Wy({children:e=null,className:t="",disabled:n=!1,id:r=null,style:o={},tagName:i="div"}){const s=_.useRef(null),l=_.useContext(hp);if(l===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{activeHandleId:a,direction:u,groupId:c,registerResizeHandle:d,startDragging:f,stopDragging:p}=l,h=Ay(r),y=a===h,[x,g]=_.useState(!1),[v,S]=_.useState(null),E=_.useCallback(()=>{s.current.blur(),p()},[p]);_.useEffect(()=>{if(n)S(null);else{const k=d(h);S(()=>k)}},[n,h,d]),_.useEffect(()=>{if(n||v==null||!y)return;const k=O=>{v(O)};return document.body.addEventListener("contextmenu",E),document.body.addEventListener("mousemove",k),document.body.addEventListener("touchmove",k),window.addEventListener("mouseup",E),window.addEventListener("touchend",E),()=>{document.body.removeEventListener("contextmenu",E),document.body.removeEventListener("mousemove",k),document.body.removeEventListener("touchmove",k),window.removeEventListener("mouseup",E),window.removeEventListener("touchend",E)}},[u,n,y,v,E]),o4({disabled:n,handleId:h,resizeHandler:v});const b={cursor:fk(u),touchAction:"none",userSelect:"none"};return _.createElement(i,{children:e,className:t,"data-resize-handle-active":y?"pointer":x?"keyboard":void 0,"data-panel-group-direction":u,"data-panel-group-id":c,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":h,onBlur:()=>g(!1),onFocus:()=>g(!0),onMouseDown:k=>f(h,k.nativeEvent),onMouseUp:E,onTouchCancel:E,onTouchEnd:E,onTouchStart:k=>f(h,k.nativeEvent),ref:s,role:"separator",style:{...b,...o},tabIndex:0})}Wy.displayName="PanelResizeHandle";function Dg(e,t){return Dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},Dg(e,t)}function s4(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Dg(e,t)}var l4=function(t,n){return t===void 0&&(t=[]),n===void 0&&(n=[]),t.length!==n.length||t.some(function(r,o){return!Object.is(r,n[o])})},jx={error:null},pk=function(e){s4(t,e);function t(){for(var r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i))||this,r.state=jx,r.resetErrorBoundary=function(){for(var l,a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];r.props.onReset==null||(l=r.props).onReset.apply(l,u),r.reset()},r}t.getDerivedStateFromError=function(o){return{error:o}};var n=t.prototype;return n.reset=function(){this.setState(jx)},n.componentDidCatch=function(o,i){var s,l;(s=(l=this.props).onError)==null||s.call(l,o,i)},n.componentDidUpdate=function(o,i){var s=this.state.error,l=this.props.resetKeys;if(s!==null&&i.error!==null&&l4(o.resetKeys,l)){var a,u;(a=(u=this.props).onResetKeysChange)==null||a.call(u,o.resetKeys,l),this.reset()}},n.render=function(){var o=this.state.error,i=this.props,s=i.fallbackRender,l=i.FallbackComponent,a=i.fallback;if(o!==null){var u={error:o,resetErrorBoundary:this.resetErrorBoundary};if(_.isValidElement(a))return a;if(typeof s=="function")return s(u);if(l)return _.createElement(l,u);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(_.Component);const Uy=w.createContext(null),Hy="main";function hk({children:e}){const t=w.useId(),n=w.useMemo(()=>Au(()=>new Map([[Hy,{}]])),[]),r=w.useMemo(()=>({groupId:t,store:n}),[t]);return m(Uy.Provider,{value:r,children:e})}function a4(){const e=w.useContext(Uy);if(!e)return[];const t=e.store.useKey(Hy)[0];return w.useMemo(()=>Object.entries(t??{}).filter(n=>n[1]).map(n=>n[0]),[t])}function Vy({id:e,multiple:t,holdShiftKey:n}={}){const r=w.useContext(Uy),[o]=w.useState(()=>Math.random().toString(36).slice(2,10));let[i,s]=[!1,()=>{}];if(e&&r){const[u,c]=r.store.useKey(Hy,void 0,d=>d==null?void 0:d[e]);i=u??!1,s=(d,f)=>{c(p=>{let h=p??{};return d&&!f?h=Object.fromEntries(Object.entries(h).map(([y])=>[y,!1])):h={...h},h[e]=d,h})}}else[i,s]=w.useState(!1);w.useEffect(()=>()=>{s(!1)},[]);const l=w.useRef(!1);w.useEffect(()=>{const u=()=>{const c=document.activeElement;c&&c.tagName==="IFRAME"&&c.getAttribute("data-select")===o?s(!0):s(!1)};if(i){const c=d=>{var x;if(t&&d.shiftKey)return;const{clientX:f,clientY:p}=d;let h=!1,y=!1;if((x=document.elementsFromPoint(f,p))==null||x.forEach(g=>{g.getAttribute("data-focus-ignore")&&(y=!0),g.getAttribute("data-focus-remain")&&(h=!0),r&&g.getAttribute("data-focus-group")===r.groupId&&(h=!0)}),!y)if(l.current)l.current=!1;else{if(h)return;s(!1)}};return document.addEventListener("mousedown",c),window.addEventListener("blur",u),()=>{document.removeEventListener("mousedown",c),window.addEventListener("blur",u)}}return window.addEventListener("blur",u),()=>{window.addEventListener("blur",u)}},[i]);const a={onMouseDown:u=>{var d;if(n&&u.shiftKey&&u.preventDefault(),n===!0&&!u.shiftKey)return;if(i&&n){s(!1);return}if(i){l.current=!0;return}let c=!1;(d=document.elementsFromPoint(u.clientX,u.clientY))==null||d.forEach(f=>{f.getAttribute("data-focus-ignore")&&(c=!0)}),!c&&setTimeout(()=>{s(!0,t&&u.shiftKey)})},"data-selectable":o,...r&&{"data-focus-group":r.groupId}};return{isFocused:i,handlers:a,id:o}}const mk=w.createContext({isFocused:!1,id:""});function gk(){return w.useContext(mk)}const na=w.createContext(null),ra=w.createContext(null),yk=w.createContext(null);function ir(e){const t=ml(),{pathname:n}=_n(),r=e??ct(na,"PanelContext"),o=zu(),i=r.index,s=w.useCallback((a,u={})=>{const c=fp(n,{path:a,index:i});return u.navigate&&t(c),c},[n,t,i]),l=w.useCallback(()=>o.close(i),[o,i]);return w.useMemo(()=>[r,s,l],[r,l])}function sr(){return ct(ra,"RouteContext")}function u4(e){const[t,n]=w.useState(),[r,o]=w.useState();let i=!1;return r!==e&&(n(r),o(e),i=!0),[t||e,i]}function c4({routes:e,data:t}){const n=t.path,[r,o]=u4(n),i=w.useMemo(()=>({path:r,key:t.key,index:t.index}),[r,t.index]),s=w.useMemo(()=>["",...r.split("/").filter(Boolean)],[r]),l=w.useMemo(()=>["",...n.split("/").filter(Boolean)],[n]),a=s.length===l.length,u=Math.max(s.length,l.length),c=w.useMemo(()=>{for(let f=0;f<u;f++)if(s[f]!==l[f])return f;return null},[r,n]),d=Array.from({length:u}).reduce((f,p,h)=>{const y=u-1-h,x=l[y],g=s[y],v=g!==void 0?e.find(E=>E.matcher.test(g)):null,S=x!==void 0?e.find(E=>E.matcher.test(x)):null;if(S===void 0||v===void 0)throw new Error("Page does not exist: "+x);return c!==null&&y===c-1?[S?m(Rc,{children:m(na.Provider,{value:t,children:m(ra.Provider,{value:l.slice(0,y+1).join("/"),children:m(S.component,{children:f})})})},x):null]:c!==null&&y>=c?[v?m(Rc,{exit:!0,replace:c===y&&a,children:m(na.Provider,{value:i,children:m(ra.Provider,{value:s.slice(0,y+1).join("/"),children:m(v.component,{children:[f[1]]})})})},g):null,S?m(Rc,{replace:c===y&&a,children:m(na.Provider,{value:t,children:m(ra.Provider,{value:l.slice(0,y+1).join("/"),children:m(S.component,{children:[f[0]]})})})},x):null]:[S?m(Rc,{children:m(na.Provider,{value:t,children:m(ra.Provider,{value:l.slice(0,y+1).join("/"),children:m(S.component,{children:[f[0]]})})})},x):null]},[null,null]);return o?null:m(re,{children:d})}const d4=()=>ct(yk,"TransitionContext");function Rc({children:e,exit:t,replace:n}){const[r,o]=w.useState(`unmounted${n?"-replace":""}`),[i,s]=w.useState(!1);return!t&&i&&(s(!1),o(`unmounted${n?"-replace":""}`)),w.useEffect(()=>{o(`${t?"exited":"entered"}${t&&n?"-replace":""}`)},[t,n]),w.useEffect(()=>{if(t){let l=setTimeout(()=>{s(!0)},500);return()=>{clearTimeout(l)}}},[t]),i?null:m(yk.Provider,{value:r,children:e})}function mp(e){const t=e.split("/").slice(-1)[0];if(t==="")return{type:"folder",id:Cg};const n=t.slice(0,1),r=t.slice(1).padStart(24,"0");return{type:{f:"folder",d:"document",t:"template",c:"field"}[n],id:r}}const Mg=w.createContext([]),vk=({children:e,template:t})=>{const n=w.useContext(Mg),r=w.useMemo(()=>[...n,t],[n,t]);return m(Mg.Provider,{value:r,children:e})},f4=()=>w.useContext(Mg),Ky=Au(()=>new Map),p4=GP(e=>{Ky.deleteOne(e)}),h4=(e,t)=>{const n=w.useCallback(o=>{let i=[...t.config];return o(({transaction:s})=>{s.forEach(l=>{i=HE(i,l)})}),i},[t.config]),r=ZE(o=>Ky.useKey(e,o),n,{timelineId:e,queueId:"config"});return w.useEffect(()=>p4(e),[]),r};function wl(e){const t=pe(e),n=f4(),r=n.slice(1).reverse(),o=(a,u)=>{const{doc:c}=rs(pe(a));let d;return u.reactive&&([d]=Ky.useKey(t,void 0,f=>{if(f)return Fx(f,a)})),d??Fx((c==null?void 0:c.config)??[],a)};let i;if(n.length===1)i=o(e,{reactive:!0});else{const a=kg(e);i=o(a,{reactive:!1}),r.slice(1).forEach(c=>{const d=Xd(e,c);let f=o(d,{reactive:!1});i=w.useMemo(()=>({...i??{},...f??{}}),[i,f])});let u=o(e,{reactive:!0});i=w.useMemo(()=>({...i??{},...u??{}}),[i,u])}const s=Je(t,"config"),l=w.useCallback((a,u)=>{const c=typeof u=="function"?u(i==null?void 0:i[a]):u;s([[e,[[a,c]]]])},[i,s]);return[i,l]}function Rs(e){const[t]=wl(e);return(t==null?void 0:t.label)??""}const Hr=new OE;function on(e,t){const n=w.useMemo(()=>e?Hr.use(e,t):{sync:[()=>()=>{},()=>{}],set:()=>{}},[e]),r=w.useSyncExternalStore(...n.sync),o=w.useCallback(i=>{n.set(i)},[n]);return w.useMemo(()=>[r,o],[r,n])}const m4=[[" ","-"],["Æ","ae"],["Ø","oe"],["Å","aa"],["æ","ae"],["ø","oe"],["å","aa"]],Kl=e=>e.reduce((t,n)=>(n.forEach(r=>{Array.isArray(r)&&r.length===1?t.push(r[0]):t.push(r)}),t),[]),Bx=e=>e.reduce((t,n)=>(Array.isArray(n[0])?t.push(n[0]):t.push(n),t),[]),Lr=(e,t=0)=>typeof e=="number"?e:t;function g4(e,t){switch(e){case"merge":return t.length===0?[[""]]:t.length===1&&t[0].length>1?[[t[0]]]:[t.reduce((o,[i])=>typeof o[o.length-1]=="string"&&["string","number"].includes(typeof i)?[...o.slice(0,-1),`${o[o.length-1]}${i}`]:[...o,i])];case"sum":return[[t[0].reduce((o,i)=>o+Lr(i),0)]];case"filter":const r=Bx(t);return[r[0].reduce((o,i,s)=>(r[1][s]&&o.push(i),o),[])]}const n=Bx(t).reduce((r,o)=>o.length===0?r:o.reduce((i,s)=>i.concat(r.map(l=>[...l,s])),[]),[[]]).filter(r=>r.length);switch(e){case"url":case"slug":return[n.map(r=>r.map(s=>["number","string"].includes(typeof s)?`${s}`:"").reduce((s,l,a)=>{if(l===""||s==="/"&&l==="/")return s;const u=Array.from(l.matchAll(e==="url"?/[^\w\/\*\-]/g:/[^\w\-]/g));let c=0;return u.forEach(d=>{var x;const f=d[0],p=d.index+c,h=p+f.length,y=((x=m4.find(([g])=>g===f))==null?void 0:x[1])??"";l=l.slice(0,p)+y+l.slice(h),c+=y.length-f.length}),`${s}${l.toLowerCase()}`},""))];case"in":return[[n.reduce((r,o)=>r||o[0]===o[1],!1)]];case"concat":return[n.reduce((r,o)=>[...r,...o.reduce((i,s)=>["number","string"].includes(typeof s)&&["number","string"].includes(typeof i[0])?[`${i[0]}${s}`,...i.slice(1)]:[s,...i],[]).reverse()],[])];case"=":return[n.map(r=>r[0]===r[1])];case"+":return[n.map(r=>r.reduce((o,i)=>Lr(o)+Lr(i))).flat(1)];case"-":return[n.map(r=>r.reduce((o,i)=>Lr(o)-Lr(i))).flat(1)];case"*":return[n.map(r=>r.reduce((o,i)=>Lr(o,1)*Lr(i,1))).flat(1)];case"/":return[n.map(r=>r.reduce((o,i)=>Lr(o,1)/Lr(i,1))).flat(1)];case"&":return[n.map(r=>r.reduce((o,i)=>Boolean(o&&i))).flat(1)];case"|":return[n.map(r=>r.reduce((o,i)=>Boolean(o||i))).flat(1)];default:return n}}const y4=(e,t,n,r={},o)=>{let i=[],s=!1;return e.forEach(l=>{if(ns(l)){const a=n(l);Array.isArray(a)?i.push(...a):i.push(a)}else if(G.isNestedField(l)){const a="id"in l?[0,1,2].map(d=>{const f=sp(d,l.id);return t(f,{external:!1})}):[],u=a.some(d=>d!==void 0&&(!Array.isArray(d)||d.length>0)),c=t(l.field,{tree:u,external:!0});if(c)if(u){const d=n(c,{args:a});Array.isArray(d)?i.push(...d):i.push(d)}else c.length>0&&i.push(c)}else if(G.isStateToken(l))o||(s=!0,i.push([l]));else if(G.isContextToken(l)){const a=t(l,{external:!1});a&&i.push(a)}else if(G.isParameter(l)){const a=r.args&&r.args[l.x];a?i.push(Array.isArray(a)?[a]:a):typeof l.value<"u"&&i.push([l.value])}else G.isLineBreak(l)||typeof l=="object"&&("missing"in l||"error"in l)||i.push([l])}),{children:i,isClientState:s}};function rf(e,t,n){const r=(i,s={})=>{let{children:l,isClientState:a}=y4(i.children,t,r,s,n==null?void 0:n.ignoreClientState);const u=["loop"];if(a||l.some(d=>!Array.isArray(d))||i.type&&u.includes(i.type))return{...i,children:l};let c=l;if(i.type==="fetch"){const[d,...f]=i.data;let p=Kl(c).reduce((h,y)=>{if(G.isNestedFolder(y)){const x=t({folder:y,limit:d},{external:!0});x&&h.push(...x)}else G.isNestedDocument(y)&&h.push(y);return h},[]);Object.entries(f).forEach(([h,y])=>{p=p.sort((x,g)=>0)}),c=[p.slice(0,d)]}else if(i.type==="select"){const d=i.data;c=[Kl(Kl(c).reduce((f,p)=>{if(G.isNestedDocument(p)){const h=t(Ln(p.id,d),{external:!0});h&&f.push([h])}return f},[]))]}else i.type==="root"||(i.type===null?c=[Kl(c)]:i.type==="array"?c=[[Kl(c)]]:c=g4(i.type,c));return c},o=r(e);return Array.isArray(o)?o.reduce((i,s)=>[...i,...s],[]):o}function ao(e,t){const n=(i,{external:s,tree:l})=>{if(typeof i=="object")return[];const a=t[i];if(a)return l?a:rf(a,n,{ignoreClientState:!0})},r=t[e];if(!r)return[];const o=rf(r,n,{ignoreClientState:!0});if(!Array.isArray(o))throw new Error("It should not be possible to have client state in root field");return o}const nd=new OE;function Lg(e,t){return`${e}/${t}`}function xk(e,t){const n=w.useMemo(()=>{const i=Ng(()=>typeof t=="string"?[nd.use(Lg(e,t)).sync]:Object.entries(t).map(([d,f])=>nd.use(Lg(e,d),()=>f).sync)),s=typeof t=="string"?[t]:Object.keys(t),l=()=>s.reduce((d,f,p)=>{const h=i[p][1]();return h!==void 0&&(d[f]=h),d},{});let a=l();return[d=>{const f=Object.values(i).map(([p])=>p(d));return()=>{f.forEach(p=>p())}},()=>{const d=l(),f=Object.values(a);return Object.values(d).every((p,h)=>p===f[h])?a:a=d}]},[]),r=i=>{Ng(()=>{Object.entries(i).forEach(([s,l])=>{nd.use(`${e}/${s}`).set(()=>l)})})};return[w.useSyncExternalStore(...n),r]}const Er=(e,{record:t={},client:n,documentId:r})=>{const o=(s,{tree:l,external:a})=>{var f;if(typeof s=="object"&&"folder"in s){const p=Hr.use(`${s.folder.id}#template`,()=>[]).value,h=Object.fromEntries(p.map(g=>{const v=_e(s.folder.id,g),S=Hr.use(v,()=>Er(t[g]??je,{record:t,client:n,documentId:TE(s.folder.id)}));return[$t(v),S.value]})),y=JSON.stringify({folder:s.folder.folder,limit:s.limit,sort:s.sort??{},filters:h}),x=Hr.use(y);return x.initialized()||KP({folder:s.folder.folder,limit:s.limit,sort:s.sort??[],filters:h},n,s.folder.id).then(v=>x.set(()=>v??[])),((f=x.value)==null?void 0:f.map(({_id:g})=>({id:g})))??[]}if(typeof s=="object"&&"ctx"in s){const p=nd.use(Lg(r,s.ctx)).value;return p?[p]:[]}const u=l?`${s}#tree`:s,c=t[s];if(c||!a||s.endsWith(pn("data"))){const p=c?()=>l?c:Er(c,{record:t,client:n,documentId:pe(s)}):void 0;return Hr.use(u,p).value}const d=KE(pe(s),n).then(p=>{if(!p)return;const h=p.record[s];return h?()=>l?h:Er(h,{record:p.record,client:n,documentId:pe(s)}):void 0});return Hr.useAsync(u,d).value};return e?rf(e,o):[]},uo=e=>{if(!e)return"Unavngivet dokument";const t=ip(e==null?void 0:e._id),n=t?"template_label":"label";let r=ao(_e(e._id,ie[n].id),e.record)[0];return r=typeof r=="string"?r.trim():void 0,r??(t?"Ugemt skabelon":"Unavngivet dokument")},gp=e=>{const n=(e?ip(e==null?void 0:e._id):!1)?"template_label":"label",r=uo(e),o=e?_e(e._id,ie[n].id):void 0,i=zn(),s=o&&e?e.record[o]??je:void 0,[l,a]=w.useState(!1),[u,c]=on(o),d=sn();return w.useEffect(()=>{if(!e||!o||!s)return;let f=!0;return console.log("UPDATING HERE ON LABEL",parseInt(e._id,16).toString(16)),(async()=>{const p=await d.getInitializedTimelineAsync(e._id,{versions:e.versions,transform:cp(e)});if(f){const[h,y]=Yi(s);let x={transforms:h,stream:qn(y)};p.getQueue($t(o)).forEach(({transaction:S})=>{S.forEach(E=>{E[0]===o&&(x=up(x,E))})});const g=p.getStatus().isMutated,v=ap(x.stream,x.transforms);c(()=>Er(v,{client:i,record:e.record,documentId:e._id})),a(g)}})(),()=>{f=!1}},[e,d,i]),typeof e>"u"?{label:void 0,isModified:l}:u&&Array.isArray(u)&&u.length>0&&typeof u[0]=="string"?{label:u[0].trim(),isModified:l}:{label:r,isModified:l}};function yp(e){return{type:(()=>Boolean(e.spaces.find(n=>n.type==="pages"))?"app":"data")()}}function v4({isFocused:e,dragHandleProps:t,data:n}){const r=zu(),[{path:o,index:i},s,l]=ir(n),a=["",...o.split("/").filter(Boolean).map((c,d,f)=>f.slice(0,d+1).join("/"))];return o.endsWith("folders")||o.endsWith("templates")?m("div",{className:P("h-11 shrink-0 grow-0 flex items-center pl-5 text-sm","bg-white dark:bg-gray-850"),children:m("button",{className:"shrink-0 ml-auto mr-2 flex items-center justify-center h-full px-3",onMouseDown:c=>c.stopPropagation(),onClick:c=>{c.stopPropagation(),l()},children:m($r,{className:"w-4 h-4"})})}):m("div",{className:P("h-11 shrink-0 grow-0 overflow-x-auto dark:text-white","bg-white dark:bg-gray-800"),children:N("div",{className:P("h-full flex pr-2",e?"opacity-100":"opacity-25"),...t,children:[a.length>1&&m(vr,{to:s("/",{navigate:!1}),className:"h-11 flex-center ml-2 w-10 text-gray-500 hover:text-white transition-colors",children:m(Ig,{className:"w-4 h-4"})}),m("div",{className:"flex gap-6 pl-2 h-full overflow-x-auto no-scrollbar grow",children:a.slice(1).map((c,d)=>m(x4,{segment:c,isCurrent:d===a.length-2,onHover:()=>{},navigate:s,panelIndex:i},c))}),m("button",{className:P("shrink-0 flex items-center justify-center h-full px-2","opacity-50 hover:opacity-100 transition-opacity"),onClick:c=>{c.stopPropagation(),r.open({path:o,index:n.index+1})},children:m(xM,{className:"w-4 h-4"})}),m("button",{className:P("shrink-0 flex items-center justify-center h-full px-2","opacity-50 hover:opacity-100 transition-opacity"),onMouseDown:c=>c.stopPropagation(),onClick:c=>{c.stopPropagation(),l()},children:m($r,{className:"w-4 h-4"})})]})})}function x4({segment:e,isCurrent:t,navigate:n,panelIndex:r,onHover:o}){const i=mp(e),s=i.type;let l=!1,a="",u,c=!1,d=!1;if(s==="field")a=Rs(i.id),u=Ly;else if(s==="folder"){const{documents:x,error:g}=En(i.id),v=os(i.id),S=yp(v);a=(v==null?void 0:v.label)??"",!x&&!g&&(l=!0),u=S.type==="app"?ju:Qo}else if(s==="document"||s==="template"){let{doc:x,error:g}=rs(i.id);({label:a="",isModified:c}=gp(x)),!x&&!g&&(l=!0),d=Boolean(x&&!x.folder),u=s==="template"?Tr:Bu}else throw new Error("Url is not valid");const f=w.useRef(null),p=()=>{f.current&&clearTimeout(f.current)};w.useEffect(()=>p);const h=`/${e}`,{dragHandleProps:y}=lo({type:`link:${r}`,item:h,mode:"link"});return m("button",{...y,className:P("my-2 h-7 text-sm leading-none rounded-md font-medium",t?s==="template"?"text-teal-400":"":"text-gray-500 hover:text-white transition-colors"),onClick:()=>n(h,{navigate:!0}),children:l?m(Ho,{}):N("div",{className:"flex items-center",children:[m(u,{className:"w-4 h-4"}),m("span",{className:P("truncate ml-2",!t&&"hidden @lg:block"),children:a}),c&&m("div",{className:P("w-2 h-2 rounded ml-2",d?"bg-yellow-400":"bg-teal-400")})]})})}function _l(e){const t=e.isShadow||e.isDragged,n=e.isDragged&&e.crossList||e.isShadow&&!e.isTargetList,r=`translateX(${e.delta[0]}px) translateY(${e.delta[1]}px)`,o="transform 200ms cubic-bezier(0.2, 0, 0, 1)";return e.isDragging?{...t?{opacity:.5,visibility:n?"hidden":void 0,position:e.isShadow&&n?"absolute":void 0}:{transition:o},transform:r}:void 0}function rd({id:e,type:t="new",edge:n,index:r}){const o=zu(),{pathname:i}=_n(),s=ml(),l=f=>t==="existing"&&f.endsWith(String(r)),a=w.useCallback(([f])=>{if(!(f.type==="delete"||typeof f.item!="string"))if(t==="new")o.open({path:f.item,index:r});else{const p=fp(i,{path:f.item,index:r});s(p)}},[i,o,s,r]),{ref:u,state:c}=lo({id:e,type:"link-receiver",onChange:a,canReceive:{link:({type:f})=>f.startsWith("link")?l(f)?"reject":"accept":"ignore",move:()=>"ignore"}}),d=t==="existing"?Py:ui;return m("div",{ref:u,className:P("absolute flex items-center inset-y-0 z-10 w-2 pointer-events-none",n==="left"?"left-0":n==="right"?"right-0":"ml-[50%]"),children:m("div",{className:P("flex-center shrink-0 transition-opacity",t==="existing"?"bg-yellow-400/75":"bg-green-500/75",n==="left"?"h-20 w-10 rounded-r-full pr-3":n==="right"?"h-20 w-10 -translate-x-9 rounded-l-full pl-3":"h-20 w-20 -translate-x-10 rounded-full",c.isTarget&&c.acceptsLink?"opacity-100":"opacity-0"),children:m(d,{className:"w-6 h-6"})})})}function w4({data:{path:e,index:t}}){const[n,r]=w.useState([]),o=zn(),i=w.useRef(null);w.useEffect(()=>{const a=i.current;if(i.current=e,!a||a===e)return;const u=a.split("/").slice(-1)[0],c=u.slice(0,1),d=u.slice(1).padStart(24,"0");let f=!0;return c==="d"||c==="t"?dp(d,o).then(p=>{if(!f)return;const h=(p==null?void 0:p.label)??uo(p);h&&r(y=>[{path:a,label:h,type:c},...y.filter(x=>x.path!==a&&x.path!==e)].slice(0,5))}):r(p=>p.filter(h=>h.path!==a&&h.path!==e).slice(0,5)),()=>{f=!1}},[e]);const{pathname:s}=_n(),l=a=>fp(s,{path:a,index:0});return m("div",{className:"h-7 bg-white dark:bg-gray-850 text-xs px-2 flex gap-3",children:n.map(a=>m(vr,{to:l(a.path),className:P("h-7 flex items-center transition-colors",a.type==="t"?"text-teal-500 hover:text-teal-700 dark:text-teal-700 dark:hover:text-teal-400":"text-gray-400 hover:text-gray-600 dark:text-gray-600 dark:hover:text-gray-200"),children:a.label},a.path))})}function _4({error:e,resetErrorBoundary:t}){const[n,r]=w.useReducer(o=>!o,!1);return N("div",{className:"p-5 bg-white dark:bg-gray-850 text-center h-full text-gray-700 dark:text-white",children:["Der skete en fejl 💥",m("br",{}),m("br",{}),m("button",{onClick:()=>{t()},className:"py-2 px-3 rounded bg-teal-600 mx-auto hover:bg-teal-700",children:"Prøv igen."}),m("br",{}),m("br",{}),N("div",{className:"text-red-300 text-sm",children:[N("button",{onClick:()=>{r(),console.error(e)},children:[n?"Skjul":"Vis"," fejlmeddelelse"]}),n&&N(re,{children:[m("br",{}),e.message]})]})]})}function S4({data:e,single:t,children:n}){const{isFocused:r,handlers:o,id:i}=Vy(),s=r||t,{dragHandleProps:l,ref:a,state:u}=hl({id:e.key,index:e.index,item:e}),c=_l(u);return m(mk.Provider,{value:w.useMemo(()=>({isFocused:s,id:i}),[s,i]),children:N(nf,{className:"relative h-full py-2",id:e.key,order:e.index,style:{...c,order:e.index},minSize:25,children:[m(rd,{id:`existing-${e.key}`,type:"existing",index:e.index}),N("div",{ref:a,...o,className:P("@container w-full h-full flex flex-col rounded-md overflow-hidden border border-gray-200 dark:border-gray-800"),children:[m(v4,{data:e,isFocused:s,dragHandleProps:l}),m(pk,{FallbackComponent:_4,children:m("div",{className:"h-[calc(100vh-48px)] relative overflow-hidden bg-white dark:bg-gray-850",children:n})}),m(w4,{data:e})]})]})})}function E4({routes:e}){const t=n3(),n=zu(),r=w.useCallback(o=>{let i=null,s=null;for(let l of o){const{type:a,index:u}=l;a==="add"&&(s=u),a==="delete"&&(i=u)}i!==null&&s!==null&&n.move({start:i,end:s})},[n]);return N("div",{className:"relative w-full h-full flex overflow-hidden",children:[m(rd,{index:0,edge:"left",id:"link-left"}),m(Nu,{type:"panels",id:"panels",onChange:r,canReceive:{link:()=>"ignore",move:({type:o})=>o==="panels"?"accept":"ignore"},children:m(By,{direction:"horizontal",children:t.data.map(o=>N(w.Fragment,{children:[o.index!==0&&m(Wy,{className:P("group h-full relative","w-2"),style:{order:o.index},children:m(rd,{index:o.index,id:`new-${o.key}`})}),m(S4,{data:o,single:t.data.length===1,children:m(c4,{routes:e,data:o})})]},o.key))})}),m(rd,{index:t.data.length,edge:"right",id:"link-right"})]})}const vp=typeof window>"u"||typeof document>"u";let ze=vp?_.useEffect:_.useLayoutEffect;function Xn(e){let t=_.useRef(e);return ze(()=>{t.current=e},[e]),t}function Gy(e,t){let[n,r]=_.useState(e),o=Xn(e);return ze(()=>r(o.current),[o,r,...t]),n}function xp(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function rr(){let e=[],t=[],n={enqueue(r){t.push(r)},addEventListener(r,o,i,s){return r.addEventListener(o,i,s),n.add(()=>r.removeEventListener(o,i,s))},requestAnimationFrame(...r){let o=requestAnimationFrame(...r);return n.add(()=>cancelAnimationFrame(o))},nextFrame(...r){return n.requestAnimationFrame(()=>n.requestAnimationFrame(...r))},setTimeout(...r){let o=setTimeout(...r);return n.add(()=>clearTimeout(o))},microTask(...r){let o={current:!0};return xp(()=>{o.current&&r[0]()}),n.add(()=>{o.current=!1})},add(r){return e.push(r),()=>{let o=e.indexOf(r);if(o>=0){let[i]=e.splice(o,1);i()}}},dispose(){for(let r of e.splice(0))r()},async workQueue(){for(let r of t.splice(0))await r()}};return n}function ci(){let[e]=_.useState(rr);return _.useEffect(()=>()=>e.dispose(),[e]),e}let ne=function(e){let t=Xn(e);return w.useCallback((...n)=>t.current(...n),[t])},zh={serverHandoffComplete:!1};function Sl(){let[e,t]=_.useState(zh.serverHandoffComplete);return _.useEffect(()=>{e!==!0&&t(!0)},[e]),_.useEffect(()=>{zh.serverHandoffComplete===!1&&(zh.serverHandoffComplete=!0)},[]),e}var Wx;let k4=0;function Ux(){return++k4}let ln=(Wx=w.useId)!=null?Wx:function(){let e=Sl(),[t,n]=w.useState(e?Ux:null);return ze(()=>{t===null&&n(Ux())},[t]),t!=null?""+t:void 0};function Oe(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Oe),r}function Wu(e){return vp?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let Ag=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Vr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Vr||{}),wk=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(wk||{}),C4=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(C4||{});function _k(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Ag)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Zy=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Zy||{});function Yy(e,t=0){var n;return e===((n=Wu(e))==null?void 0:n.body)?!1:Oe(t,{[0](){return e.matches(Ag)},[1](){let r=e;for(;r!==null;){if(r.matches(Ag))return!0;r=r.parentElement}return!1}})}function Sk(e){let t=Wu(e);rr().nextFrame(()=>{t&&!Yy(t.activeElement,0)&&Bo(e)})}function Bo(e){e==null||e.focus({preventScroll:!0})}let b4=["textarea","input"].join(",");function N4(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,b4))!=null?n:!1}function Qy(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),i=t(r);if(o===null||i===null)return 0;let s=o.compareDocumentPosition(i);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function T4(e,t){return _a(_k(),t,{relativeTo:e})}function _a(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?Qy(e):e:_k(e);o.length>0&&(s=s.filter(p=>!o.includes(p))),r=r??i.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),a=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(r))-1;if(t&4)return Math.max(0,s.indexOf(r))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},c=0,d=s.length,f;do{if(c>=d||c+d<=0)return 0;let p=a+c;if(t&16)p=(p+d)%d;else{if(p<0)return 3;if(p>=d)return 1}f=s[p],f==null||f.focus(u),c+=l}while(f!==i.activeElement);return t&6&&N4(f)&&f.select(),f.hasAttribute("tabindex")||f.setAttribute("tabindex","0"),2}function jh(e,t,n){let r=Xn(t);_.useEffect(()=>{function o(i){r.current(i)}return document.addEventListener(e,o,n),()=>document.removeEventListener(e,o,n)},[e,n])}function Jy(e,t,n=!0){let r=_.useRef(!1);_.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function o(s,l){if(!r.current||s.defaultPrevented)return;let a=function c(d){return typeof d=="function"?c(d()):Array.isArray(d)||d instanceof Set?d:[d]}(e),u=l(s);if(u!==null&&u.getRootNode().contains(u)){for(let c of a){if(c===null)continue;let d=c instanceof HTMLElement?c:c.current;if(d!=null&&d.contains(u)||s.composed&&s.composedPath().includes(d))return}return!Yy(u,Zy.Loose)&&u.tabIndex!==-1&&s.preventDefault(),t(s,u)}}let i=_.useRef(null);jh("mousedown",s=>{var l,a;r.current&&(i.current=((a=(l=s.composedPath)==null?void 0:l.call(s))==null?void 0:a[0])||s.target)},!0),jh("click",s=>{!i.current||(o(s,()=>i.current),i.current=null)},!0),jh("blur",s=>o(s,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Hx(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function Ek(e,t){let[n,r]=_.useState(()=>Hx(e));return ze(()=>{r(Hx(e))},[e.type,e.as]),ze(()=>{n||!t.current||t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}let kk=Symbol();function $4(e,t=!0){return Object.assign(e,{[kk]:t})}function rt(...e){let t=_.useRef(e);_.useEffect(()=>{t.current=e},[e]);let n=ne(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[kk]))?void 0:n}function Ck({container:e,accept:t,walk:n,enabled:r=!0}){let o=_.useRef(t),i=_.useRef(n);_.useEffect(()=>{o.current=t,i.current=n},[t,n]),ze(()=>{if(!e||!r)return;let s=Wu(e);if(!s)return;let l=o.current,a=i.current,u=Object.assign(d=>l(d),{acceptNode:l}),c=s.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;c.nextNode();)a(c.currentNode)},[e,r,o,i])}function O4(e){throw new Error("Unexpected object: "+e)}var Ne=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Ne||{});function bk(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),o=r??-1,i=(()=>{switch(e.focus){case 0:return n.findIndex(s=>!t.resolveDisabled(s));case 1:{let s=n.slice().reverse().findIndex((l,a,u)=>o!==-1&&u.length-a-1>=o?!1:!t.resolveDisabled(l));return s===-1?s:n.length-1-s}case 2:return n.findIndex((s,l)=>l<=o?!1:!t.resolveDisabled(s));case 3:{let s=n.slice().reverse().findIndex(l=>!t.resolveDisabled(l));return s===-1?s:n.length-1-s}case 4:return n.findIndex(s=>t.resolveId(s)===e.id);case 5:return null;default:O4(e)}})();return i===-1?r:i}var qo=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(qo||{}),Zr=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Zr||{});function qe({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:i=!0,name:s}){let l=Nk(t,e);if(i)return Pc(l,n,r,s);let a=o??0;if(a&2){let{static:u=!1,...c}=l;if(u)return Pc(c,n,r,s)}if(a&1){let{unmount:u=!0,...c}=l;return Oe(u?0:1,{[0](){return null},[1](){return Pc({...c,hidden:!0,style:{display:"none"}},n,r,s)}})}return Pc(l,n,r,s)}function Pc(e,t={},n,r){let{as:o=n,children:i,refName:s="ref",...l}=Bh(e,["unmount","static"]),a=e.ref!==void 0?{[s]:e.ref}:{},u=typeof i=="function"?i(t):i;l.className&&typeof l.className=="function"&&(l.className=l.className(t));let c={};if(t){let d=!1,f=[];for(let[p,h]of Object.entries(t))typeof h=="boolean"&&(d=!0),h===!0&&f.push(p);d&&(c["data-headlessui-state"]=f.join(" "))}if(o===_.Fragment&&Object.keys(Fg(l)).length>0){if(!_.isValidElement(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(d=>`  - ${d}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(d=>`  - ${d}`).join(`
`)].join(`
`));return _.cloneElement(u,Object.assign({},Nk(u.props,Fg(Bh(l,["ref"]))),c,a,I4(u.ref,a.ref)))}return _.createElement(o,Object.assign({},Bh(l,["ref"]),o!==_.Fragment&&a,o!==_.Fragment&&c),u)}function I4(...e){return{ref:e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}}function Nk(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](o,...i){let s=n[r];for(let l of s){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;l(o,...i)}}});return t}function Ke(e){var t;return Object.assign(_.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Fg(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Bh(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function qy(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&R4(n)?!1:r}function R4(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function Tk(e={},t=null,n=[]){for(let[r,o]of Object.entries(e))Ok(n,$k(t,r),o);return n}function $k(e,t){return e?e+"["+t+"]":t}function Ok(e,t,n){if(Array.isArray(n))for(let[r,o]of n.entries())Ok(e,$k(t,r.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):Tk(n,t,e)}let P4="div";var lu=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(lu||{});let of=Ke(function(e,t){let{features:n=1,...r}=e,o={ref:t,"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return qe({ourProps:o,theirProps:r,slot:{},defaultTag:P4,name:"Hidden"})}),Xy=_.createContext(null);Xy.displayName="OpenClosedContext";var yn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(yn||{});function Uu(){return _.useContext(Xy)}function ev({value:e,children:t}){return w.createElement(Xy.Provider,{value:e},t)}var ve=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(ve||{});function D4(e,t,n){let[r,o]=_.useState(n),i=e!==void 0,s=_.useRef(i),l=_.useRef(!1),a=_.useRef(!1);return i&&!s.current&&!l.current?(l.current=!0,s.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&s.current&&!a.current&&(a.current=!0,s.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:r,ne(u=>(i||o(u),t==null?void 0:t(u)))]}function tv(e,t){let n=_.useRef([]),r=ne(e);_.useEffect(()=>{let o=[...n.current];for(let[i,s]of t.entries())if(n.current[i]!==s){let l=r(t,o);return n.current=t,l}},[r,...t])}function Vx(e){return[e.screenX,e.screenY]}function Ik(){let e=_.useRef([-1,-1]);return{wasMoved(t){let n=Vx(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=Vx(t)}}}var M4=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(M4||{}),L4=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(L4||{}),A4=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(A4||{}),F4=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.RegisterLabel=5]="RegisterLabel",e))(F4||{});function Wh(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=Qy(t(e.options.slice()),i=>i.dataRef.current.domRef.current),o=n?r.indexOf(n):null;return o===-1&&(o=null),{options:r,activeOptionIndex:o}}let z4={[1](e){return e.dataRef.current.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},[0](e){if(e.dataRef.current.disabled||e.comboboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(o=>n(o.dataRef.current.value));return r!==-1&&(t=r),{...e,comboboxState:0,activeOptionIndex:t}},[2](e,t){var n;if(e.dataRef.current.disabled||e.dataRef.current.optionsRef.current&&!e.dataRef.current.optionsPropsRef.current.static&&e.comboboxState===1)return e;let r=Wh(e);if(r.activeOptionIndex===null){let i=r.options.findIndex(s=>!s.dataRef.current.disabled);i!==-1&&(r.activeOptionIndex=i)}let o=bk(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled});return{...e,...r,activeOptionIndex:o,activationTrigger:(n=t.trigger)!=null?n:1}},[3]:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=Wh(e,i=>[...i,n]);e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n));let o={...e,...r,activationTrigger:1};return e.dataRef.current.__demoMode&&e.dataRef.current.value===void 0&&(o.activeOptionIndex=0),o},[4]:(e,t)=>{let n=Wh(e,r=>{let o=r.findIndex(i=>i.id===t.id);return o!==-1&&r.splice(o,1),r});return{...e,...n,activationTrigger:1}},[5]:(e,t)=>({...e,labelId:t.id})},nv=_.createContext(null);nv.displayName="ComboboxActionsContext";function Hu(e){let t=_.useContext(nv);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Hu),n}return t}let rv=_.createContext(null);rv.displayName="ComboboxDataContext";function El(e){let t=_.useContext(rv);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,El),n}return t}function j4(e,t){return Oe(t.type,z4,e,t)}let B4=_.Fragment;function W4(e,t){let{value:n,defaultValue:r,onChange:o,name:i,by:s=(V,ue)=>V===ue,disabled:l=!1,__demoMode:a=!1,nullable:u=!1,multiple:c=!1,...d}=e,[f=c?[]:void 0,p]=D4(n,o,r),[h,y]=_.useReducer(j4,{dataRef:_.createRef(),comboboxState:a?0:1,options:[],activeOptionIndex:null,activationTrigger:1,labelId:null}),x=_.useRef(!1),g=_.useRef({static:!1,hold:!1}),v=_.useRef(null),S=_.useRef(null),E=_.useRef(null),b=_.useRef(null),k=ne(typeof s=="string"?(V,ue)=>{let Se=s;return(V==null?void 0:V[Se])===(ue==null?void 0:ue[Se])}:s),O=_.useCallback(V=>Oe($.mode,{[1]:()=>f.some(ue=>k(ue,V)),[0]:()=>k(f,V)}),[f]),$=_.useMemo(()=>({...h,optionsPropsRef:g,labelRef:v,inputRef:S,buttonRef:E,optionsRef:b,value:f,defaultValue:r,disabled:l,mode:c?1:0,get activeOptionIndex(){if(x.current&&h.activeOptionIndex===null&&h.options.length>0){let V=h.options.findIndex(ue=>!ue.dataRef.current.disabled);if(V!==-1)return V}return h.activeOptionIndex},compare:k,isSelected:O,nullable:u,__demoMode:a}),[f,r,l,c,u,a,h]);ze(()=>{h.dataRef.current=$},[$]),Jy([$.buttonRef,$.inputRef,$.optionsRef],()=>I.closeCombobox(),$.comboboxState===0);let R=_.useMemo(()=>({open:$.comboboxState===0,disabled:l,activeIndex:$.activeOptionIndex,activeOption:$.activeOptionIndex===null?null:$.options[$.activeOptionIndex].dataRef.current.value,value:f}),[$,l,f]),T=ne(V=>{let ue=$.options.find(Se=>Se.id===V);!ue||z(ue.dataRef.current.value)}),D=ne(()=>{if($.activeOptionIndex!==null){let{dataRef:V,id:ue}=$.options[$.activeOptionIndex];z(V.current.value),I.goToOption(Ne.Specific,ue)}}),F=ne(()=>{y({type:0}),x.current=!0}),H=ne(()=>{y({type:1}),x.current=!1}),ee=ne((V,ue,Se)=>(x.current=!1,V===Ne.Specific?y({type:2,focus:Ne.Specific,id:ue,trigger:Se}):y({type:2,focus:V,trigger:Se}))),K=ne((V,ue)=>(y({type:3,id:V,dataRef:ue}),()=>y({type:4,id:V}))),A=ne(V=>(y({type:5,id:V}),()=>y({type:5,id:null}))),z=ne(V=>Oe($.mode,{[0](){return p==null?void 0:p(V)},[1](){let ue=$.value.slice(),Se=ue.findIndex(it=>k(it,V));return Se===-1?ue.push(V):ue.splice(Se,1),p==null?void 0:p(ue)}})),I=_.useMemo(()=>({onChange:z,registerOption:K,registerLabel:A,goToOption:ee,closeCombobox:H,openCombobox:F,selectActiveOption:D,selectOption:T}),[]),M=t===null?{}:{ref:t},U=_.useRef(null),se=ci();return _.useEffect(()=>{!U.current||r!==void 0&&se.addEventListener(U.current,"reset",()=>{z(r)})},[U,z]),w.createElement(nv.Provider,{value:I},w.createElement(rv.Provider,{value:$},w.createElement(ev,{value:Oe($.comboboxState,{[0]:yn.Open,[1]:yn.Closed})},i!=null&&f!=null&&Tk({[i]:f}).map(([V,ue],Se)=>w.createElement(of,{features:lu.Hidden,ref:Se===0?it=>{var Le;U.current=(Le=it==null?void 0:it.closest("form"))!=null?Le:null}:void 0,...Fg({key:V,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:V,value:ue})})),qe({ourProps:M,theirProps:d,slot:R,defaultTag:B4,name:"Combobox"}))))}let U4=Ke(W4),H4="input",V4=Ke(function(e,t){var n,r,o,i;let s=ln(),{id:l=`headlessui-combobox-input-${s}`,onChange:a,displayValue:u,type:c="text",...d}=e,f=El("Combobox.Input"),p=Hu("Combobox.Input"),h=rt(f.inputRef,t),y=_.useRef(!1),x=ci(),g=function(){var D;return typeof u=="function"&&f.value!==void 0?(D=u(f.value))!=null?D:"":typeof f.value=="string"?f.value:""}();tv(([D,F],[H,ee])=>{y.current||!f.inputRef.current||(ee===0&&F===1||D!==H)&&(f.inputRef.current.value=D)},[g,f.comboboxState]);let v=_.useRef(!1),S=ne(()=>{v.current=!0}),E=ne(()=>{setTimeout(()=>{v.current=!1})}),b=ne(D=>{switch(y.current=!0,D.key){case ve.Backspace:case ve.Delete:if(f.mode!==0||!f.nullable)return;let F=D.currentTarget;x.requestAnimationFrame(()=>{F.value===""&&(p.onChange(null),f.optionsRef.current&&(f.optionsRef.current.scrollTop=0),p.goToOption(Ne.Nothing))});break;case ve.Enter:if(y.current=!1,f.comboboxState!==0||v.current)return;if(D.preventDefault(),D.stopPropagation(),f.activeOptionIndex===null){p.closeCombobox();return}p.selectActiveOption(),f.mode===0&&p.closeCombobox();break;case ve.ArrowDown:return y.current=!1,D.preventDefault(),D.stopPropagation(),Oe(f.comboboxState,{[0]:()=>{p.goToOption(Ne.Next)},[1]:()=>{p.openCombobox()}});case ve.ArrowUp:return y.current=!1,D.preventDefault(),D.stopPropagation(),Oe(f.comboboxState,{[0]:()=>{p.goToOption(Ne.Previous)},[1]:()=>{p.openCombobox(),x.nextFrame(()=>{f.value||p.goToOption(Ne.Last)})}});case ve.Home:if(D.shiftKey)break;return y.current=!1,D.preventDefault(),D.stopPropagation(),p.goToOption(Ne.First);case ve.PageUp:return y.current=!1,D.preventDefault(),D.stopPropagation(),p.goToOption(Ne.First);case ve.End:if(D.shiftKey)break;return y.current=!1,D.preventDefault(),D.stopPropagation(),p.goToOption(Ne.Last);case ve.PageDown:return y.current=!1,D.preventDefault(),D.stopPropagation(),p.goToOption(Ne.Last);case ve.Escape:return y.current=!1,f.comboboxState!==0?void 0:(D.preventDefault(),f.optionsRef.current&&!f.optionsPropsRef.current.static&&D.stopPropagation(),p.closeCombobox());case ve.Tab:if(y.current=!1,f.comboboxState!==0)return;f.mode===0&&p.selectActiveOption(),p.closeCombobox();break}}),k=ne(D=>{p.openCombobox(),a==null||a(D)}),O=ne(()=>{y.current=!1}),$=Gy(()=>{if(f.labelId)return[f.labelId].join(" ")},[f.labelId]),R=_.useMemo(()=>({open:f.comboboxState===0,disabled:f.disabled}),[f]),T={ref:h,id:l,role:"combobox",type:c,"aria-controls":(n=f.optionsRef.current)==null?void 0:n.id,"aria-expanded":f.disabled?void 0:f.comboboxState===0,"aria-activedescendant":f.activeOptionIndex===null||(r=f.options[f.activeOptionIndex])==null?void 0:r.id,"aria-multiselectable":f.mode===1?!0:void 0,"aria-labelledby":$,defaultValue:(i=(o=e.defaultValue)!=null?o:f.defaultValue!==void 0?u==null?void 0:u(f.defaultValue):null)!=null?i:f.defaultValue,disabled:f.disabled,onCompositionStart:S,onCompositionEnd:E,onKeyDown:b,onChange:k,onBlur:O};return qe({ourProps:T,theirProps:d,slot:R,defaultTag:H4,name:"Combobox.Input"})}),K4="button",G4=Ke(function(e,t){var n;let r=El("Combobox.Button"),o=Hu("Combobox.Button"),i=rt(r.buttonRef,t),s=ln(),{id:l=`headlessui-combobox-button-${s}`,...a}=e,u=ci(),c=ne(y=>{switch(y.key){case ve.ArrowDown:return y.preventDefault(),y.stopPropagation(),r.comboboxState===1&&o.openCombobox(),u.nextFrame(()=>{var x;return(x=r.inputRef.current)==null?void 0:x.focus({preventScroll:!0})});case ve.ArrowUp:return y.preventDefault(),y.stopPropagation(),r.comboboxState===1&&(o.openCombobox(),u.nextFrame(()=>{r.value||o.goToOption(Ne.Last)})),u.nextFrame(()=>{var x;return(x=r.inputRef.current)==null?void 0:x.focus({preventScroll:!0})});case ve.Escape:return r.comboboxState!==0?void 0:(y.preventDefault(),r.optionsRef.current&&!r.optionsPropsRef.current.static&&y.stopPropagation(),o.closeCombobox(),u.nextFrame(()=>{var x;return(x=r.inputRef.current)==null?void 0:x.focus({preventScroll:!0})}));default:return}}),d=ne(y=>{if(qy(y.currentTarget))return y.preventDefault();r.comboboxState===0?o.closeCombobox():(y.preventDefault(),o.openCombobox()),u.nextFrame(()=>{var x;return(x=r.inputRef.current)==null?void 0:x.focus({preventScroll:!0})})}),f=Gy(()=>{if(r.labelId)return[r.labelId,l].join(" ")},[r.labelId,l]),p=_.useMemo(()=>({open:r.comboboxState===0,disabled:r.disabled,value:r.value}),[r]),h={ref:i,id:l,type:Ek(e,r.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.disabled?void 0:r.comboboxState===0,"aria-labelledby":f,disabled:r.disabled,onClick:d,onKeyDown:c};return qe({ourProps:h,theirProps:a,slot:p,defaultTag:K4,name:"Combobox.Button"})}),Z4="label",Y4=Ke(function(e,t){let n=ln(),{id:r=`headlessui-combobox-label-${n}`,...o}=e,i=El("Combobox.Label"),s=Hu("Combobox.Label"),l=rt(i.labelRef,t);ze(()=>s.registerLabel(r),[r]);let a=ne(()=>{var c;return(c=i.inputRef.current)==null?void 0:c.focus({preventScroll:!0})}),u=_.useMemo(()=>({open:i.comboboxState===0,disabled:i.disabled}),[i]);return qe({ourProps:{ref:l,id:r,onClick:a},theirProps:o,slot:u,defaultTag:Z4,name:"Combobox.Label"})}),Q4="ul",J4=qo.RenderStrategy|qo.Static,q4=Ke(function(e,t){var n;let r=ln(),{id:o=`headlessui-combobox-options-${r}`,hold:i=!1,...s}=e,l=El("Combobox.Options"),a=rt(l.optionsRef,t),u=Uu(),c=(()=>u!==null?u===yn.Open:l.comboboxState===0)();ze(()=>{var h;l.optionsPropsRef.current.static=(h=e.static)!=null?h:!1},[l.optionsPropsRef,e.static]),ze(()=>{l.optionsPropsRef.current.hold=i},[l.optionsPropsRef,i]),Ck({container:l.optionsRef.current,enabled:l.comboboxState===0,accept(h){return h.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}});let d=Gy(()=>{var h,y;return(y=l.labelId)!=null?y:(h=l.buttonRef.current)==null?void 0:h.id},[l.labelId,l.buttonRef.current]),f=_.useMemo(()=>({open:l.comboboxState===0}),[l]),p={"aria-activedescendant":l.activeOptionIndex===null||(n=l.options[l.activeOptionIndex])==null?void 0:n.id,"aria-labelledby":d,role:"listbox",id:o,ref:a};return qe({ourProps:p,theirProps:s,slot:f,defaultTag:Q4,features:J4,visible:c,name:"Combobox.Options"})}),X4="li",eL=Ke(function(e,t){var n,r;let o=ln(),{id:i=`headlessui-combobox-option-${o}`,disabled:s=!1,value:l,...a}=e,u=El("Combobox.Option"),c=Hu("Combobox.Option"),d=u.activeOptionIndex!==null?u.options[u.activeOptionIndex].id===i:!1,f=u.isSelected(l),p=_.useRef(null),h=Xn({disabled:s,value:l,domRef:p,textValue:(r=(n=p.current)==null?void 0:n.textContent)==null?void 0:r.toLowerCase()}),y=rt(t,p),x=ne(()=>c.selectOption(i));ze(()=>c.registerOption(i,h),[h,i]);let g=_.useRef(!u.__demoMode);ze(()=>{if(!u.__demoMode)return;let R=rr();return R.requestAnimationFrame(()=>{g.current=!0}),R.dispose},[]),ze(()=>{if(u.comboboxState!==0||!d||!g.current||u.activationTrigger===0)return;let R=rr();return R.requestAnimationFrame(()=>{var T,D;(D=(T=p.current)==null?void 0:T.scrollIntoView)==null||D.call(T,{block:"nearest"})}),R.dispose},[p,d,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let v=ne(R=>{if(s)return R.preventDefault();x(),u.mode===0&&c.closeCombobox()}),S=ne(()=>{if(s)return c.goToOption(Ne.Nothing);c.goToOption(Ne.Specific,i)}),E=Ik(),b=ne(R=>E.update(R)),k=ne(R=>{!E.wasMoved(R)||s||d||c.goToOption(Ne.Specific,i,0)}),O=ne(R=>{!E.wasMoved(R)||s||!d||u.optionsPropsRef.current.hold||c.goToOption(Ne.Nothing)}),$=_.useMemo(()=>({active:d,selected:f,disabled:s}),[d,f,s]);return qe({ourProps:{id:i,ref:y,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":f,disabled:void 0,onClick:v,onFocus:S,onPointerEnter:b,onMouseEnter:b,onPointerMove:k,onMouseMove:k,onPointerLeave:O,onMouseLeave:O},theirProps:a,slot:$,defaultTag:X4,name:"Combobox.Option"})}),Dc=Object.assign(U4,{Input:V4,Button:G4,Label:Y4,Options:q4,Option:eL});function tL(e,t,n){let r=Xn(t);_.useEffect(()=>{function o(i){r.current(i)}return window.addEventListener(e,o,n),()=>window.removeEventListener(e,o,n)},[e,n])}var oa=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(oa||{});function nL(){let e=_.useRef(0);return tL("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function wp(){let e=_.useRef(!1);return ze(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Vu(...e){return _.useMemo(()=>Wu(...e),[...e])}function ov(e,t,n,r){let o=Xn(n);_.useEffect(()=>{e=e??window;function i(s){o.current(s)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}let rL="div";var Rk=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Rk||{});let Gl=Object.assign(Ke(function(e,t){let n=_.useRef(null),r=rt(n,t),{initialFocus:o,containers:i,features:s=30,...l}=e;Sl()||(s=1);let a=Vu(n);oL({ownerDocument:a},Boolean(s&16));let u=iL({ownerDocument:a,container:n,initialFocus:o},Boolean(s&2));sL({ownerDocument:a,container:n,containers:i,previousActiveElement:u},Boolean(s&8));let c=nL(),d=ne(y=>{let x=n.current;x&&(g=>g())(()=>{Oe(c.current,{[oa.Forwards]:()=>_a(x,Vr.First,{skipElements:[y.relatedTarget]}),[oa.Backwards]:()=>_a(x,Vr.Last,{skipElements:[y.relatedTarget]})})})}),f=ci(),p=_.useRef(!1),h={ref:r,onKeyDown(y){y.key=="Tab"&&(p.current=!0,f.requestAnimationFrame(()=>{p.current=!1}))},onBlur(y){let x=new Set(i==null?void 0:i.current);x.add(n);let g=y.relatedTarget;!g||g.dataset.headlessuiFocusGuard!=="true"&&(Pk(x,g)||(p.current?_a(n.current,Oe(c.current,{[oa.Forwards]:()=>Vr.Next,[oa.Backwards]:()=>Vr.Previous})|Vr.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&Bo(y.target)))}};return w.createElement(w.Fragment,null,Boolean(s&4)&&w.createElement(of,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:lu.Focusable}),qe({ourProps:h,theirProps:l,defaultTag:rL,name:"FocusTrap"}),Boolean(s&4)&&w.createElement(of,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:lu.Focusable}))}),{features:Rk});function oL({ownerDocument:e},t){let n=_.useRef(null);ov(e==null?void 0:e.defaultView,"focusout",o=>{!t||n.current||(n.current=o.target)},!0),tv(()=>{t||((e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Bo(n.current),n.current=null)},[t]);let r=_.useRef(!1);_.useEffect(()=>(r.current=!1,()=>{r.current=!0,xp(()=>{!r.current||(Bo(n.current),n.current=null)})}),[])}function iL({ownerDocument:e,container:t,initialFocus:n},r){let o=_.useRef(null),i=wp();return tv(()=>{if(!r)return;let s=t.current;!s||xp(()=>{if(!i.current)return;let l=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===l){o.current=l;return}}else if(s.contains(l)){o.current=l;return}n!=null&&n.current?Bo(n.current):_a(s,Vr.First)===wk.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),o.current=e==null?void 0:e.activeElement})},[r]),o}function sL({ownerDocument:e,container:t,containers:n,previousActiveElement:r},o){let i=wp();ov(e==null?void 0:e.defaultView,"focus",s=>{if(!o||!i.current)return;let l=new Set(n==null?void 0:n.current);l.add(t);let a=r.current;if(!a)return;let u=s.target;u&&u instanceof HTMLElement?Pk(l,u)?(r.current=u,Bo(u)):(s.preventDefault(),s.stopPropagation(),Bo(a)):Bo(r.current)},!0)}function Pk(e,t){var n;for(let r of e)if((n=r.current)!=null&&n.contains(t))return!0;return!1}let ps=new Set,xo=new Map;function Kx(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function Gx(e){let t=xo.get(e);!t||(t["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}function lL(e,t=!0){ze(()=>{if(!t||!e.current)return;let n=e.current,r=Wu(n);if(r){ps.add(n);for(let o of xo.keys())o.contains(n)&&(Gx(o),xo.delete(o));return r.querySelectorAll("body > *").forEach(o=>{if(o instanceof HTMLElement){for(let i of ps)if(o.contains(i))return;ps.size===1&&(xo.set(o,{"aria-hidden":o.getAttribute("aria-hidden"),inert:o.inert}),Kx(o))}}),()=>{if(ps.delete(n),ps.size>0)r.querySelectorAll("body > *").forEach(o=>{if(o instanceof HTMLElement&&!xo.has(o)){for(let i of ps)if(o.contains(i))return;xo.set(o,{"aria-hidden":o.getAttribute("aria-hidden"),inert:o.inert}),Kx(o)}});else for(let o of xo.keys())Gx(o),xo.delete(o)}}},[t])}let Dk=_.createContext(!1);function aL(){return _.useContext(Dk)}function zg(e){return w.createElement(Dk.Provider,{value:e.force},e.children)}function uL(e){let t=aL(),n=_.useContext(Mk),r=Vu(e),[o,i]=_.useState(()=>{if(!t&&n!==null||vp)return null;let s=r==null?void 0:r.getElementById("headlessui-portal-root");if(s)return s;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return _.useEffect(()=>{o!==null&&(r!=null&&r.body.contains(o)||r==null||r.body.appendChild(o))},[o,r]),_.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),o}let cL=_.Fragment,dL=Ke(function(e,t){let n=e,r=_.useRef(null),o=rt($4(c=>{r.current=c}),t),i=Vu(r),s=uL(r),[l]=_.useState(()=>{var c;return vp?null:(c=i==null?void 0:i.createElement("div"))!=null?c:null}),a=Sl(),u=_.useRef(!1);return ze(()=>{if(u.current=!1,!(!s||!l))return s.contains(l)||(l.setAttribute("data-headlessui-portal",""),s.appendChild(l)),()=>{u.current=!0,xp(()=>{var c;!u.current||!s||!l||(s.removeChild(l),s.childNodes.length<=0&&((c=s.parentElement)==null||c.removeChild(s)))})}},[s,l]),a?!s||!l?null:zi.createPortal(qe({ourProps:{ref:o},theirProps:n,defaultTag:cL,name:"Portal"}),l):null}),fL=_.Fragment,Mk=_.createContext(null),pL=Ke(function(e,t){let{target:n,...r}=e,o={ref:rt(t)};return w.createElement(Mk.Provider,{value:n},qe({ourProps:o,theirProps:r,defaultTag:fL,name:"Popover.Group"}))}),jg=Object.assign(dL,{Group:pL}),Lk=_.createContext(null);function Ak(){let e=_.useContext(Lk);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Ak),t}return e}function hL(){let[e,t]=_.useState([]);return[e.length>0?e.join(" "):void 0,_.useMemo(()=>function(n){let r=ne(i=>(t(s=>[...s,i]),()=>t(s=>{let l=s.slice(),a=l.indexOf(i);return a!==-1&&l.splice(a,1),l}))),o=_.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return w.createElement(Lk.Provider,{value:o},n.children)},[t])]}let mL="p",gL=Ke(function(e,t){let n=ln(),{id:r=`headlessui-description-${n}`,...o}=e,i=Ak(),s=rt(t);ze(()=>i.register(r),[r,i.register]);let l={ref:s,...i.props,id:r};return qe({ourProps:l,theirProps:o,slot:i.slot||{},defaultTag:mL,name:i.name||"Description"})}),iv=_.createContext(()=>{});iv.displayName="StackContext";var Bg=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Bg||{});function yL(){return _.useContext(iv)}function vL({children:e,onUpdate:t,type:n,element:r,enabled:o}){let i=yL(),s=ne((...l)=>{t==null||t(...l),i(...l)});return ze(()=>{let l=o===void 0||o===!0;return l&&s(0,n,r),()=>{l&&s(1,n,r)}},[s,n,r,o]),w.createElement(iv.Provider,{value:s},e)}function xL(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}var wL=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(wL||{}),_L=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(_L||{});let SL={[0](e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},sf=_.createContext(null);sf.displayName="DialogContext";function Ku(e){let t=_.useContext(sf);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ku),n}return t}function EL(e,t,n=()=>[document.body]){_.useEffect(()=>{var r;if(!t||!e)return;let o=rr(),i=window.pageYOffset;function s(u,c,d){let f=u.style.getPropertyValue(c);return Object.assign(u.style,{[c]:d}),o.add(()=>{Object.assign(u.style,{[c]:f})})}let l=e.documentElement,a=((r=e.defaultView)!=null?r:window).innerWidth-l.clientWidth;if(s(l,"overflow","hidden"),a>0){let u=l.clientWidth-l.offsetWidth,c=a-u;s(l,"paddingRight",`${c}px`)}if(xL()){s(e.body,"marginTop",`-${i}px`),window.scrollTo(0,0);let u=null;o.addEventListener(e,"click",c=>{if(c.target instanceof HTMLElement)try{let d=c.target.closest("a");if(!d)return;let{hash:f}=new URL(d.href),p=e.querySelector(f);p&&!n().some(h=>h.contains(p))&&(u=p)}catch{}},!0),o.addEventListener(e,"touchmove",c=>{c.target instanceof HTMLElement&&!n().some(d=>d.contains(c.target))&&c.preventDefault()},{passive:!1}),o.add(()=>{window.scrollTo(0,window.pageYOffset+i),u&&u.isConnected&&(u.scrollIntoView({block:"nearest"}),u=null)})}return o.dispose},[e,t])}function kL(e,t){return Oe(t.type,SL,e,t)}let CL="div",bL=qo.RenderStrategy|qo.Static,NL=Ke(function(e,t){let n=ln(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:i,initialFocus:s,__demoMode:l=!1,...a}=e,[u,c]=_.useState(0),d=Uu();o===void 0&&d!==null&&(o=Oe(d,{[yn.Open]:!0,[yn.Closed]:!1}));let f=_.useRef(new Set),p=_.useRef(null),h=rt(p,t),y=_.useRef(null),x=Vu(p),g=e.hasOwnProperty("open")||d!==null,v=e.hasOwnProperty("onClose");if(!g&&!v)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!g)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!v)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof o!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${o}`);if(typeof i!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${i}`);let S=o?0:1,[E,b]=_.useReducer(kL,{titleId:null,descriptionId:null,panelRef:_.createRef()}),k=ne(()=>i(!1)),O=ne(I=>b({type:0,id:I})),$=Sl()?l?!1:S===0:!1,R=u>1,T=_.useContext(sf)!==null,D=R?"parent":"leaf";lL(p,R?$:!1);let F=ne(()=>{var I,M;return[...Array.from((I=x==null?void 0:x.querySelectorAll("body > *, [data-headlessui-portal]"))!=null?I:[]).filter(U=>!(!(U instanceof HTMLElement)||U.contains(y.current)||E.panelRef.current&&U.contains(E.panelRef.current))),(M=E.panelRef.current)!=null?M:p.current]});Jy(()=>F(),k,$&&!R),ov(x==null?void 0:x.defaultView,"keydown",I=>{I.defaultPrevented||I.key===ve.Escape&&S===0&&(R||(I.preventDefault(),I.stopPropagation(),k()))}),EL(x,S===0&&!T,F),_.useEffect(()=>{if(S!==0||!p.current)return;let I=new IntersectionObserver(M=>{for(let U of M)U.boundingClientRect.x===0&&U.boundingClientRect.y===0&&U.boundingClientRect.width===0&&U.boundingClientRect.height===0&&k()});return I.observe(p.current),()=>I.disconnect()},[S,p,k]);let[H,ee]=hL(),K=_.useMemo(()=>[{dialogState:S,close:k,setTitleId:O},E],[S,E,k,O]),A=_.useMemo(()=>({open:S===0}),[S]),z={ref:h,id:r,role:"dialog","aria-modal":S===0?!0:void 0,"aria-labelledby":E.titleId,"aria-describedby":H};return w.createElement(vL,{type:"Dialog",enabled:S===0,element:p,onUpdate:ne((I,M,U)=>{M==="Dialog"&&Oe(I,{[Bg.Add](){f.current.add(U),c(se=>se+1)},[Bg.Remove](){f.current.add(U),c(se=>se-1)}})})},w.createElement(zg,{force:!0},w.createElement(jg,null,w.createElement(sf.Provider,{value:K},w.createElement(jg.Group,{target:p},w.createElement(zg,{force:!1},w.createElement(ee,{slot:A,name:"Dialog.Description"},w.createElement(Gl,{initialFocus:s,containers:f,features:$?Oe(D,{parent:Gl.features.RestoreFocus,leaf:Gl.features.All&~Gl.features.FocusLock}):Gl.features.None},qe({ourProps:z,theirProps:a,slot:A,defaultTag:CL,features:bL,visible:S===0,name:"Dialog"})))))))),w.createElement(of,{features:lu.Hidden,ref:y}))}),TL="div",$L=Ke(function(e,t){let n=ln(),{id:r=`headlessui-dialog-overlay-${n}`,...o}=e,[{dialogState:i,close:s}]=Ku("Dialog.Overlay"),l=rt(t),a=ne(c=>{if(c.target===c.currentTarget){if(qy(c.currentTarget))return c.preventDefault();c.preventDefault(),c.stopPropagation(),s()}}),u=_.useMemo(()=>({open:i===0}),[i]);return qe({ourProps:{ref:l,id:r,"aria-hidden":!0,onClick:a},theirProps:o,slot:u,defaultTag:TL,name:"Dialog.Overlay"})}),OL="div",IL=Ke(function(e,t){let n=ln(),{id:r=`headlessui-dialog-backdrop-${n}`,...o}=e,[{dialogState:i},s]=Ku("Dialog.Backdrop"),l=rt(t);_.useEffect(()=>{if(s.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[s.panelRef]);let a=_.useMemo(()=>({open:i===0}),[i]);return w.createElement(zg,{force:!0},w.createElement(jg,null,qe({ourProps:{ref:l,id:r,"aria-hidden":!0},theirProps:o,slot:a,defaultTag:OL,name:"Dialog.Backdrop"})))}),RL="div",PL=Ke(function(e,t){let n=ln(),{id:r=`headlessui-dialog-panel-${n}`,...o}=e,[{dialogState:i},s]=Ku("Dialog.Panel"),l=rt(t,s.panelRef),a=_.useMemo(()=>({open:i===0}),[i]),u=ne(c=>{c.stopPropagation()});return qe({ourProps:{ref:l,id:r,onClick:u},theirProps:o,slot:a,defaultTag:RL,name:"Dialog.Panel"})}),DL="h2",ML=Ke(function(e,t){let n=ln(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:i,setTitleId:s}]=Ku("Dialog.Title"),l=rt(t);_.useEffect(()=>(s(r),()=>s(null)),[r,s]);let a=_.useMemo(()=>({open:i===0}),[i]);return qe({ourProps:{ref:l,id:r},theirProps:o,slot:a,defaultTag:DL,name:"Dialog.Title"})}),Mc=Object.assign(NL,{Backdrop:IL,Panel:PL,Overlay:$L,Title:ML,Description:gL});var LL=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(LL||{}),AL=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(AL||{}),FL=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(FL||{});function Uh(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=Qy(t(e.items.slice()),i=>i.dataRef.current.domRef.current),o=n?r.indexOf(n):null;return o===-1&&(o=null),{items:r,activeItemIndex:o}}let zL={[1](e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},[0](e){return e.menuState===0?e:{...e,menuState:0}},[2]:(e,t)=>{var n;let r=Uh(e),o=bk(t,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeItemIndex:o,activationTrigger:(n=t.trigger)!=null?n:1}},[3]:(e,t)=>{let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(s=>{var l;return((l=s.dataRef.current.textValue)==null?void 0:l.startsWith(r))&&!s.dataRef.current.disabled}),i=o?e.items.indexOf(o):-1;return i===-1||i===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:i,activationTrigger:1}},[4](e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},[5]:(e,t)=>{let n=Uh(e,r=>[...r,{id:t.id,dataRef:t.dataRef}]);return{...e,...n}},[6]:(e,t)=>{let n=Uh(e,r=>{let o=r.findIndex(i=>i.id===t.id);return o!==-1&&r.splice(o,1),r});return{...e,...n,activationTrigger:1}}},sv=_.createContext(null);sv.displayName="MenuContext";function _p(e){let t=_.useContext(sv);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,_p),n}return t}function jL(e,t){return Oe(t.type,zL,e,t)}let BL=_.Fragment,WL=Ke(function(e,t){let n=_.useReducer(jL,{menuState:1,buttonRef:_.createRef(),itemsRef:_.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:r,itemsRef:o,buttonRef:i},s]=n,l=rt(t);Jy([i,o],(f,p)=>{var h;s({type:1}),Yy(p,Zy.Loose)||(f.preventDefault(),(h=i.current)==null||h.focus())},r===0);let a=ne(()=>{s({type:1})}),u=_.useMemo(()=>({open:r===0,close:a}),[r,a]),c=e,d={ref:l};return w.createElement(sv.Provider,{value:n},w.createElement(ev,{value:Oe(r,{[0]:yn.Open,[1]:yn.Closed})},qe({ourProps:d,theirProps:c,slot:u,defaultTag:BL,name:"Menu"})))}),UL="button",HL=Ke(function(e,t){var n;let r=ln(),{id:o=`headlessui-menu-button-${r}`,...i}=e,[s,l]=_p("Menu.Button"),a=rt(s.buttonRef,t),u=ci(),c=ne(y=>{switch(y.key){case ve.Space:case ve.Enter:case ve.ArrowDown:y.preventDefault(),y.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:Ne.First}));break;case ve.ArrowUp:y.preventDefault(),y.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:Ne.Last}));break}}),d=ne(y=>{switch(y.key){case ve.Space:y.preventDefault();break}}),f=ne(y=>{if(qy(y.currentTarget))return y.preventDefault();e.disabled||(s.menuState===0?(l({type:1}),u.nextFrame(()=>{var x;return(x=s.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})})):(y.preventDefault(),l({type:0})))}),p=_.useMemo(()=>({open:s.menuState===0}),[s]),h={ref:a,id:o,type:Ek(e,s.buttonRef),"aria-haspopup":"menu","aria-controls":(n=s.itemsRef.current)==null?void 0:n.id,"aria-expanded":e.disabled?void 0:s.menuState===0,onKeyDown:c,onKeyUp:d,onClick:f};return qe({ourProps:h,theirProps:i,slot:p,defaultTag:UL,name:"Menu.Button"})}),VL="div",KL=qo.RenderStrategy|qo.Static,GL=Ke(function(e,t){var n,r;let o=ln(),{id:i=`headlessui-menu-items-${o}`,...s}=e,[l,a]=_p("Menu.Items"),u=rt(l.itemsRef,t),c=Vu(l.itemsRef),d=ci(),f=Uu(),p=(()=>f!==null?f===yn.Open:l.menuState===0)();_.useEffect(()=>{let v=l.itemsRef.current;!v||l.menuState===0&&v!==(c==null?void 0:c.activeElement)&&v.focus({preventScroll:!0})},[l.menuState,l.itemsRef,c]),Ck({container:l.itemsRef.current,enabled:l.menuState===0,accept(v){return v.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});let h=ne(v=>{var S,E;switch(d.dispose(),v.key){case ve.Space:if(l.searchQuery!=="")return v.preventDefault(),v.stopPropagation(),a({type:3,value:v.key});case ve.Enter:if(v.preventDefault(),v.stopPropagation(),a({type:1}),l.activeItemIndex!==null){let{dataRef:b}=l.items[l.activeItemIndex];(E=(S=b.current)==null?void 0:S.domRef.current)==null||E.click()}Sk(l.buttonRef.current);break;case ve.ArrowDown:return v.preventDefault(),v.stopPropagation(),a({type:2,focus:Ne.Next});case ve.ArrowUp:return v.preventDefault(),v.stopPropagation(),a({type:2,focus:Ne.Previous});case ve.Home:case ve.PageUp:return v.preventDefault(),v.stopPropagation(),a({type:2,focus:Ne.First});case ve.End:case ve.PageDown:return v.preventDefault(),v.stopPropagation(),a({type:2,focus:Ne.Last});case ve.Escape:v.preventDefault(),v.stopPropagation(),a({type:1}),rr().nextFrame(()=>{var b;return(b=l.buttonRef.current)==null?void 0:b.focus({preventScroll:!0})});break;case ve.Tab:v.preventDefault(),v.stopPropagation(),a({type:1}),rr().nextFrame(()=>{T4(l.buttonRef.current,v.shiftKey?Vr.Previous:Vr.Next)});break;default:v.key.length===1&&(a({type:3,value:v.key}),d.setTimeout(()=>a({type:4}),350));break}}),y=ne(v=>{switch(v.key){case ve.Space:v.preventDefault();break}}),x=_.useMemo(()=>({open:l.menuState===0}),[l]),g={"aria-activedescendant":l.activeItemIndex===null||(n=l.items[l.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=l.buttonRef.current)==null?void 0:r.id,id:i,onKeyDown:h,onKeyUp:y,role:"menu",tabIndex:0,ref:u};return qe({ourProps:g,theirProps:s,slot:x,defaultTag:VL,features:KL,visible:p,name:"Menu.Items"})}),ZL=_.Fragment,YL=Ke(function(e,t){let n=ln(),{id:r=`headlessui-menu-item-${n}`,disabled:o=!1,...i}=e,[s,l]=_p("Menu.Item"),a=s.activeItemIndex!==null?s.items[s.activeItemIndex].id===r:!1,u=_.useRef(null),c=rt(t,u);ze(()=>{if(s.menuState!==0||!a||s.activationTrigger===0)return;let E=rr();return E.requestAnimationFrame(()=>{var b,k;(k=(b=u.current)==null?void 0:b.scrollIntoView)==null||k.call(b,{block:"nearest"})}),E.dispose},[u,a,s.menuState,s.activationTrigger,s.activeItemIndex]);let d=_.useRef({disabled:o,domRef:u});ze(()=>{d.current.disabled=o},[d,o]),ze(()=>{var E,b;d.current.textValue=(b=(E=u.current)==null?void 0:E.textContent)==null?void 0:b.toLowerCase()},[d,u]),ze(()=>(l({type:5,id:r,dataRef:d}),()=>l({type:6,id:r})),[d,r]);let f=ne(()=>{l({type:1})}),p=ne(E=>{if(o)return E.preventDefault();l({type:1}),Sk(s.buttonRef.current)}),h=ne(()=>{if(o)return l({type:2,focus:Ne.Nothing});l({type:2,focus:Ne.Specific,id:r})}),y=Ik(),x=ne(E=>y.update(E)),g=ne(E=>{!y.wasMoved(E)||o||a||l({type:2,focus:Ne.Specific,id:r,trigger:0})}),v=ne(E=>{!y.wasMoved(E)||o||!a||l({type:2,focus:Ne.Nothing})}),S=_.useMemo(()=>({active:a,disabled:o,close:f}),[a,o,f]);return qe({ourProps:{id:r,ref:c,role:"menuitem",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,disabled:void 0,onClick:p,onFocus:h,onPointerEnter:x,onMouseEnter:x,onPointerMove:g,onMouseMove:g,onPointerLeave:v,onMouseLeave:v},theirProps:i,slot:S,defaultTag:ZL,name:"Menu.Item"})}),ll=Object.assign(WL,{Button:HL,Items:GL,Item:YL});function QL(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function Hh(e,...t){e&&t.length>0&&e.classList.add(...t)}function Vh(e,...t){e&&t.length>0&&e.classList.remove(...t)}function JL(e,t){let n=rr();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:o}=getComputedStyle(e),[i,s]=[r,o].map(l=>{let[a=0]=l.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,c)=>c-u);return a});if(i+s!==0){let l=n.addEventListener(e,"transitionend",a=>{a.target===a.currentTarget&&(t(),l())})}else t();return n.add(()=>t()),n.dispose}function qL(e,t,n,r){let o=n?"enter":"leave",i=rr(),s=r!==void 0?QL(r):()=>{};o==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let l=Oe(o,{enter:()=>t.enter,leave:()=>t.leave}),a=Oe(o,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=Oe(o,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Vh(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Hh(e,...l,...u),i.nextFrame(()=>{Vh(e,...u),Hh(e,...a),JL(e,()=>(Vh(e,...l),Hh(e,...t.entered),s()))}),i.dispose}function XL({container:e,direction:t,classes:n,onStart:r,onStop:o}){let i=wp(),s=ci(),l=Xn(t);ze(()=>{let a=rr();s.add(a.dispose);let u=e.current;if(u&&l.current!=="idle"&&i.current)return a.dispose(),r.current(l.current),a.add(qL(u,n.current,l.current==="enter",()=>{a.dispose(),o.current(l.current)})),a.dispose},[t])}function eA(...e){return e.filter(Boolean).join(" ")}function mi(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let Sp=_.createContext(null);Sp.displayName="TransitionContext";var tA=(e=>(e.Visible="visible",e.Hidden="hidden",e))(tA||{});function nA(){let e=_.useContext(Sp);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function rA(){let e=_.useContext(Ep);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Ep=_.createContext(null);Ep.displayName="NestingContext";function kp(e){return"children"in e?kp(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Fk(e,t){let n=Xn(e),r=_.useRef([]),o=wp(),i=ci(),s=ne((p,h=Zr.Hidden)=>{let y=r.current.findIndex(({el:x})=>x===p);y!==-1&&(Oe(h,{[Zr.Unmount](){r.current.splice(y,1)},[Zr.Hidden](){r.current[y].state="hidden"}}),i.microTask(()=>{var x;!kp(r)&&o.current&&((x=n.current)==null||x.call(n))}))}),l=ne(p=>{let h=r.current.find(({el:y})=>y===p);return h?h.state!=="visible"&&(h.state="visible"):r.current.push({el:p,state:"visible"}),()=>s(p,Zr.Unmount)}),a=_.useRef([]),u=_.useRef(Promise.resolve()),c=_.useRef({enter:[],leave:[],idle:[]}),d=ne((p,h,y)=>{a.current.splice(0),t&&(t.chains.current[h]=t.chains.current[h].filter(([x])=>x!==p)),t==null||t.chains.current[h].push([p,new Promise(x=>{a.current.push(x)})]),t==null||t.chains.current[h].push([p,new Promise(x=>{Promise.all(c.current[h].map(([g,v])=>v)).then(()=>x())})]),h==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>y(h)):y(h)}),f=ne((p,h,y)=>{Promise.all(c.current[h].splice(0).map(([x,g])=>g)).then(()=>{var x;(x=a.current.shift())==null||x()}).then(()=>y(h))});return _.useMemo(()=>({children:r,register:l,unregister:s,onStart:d,onStop:f,wait:u,chains:c}),[l,s,r,d,f,c,u])}function oA(){}let iA=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Zx(e){var t;let n={};for(let r of iA)n[r]=(t=e[r])!=null?t:oA;return n}function sA(e){let t=_.useRef(Zx(e));return _.useEffect(()=>{t.current=Zx(e)},[e]),t}let lA="div",zk=qo.RenderStrategy,jk=Ke(function(e,t){let{beforeEnter:n,afterEnter:r,beforeLeave:o,afterLeave:i,enter:s,enterFrom:l,enterTo:a,entered:u,leave:c,leaveFrom:d,leaveTo:f,...p}=e,h=_.useRef(null),y=rt(h,t),x=p.unmount?Zr.Unmount:Zr.Hidden,{show:g,appear:v,initial:S}=nA(),[E,b]=_.useState(g?"visible":"hidden"),k=rA(),{register:O,unregister:$}=k,R=_.useRef(null);_.useEffect(()=>O(h),[O,h]),_.useEffect(()=>{if(x===Zr.Hidden&&h.current){if(g&&E!=="visible"){b("visible");return}return Oe(E,{hidden:()=>$(h),visible:()=>O(h)})}},[E,h,O,$,g,x]);let T=Xn({enter:mi(s),enterFrom:mi(l),enterTo:mi(a),entered:mi(u),leave:mi(c),leaveFrom:mi(d),leaveTo:mi(f)}),D=sA({beforeEnter:n,afterEnter:r,beforeLeave:o,afterLeave:i}),F=Sl();_.useEffect(()=>{if(F&&E==="visible"&&h.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[h,E,F]);let H=S&&!v,ee=(()=>!F||H||R.current===g?"idle":g?"enter":"leave")(),K=ne(U=>Oe(U,{enter:()=>D.current.beforeEnter(),leave:()=>D.current.beforeLeave(),idle:()=>{}})),A=ne(U=>Oe(U,{enter:()=>D.current.afterEnter(),leave:()=>D.current.afterLeave(),idle:()=>{}})),z=Fk(()=>{b("hidden"),$(h)},k);XL({container:h,classes:T,direction:ee,onStart:Xn(U=>{z.onStart(h,U,K)}),onStop:Xn(U=>{z.onStop(h,U,A),U==="leave"&&!kp(z)&&(b("hidden"),$(h))})}),_.useEffect(()=>{!H||(x===Zr.Hidden?R.current=null:R.current=g)},[g,H,E]);let I=p,M={ref:y};return v&&g&&(typeof window>"u"||typeof document>"u")&&(I={...I,className:eA(p.className,...T.current.enter,...T.current.enterFrom)}),w.createElement(Ep.Provider,{value:z},w.createElement(ev,{value:Oe(E,{visible:yn.Open,hidden:yn.Closed})},qe({ourProps:M,theirProps:I,defaultTag:lA,features:zk,visible:E==="visible",name:"Transition.Child"})))}),Wg=Ke(function(e,t){let{show:n,appear:r=!1,unmount:o,...i}=e,s=_.useRef(null),l=rt(s,t);Sl();let a=Uu();if(n===void 0&&a!==null&&(n=Oe(a,{[yn.Open]:!0,[yn.Closed]:!1})),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,c]=_.useState(n?"visible":"hidden"),d=Fk(()=>{c("hidden")}),[f,p]=_.useState(!0),h=_.useRef([n]);ze(()=>{f!==!1&&h.current[h.current.length-1]!==n&&(h.current.push(n),p(!1))},[h,n]);let y=_.useMemo(()=>({show:n,appear:r,initial:f}),[n,r,f]);_.useEffect(()=>{if(n)c("visible");else if(!kp(d))c("hidden");else{let g=s.current;if(!g)return;let v=g.getBoundingClientRect();v.x===0&&v.y===0&&v.width===0&&v.height===0&&c("hidden")}},[n,d]);let x={unmount:o};return w.createElement(Ep.Provider,{value:d},w.createElement(Sp.Provider,{value:y},qe({ourProps:{...x,as:_.Fragment,children:w.createElement(jk,{ref:l,...x,...i})},theirProps:{},defaultTag:_.Fragment,features:zk,visible:u==="visible",name:"Transition"})))}),aA=Ke(function(e,t){let n=_.useContext(Sp)!==null,r=Uu()!==null;return w.createElement(w.Fragment,null,!n&&r?w.createElement(Wg,{ref:t,...e}):w.createElement(jk,{ref:t,...e}))}),od=Object.assign(Wg,{Child:aA,Root:Wg});function uA({children:e,className:t,show:n}){return m(od,{show:n,enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",className:t,children:e})}function Te({as:e,icon:t,label:n,selected:r,onClear:o,align:i,...s}){const l=r?Array.isArray(r)?r:[r]:null;return m(ll,{children:({open:a})=>N("div",{className:P("block text-sm",i==="right"&&"relative"),children:[m(ll.Button,{as:e,active:a,"data-focus-remain":"true",selected:Boolean(!Array.isArray(l)||l.length>0),icon:t,children:(l==null?void 0:l.map(u=>u.label).join(", "))||n}),N(Bk,{open:a,align:i,children:[r&&o&&m(Ug,{onClick:o,label:"Fjern"}),"children"in s?s.children:s.options.map(u=>m(Ug,{disabled:u.disabled,selected:s.multi?l==null?void 0:l.some(c=>c===u):void 0,onClick:c=>{(s.multi||u.disabled)&&c.preventDefault(),u.disabled||s.onSelect(u)},label:u.label},u.label))]})]})})}const Bk=({open:e,align:t,children:n,marginTop:r})=>m(uA,{show:e,className:P("absolute z-10",t==="right"&&"right-0"),children:m(ll.Items,{static:!0,className:P("bg-button rounded shadow flex flex-col outline-none overflow-hidden w-52 ring-1 ring-gray-600",r??"mt-1"),"data-focus-remain":"true",children:n})}),Ug=w.forwardRef(({label:e,disabled:t,selected:n,icon:r,...o},i)=>m(ll.Item,{children:({active:s})=>N("button",{...o,className:P("py-2 px-2 flex items-center gap-2 text-xs transition-colors",s&&"rounded bg-gray-700",t?"text-gray-400":"text-gray-200",o.className),children:[typeof n=="boolean"&&m("div",{className:P("w-3 h-3 flex-center rounded bg-black/10 dark:bg-white/10"),children:n?m(vl,{className:"w-2.5 h-2.5"}):null}),typeof n!="boolean"&&r&&m(r,{className:"w-3 h-3 shrink-0"}),m("span",{className:"truncate",children:e})]})}));function cA({label:e,item:t,type:n,id:r,onClick:o}){const{ref:i,dragHandleProps:s}=lo({id:r,type:n,item:t,mode:"move"}),l=w.useCallback(()=>{o&&o(t)},[o,t]);return m(Te.Item,{ref:i,...s,onClick:l,label:e,className:"cursor-grab"})}Te.Item=Ug;Te.DragItem=cA;Te.Items=Bk;function dA({children:e,buttons:t,header:n,toolbar:r,className:o,icon:i}){const{isFocused:s}=gk(),l=sr(),[{path:a}]=ir(),u=(a||"/")===(l||"/"),c=d4();return N("div",{className:P("overflow-y-auto overflow-x-hidden no-scrollbar","inset-0 absolute transition-[opacity,transform] duration-200 ease-out","bg-white dark:bg-gray-850 text-gray-700 dark:text-white",c.startsWith("exited")&&!c.endsWith("replace")||c.startsWith("unmounted")?"opacity-0 pointer-events-none":"opacity-100",(c.startsWith("exited")||c.startsWith("unmounted"))&&!c.endsWith("replace")?"translate-x-10":"translate-x-0",!u&&"pointer-events-none"),children:[n&&m("div",{className:P("mb-6 sticky -top-16 z-50 border-b border-gray-100 dark:border-gray-800","bg-white","bg-gradient-to-b dark:from-gray-800 dark:to-[#1b2533]"),children:m("div",{className:"w-full max-w-6xl pt-[4.5rem] pb-12 px-5",children:N("div",{className:P("flex justify-between",s?"opacity-100":"opacity-50"),children:[N("div",{className:"text-gray-800 dark:text-white text-3xl flex-center font-medium",children:[m("div",{className:"opacity-75 w-4 mt-0.5 mr-5",children:i&&m(i,{className:"w-5 h-5 -ml-0.5"})}),n]}),N("div",{className:"absolute w-full h-7 translate-y-[2.675rem] text-sm flex items-center",children:[m(fA,{}),m("div",{className:"relative h-7 flex items-center w-full ml-2.5",children:r})]}),m("div",{className:P("flex flex-center"),children:t})]})})}),!n&&r&&m("div",{className:P("px-5 py-0",s?"opacxity-100":"opacity-50"),children:r}),m("div",{className:P(o??"max-w-6xl"),children:e})]})}function fA(){const[e,t]=mn("toolbar-open",!0);return N("button",{className:P("relative","shrink-0 h-7 rounded text-sm transition-all px-2.5 font-medium",e?"mx-0 bg-yellow-400/25 text-yellow-200 w-[6.5rem]":"-mx-2.5 w-9 text-gray-500 hover:text-gray-200"),onClick:()=>t(n=>!n),children:[m(A3,{className:"shrink-0 w-4 h-4"}),m("div",{className:P("absolute top-1 ml-[1.625rem] pointer-events-none transition-opacity",e?"opacity-100":"opacity-0"),children:"Arranger"})]})}const pA=w.forwardRef(({children:e,secondary:t},n)=>{const[r,o]=mn("toolbar-open",!0);return m("div",{ref:n,className:P("absolute w-full flex transition-[transform,opacity] child:text-gray-500 duration-150 child:hover",(t?r:!r)?"opacity-100":"opacity-0 pointer-events-none",t?"[&_.active]:text-yellow-200 child:text-yellow-200/75 hover:child:text-yellow-200":"[&_.active]:text-gray-200 child:text-gray-500 hover:child:text-gray-200"),children:e})}),Wk=w.forwardRef(({icon:e,active:t,selected:n,...r},o)=>N("button",{ref:o,...r,className:P("h-7 flex-center gap-2 transition-colors rounded px-2.5 font-medium",t&&"active",r.className),children:[e&&m(e,{className:"w-4 h-4"}),m("span",{className:e?"hidden @lg:block":"",children:r.children}),typeof n=="boolean"&&(t?m(nk,{className:"w-3 h-3"}):m(ek,{className:"w-3 h-3"}))]}));function hA({item:e,label:t,type:n,id:r,icon:o}){const{ref:i,dragHandleProps:s,state:l}=lo({id:r,type:n,item:e,mode:"move"});return m(Wk,{ref:i,...s,icon:o,className:"cursor-grab",children:t})}const Ye=Object.assign(dA,{Toolbar:pA,ToolbarButton:Wk,ToolbarDragButton:hA});function Uk({labels:e,rows:t}){return N("table",{className:P("w-[calc(100%+1.25rem)] leading-none table-fixed -mx-2.5 -mb-2.5"),border:0,children:[e&&m("thead",{children:N("tr",{className:"font-medium text-gray-600 dark:text-gray-300",children:[m("td",{className:"w-9"}),e.map(n=>m("td",{className:"p-2.5 truncate",style:{width:`calc(100% / ${e.length})`},children:n},n))]})}),N("tbody",{children:[t.map(({id:n,columns:r,indent:o},i)=>m(mA,{id:n,columns:r,indent:o},n)),t.length===0?N("tr",{className:"border-t border-gray-100 dark:border-gray-800",children:[m("td",{className:"w-9 p-3 text-[0px]",children:m("div",{className:"w-3"})}),m("td",{className:"p-3 text-sm text-gray-400",children:"Ingen elementer"})]}):null]})]})}function mA({id:e,columns:t,indent:n}){const[{index:r},o]=ir(),s=`${sr()}/d${parseInt(e,16).toString(16)}`,{dragHandleProps:l}=lo({type:`link:${r}`,item:s,mode:"link"});return N("tr",{className:"border-t border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800 transition-[background-color]",...l,onClick:()=>{o(s,{navigate:!0})},children:[m("td",{className:"w-9 text-[0px] border-0 p-0",children:m(gA,{id:e})}),t.map((a,u)=>m("td",{className:P("p-2.5 truncate"),style:{width:a.width},children:u===0&&n?N("div",{className:"mr-3 flex items-center",children:[m("svg",{viewBox:"0 0 8 5",strokeWidth:.25,stroke:"currentColor",fill:"none",className:"h-5 w-8 shrink-0 opacity-25 mr-2",style:{marginLeft:`${(n-1)*2.5}rem`},children:m("path",{d:"M 1 1.5 L 1 3 L 7 3",strokeLinecap:"round",strokeLinejoin:"round"})}),m("span",{children:a.value})]}):a.value},u))]})}function gA({id:e}){return m("label",{className:"block p-2.5",onClick:t=>t.stopPropagation(),children:N("div",{className:"w-4 h-4 relative z-0 flex-center",children:[m("input",{name:e,type:"checkbox",className:"peer w-0 h-0 opacity-0"}),m("div",{className:"absolute inset-0 -z-10 bg-white dark:bg-gray-750 peer-checked:bg-gray-500 rounded transition-colors"}),m(vl,{className:"w-3 h-3 opacity-0 peer-checked:opacity-100 text-gray-200 transition-opacity"})]})})}const lv=({className:e})=>m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e??"w-6 h-6",children:m("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M 9 6.75 a 0.75 0.75 0 1 1 0 -1.5 a 0.75 0.75 0 0 1 0 1.5 z M 9 12.75 a 0.75 0.75 0 1 1 0 -1.5 a 0.75 0.75 0 0 1 0 1.5 z M 9 18.75 a 0.75 0.75 0 1 1 0 -1.5 a 0.75 0.75 0 0 1 0 1.5 z M 15 6.75 a 0.75 0.75 0 1 1 0 -1.5 a 0.75 0.75 0 0 1 0 1.5 z M 15 12.75 a 0.75 0.75 0 1 1 0 -1.5 a 0.75 0.75 0 0 1 0 1.5 z M 15 18.75 a 0.75 0.75 0 1 1 0 -1.5 a 0.75 0.75 0 0 1 0 1.5 z"})});function yA(){const e=w.useRef(null),t=[];return m(Ye,{icon:Qo,header:"Alle mapper",children:N("div",{className:"px-5",children:[m("div",{children:N("div",{className:"flex items-center ml-9 mb-1 justify-between",children:[m("h2",{className:" text-gray-400",children:"Data"}),m("button",{className:"px-3 rounded py-1.5 ring-button text-button",onClick:()=>{if(e.current){const r=new FormData(e.current);Array.from(r.keys()).length}},children:m(Jo,{className:"w-4 h-4"})})]})}),t&&m("form",{ref:e,onSubmit:r=>r.preventDefault(),children:m(Uk,{labels:["Navn"],rows:t.map(r=>({id:r._id,columns:[{value:r.label},{value:m(vA,{folder:r})}]}))})})]})})}function vA({folder:e}){const{ref:t,dragHandleProps:n}=lo({id:`new-folder-${e._id}`,type:"folders",item:e,mode:"move"});return m("div",{ref:t,...n,className:"cursor-grab",children:m(lv,{className:"w-4 h-4"})})}const av=w.createContext(null),Gu=()=>ct(av,"Folder");function xA({space:e,label:t,index:n,buttons:r,children:o}){const[i]=mn("toolbar-open",!0),{dragHandleProps:s,ref:l,state:a}=hl({id:e.id,index:n,item:e}),u=_l(a),{isFocused:c,handlers:d}=Vy({multiple:!0,id:e.id});return N("div",{ref:l,style:u,className:P("group/space mx-2.5 p-2.5 ring-1 rounded-md transition-shadow","ring-transparent"),...i?d:{},children:[N("div",{className:"flex items-center mb-3.5 h-7",children:[m("div",{className:P("cursor-grab transition-opacity w-4 mr-5",i?"opacity-75 hover:opacity-100":"opacity-0 pointer-events-none"),...s,children:m(lv,{className:"w-5 h-5 -ml-0.5 text-yellow-200"})}),m("h2",{className:"text-sm text-gray-600 dark:text-gray-400 flex-center font-medium",children:t}),m("div",{className:P("ml-auto flex gap-2","transition-opacity"),children:r})]}),o]})}const wA=w.forwardRef(({icon:e,active:t,selected:n,...r},o)=>N("button",{ref:o,...r,className:P("rounded-full ring-button p-0.5",n===!1?"text-gray-800 dark:text-white text-opacity-50 dark:text-opacity-50":"text-button",t&&"text-opacity-100 dark:text-opacity-100 ring-gray-600 dark:ring-gray-600",r.className),children:[e&&m(e,{className:"w-4 h-4"}),r.children]})),kr=Object.assign(xA,{Button:wA}),_A=e=>{const{mutate:t}=tr.documents.find.useQuery({folder:e,limit:50}),n=tr.documents.deleteMany.useMutation();return async r=>{const o=await n(r);gl(o)&&t()}};function uv({folderId:e,newDocuments:t}){const n=w.useRef(null),r=_A(e),o=Je("documents");return{form:n,handleDelete:()=>{if(n.current&&e){const s=new FormData(n.current),l=Array.from(s.keys()),a=t?l.filter(c=>t.includes(c)):[],u=t?l.filter(c=>!t.includes(c)):l;a.length&&o(Ee(c=>(c.target(e),a.forEach(d=>{c.toggle({name:"remove",value:d})}),c))),u.length&&r(u)}}}}function SA(){const e=Fu(),{form:t,handleDelete:n}=uv({folderId:e._id}),{documents:r}=En(e._id),o=(r??[]).map(i=>({id:i._id,columns:[{value:uo(i)}]}));return m(av.Provider,{value:e,children:m(Ye,{icon:Tr,header:"Alle skabeloner",children:N(kr,{index:0,label:"Sider",space:{id:"system-template",type:"documents"},buttons:m(kr.Button,{icon:Jo,onClick:n}),children:[!r&&m("div",{className:"ml-14",children:m(Ho,{size:"md"})}),m("form",{ref:t,onSubmit:i=>i.preventDefault(),className:P("transition-opacity duration-300",r?"opacity-100":"opacity-0"),children:m(Uk,{labels:["Navn"],rows:o})})]})})})}function EA({value:e,onChange:t,className:n}){const r=w.useRef(null),[o,i]=w.useState(!1),[s,l]=w.useState(e);w.useLayoutEffect(()=>{l(e),a()},[e]),w.useLayoutEffect(()=>a(),[o]);const a=()=>{if(r.current){r.current.style.width="0px";let p=r.current.value;p===""&&(r.current.value="Ingen label");const h=r.current.scrollWidth;p===""&&(r.current.value=""),r.current.style.width=`${h}px`}},u=p=>{const h=p.target.value;zi.flushSync(()=>{l(h)}),a()},c=w.useRef(!1),d=()=>{c.current?c.current=!1:s!==e&&t(s)},f=()=>{l(e),c.current=!0};return m("div",{className:"flex justify-start",children:N("div",{className:P("flex leading-none pl-2 -ml-2 rounded-full",o&&"ring-1 ring-yellow-200 dark:ring-yellow-400"),children:[m("input",{ref:r,value:o?s:e,onChange:u,type:"text",className:P("outline-none padding-0 margin-0 bg-transparent",n),placeholder:"Ingen label",onFocus:()=>{i(!0),c.current=!1},onBlur:()=>{i(!1),d()},onKeyDown:p=>{var h,y;p.key.toLowerCase()==="enter"&&((h=r.current)==null||h.blur()),p.key.toLowerCase()==="escape"&&(f(),(y=r.current)==null||y.blur())}}),o&&m("div",{className:"ml-2 shrink-0 h-full aspect-square flex-center rounded-full bg-gray-100 text-gray-600 dark:bg-gray-600 dark:text-gray-100 hover:bg-red-100 hover:text-red-600",onMouseDown:()=>{f()},children:m($r,{className:"w-4 h-4"})})]})})}function Yx({index:e,folder:t}){const[{path:n,index:r},o]=ir(),i=sr(),s=typeof t=="string"?os(t):t,{type:l}=yp(s),a=n.startsWith(`${i}/f${s._id}`),u=`${i}/f${parseInt(s._id,16).toString(16)}`;if(!s)return null;const c={data:a?ND:Qo,app:ju}[l],d=s.label,{dragHandleProps:f,ref:p,state:h}=hl({id:s._id,index:e,item:s}),y=_l(h),x={data:P("text-gray-700 dark:text-white bg-gray-50 dark:bg-gray-850",a?"border-gray-300 dark:border-gray-600":"border-gray-100 hover:border-gray-300 dark:border-gray-700 hover:dark:border-gray-600"),app:P("dark:text-white dark:text-yellow-300 bg-yellow-100 dark:bg-gray-850 dark:border-yellow-300/40",a?"border-yellow-300 dark:border-yellow-600":"border-yellow-100 hover:border-yellow-300 hover:dark:border-yellow-300")}[l],{dragHandleProps:g}=lo({type:`link:${r}`,item:u,mode:"link"}),[v]=mn("toolbar-open",!0);return N(vr,{...g,ref:p,to:o(u,{navigate:!1}),className:P("group flex items-center px-3 py-4 rounded-md text-lg transition-[border] border",x),style:y,children:[v&&m("div",{className:"w-5 h-5 shrink-0 opacity-75 hover:opacity-100 transition-opacity cursor-grab",...f,children:m(lv,{className:"w-5 h-5 text-yellow-200"})}),m("span",{className:"ml-3 truncate",children:d}),N("div",{className:"ml-auto transition-opacity w-8 h-8 flex-center rounded-md",children:[m(c,{className:"w-6 h-6 shrink-0 opacity-25 group-hover:opacity-50 transition-opacity"})," "]})]})}function cv({isOpen:e,close:t,title:n,description:r,children:o}){return m(od,{appear:!0,show:e,as:w.Fragment,children:N(Mc,{open:e,onClose:t,className:"relative z-50 text-gray-800 dark:text-white",children:[m(od.Child,{as:w.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m("div",{className:"fixed inset-0 bg-black bg-opacity-40"})}),m("div",{className:"fixed inset-0 overflow-y-auto",children:m("div",{className:"flex min-h-full items-center justify-center p-0 text-center",children:m(od.Child,{as:w.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:N(Mc.Panel,{className:"w-full max-w-md transform rounded-2xl bg-white dark:bg-gray-800 p-6 text-left align-middle shadow-xl transition-all",children:[N("div",{className:"flex justify-between items-center mb-5",children:[m(Mc.Title,{className:"text-lg font-medium leading-6",children:n}),m("button",{className:"h-8 w-8 flex-center opacity-50 hover:opacity-100 rounded font-medium text-sm transition-opacity",onClick:i=>{i.preventDefault(),t()},children:m($r,{className:"w-5 h-5"})})]}),m(Mc.Description,{className:"my-4",children:r}),o]})})})})]})})}function kA({value:e,setValue:t,options:n,children:r,className:o}){var f;const[i,s]=w.useState(""),[l,a]=w.useState(!1),u=n.map(p=>typeof p=="string"?{value:p,label:p}:p),c=i===""?u:u.filter(p=>p.label.toLowerCase().replace(/\s+/g,"").includes(i.toLowerCase().replace(/\s+/g,""))),d=w.useRef(null);return m("div",{className:P("w-full relative",l&&"z-50",o),children:N(Dc,{value:e,onChange:p=>{var h;t(p),(h=d.current)==null||h.blur()},children:[N("div",{className:P("h-8 w-full cursor-default overflow-hidden rounded-t","ring-button",!l&&"rounded-b"),children:[m("div",{className:P("absolute h-full w-full flex items-center px-3 pointer-events-none"),children:i?"":((f=u.find(p=>p.value===e))==null?void 0:f.label)??""}),m(Dc.Input,{ref:d,className:P("border-none h-full w-full flex px-3 outline-none bg-transparent",!l&&"cursor-default"),displayValue:p=>"",onChange:p=>s(p.target.value),onFocus:()=>a(!0),onBlur:()=>{a(!1),s("")},onClick:p=>{p.target.setSelectionRange(0,p.target.value.length)},autoComplete:"off"}),m("button",{className:"absolute inset-y-0 right-0 flex items-center px-3",tabIndex:-1,onClick:()=>{var p;l||(p=d.current)==null||p.focus()},children:m(Dy,{className:"w-4 h-4"})}),r]}),l&&m(Dc.Options,{static:!0,className:P("absolute z-20 -mt-[1px] max-h-60 w-full overflow-auto rounded-b-md shadow-lg text-sm","bg-gray-700"),children:m("div",{className:P("rounded-b-md"),children:c.length===0&&i!==""?m("div",{className:"relative cursor-default select-none py-2 px-4",children:"Intet resultat"}):c.map(p=>m(Dc.Option,{className:({selected:h,active:y})=>P("relative cursor-default select-none py-2 px-3",y&&"bg-gray-600",p.color),value:p.value,onMouseDown:h=>h.preventDefault(),children:({selected:h,active:y})=>m(re,{children:m("span",{className:`block truncate ${h?"font-base":"font-light"}`,children:p.label})})},p.value))})})]})})}function lf({type:e,label:t,icon:n,defaultChecked:r,onSubmit:o,input:i={}}){const{label:s="Navn",button:l="Opret",options:a,defaultValue:u}=i,[c,d]=w.useState(u??null),f=w.useRef(null);return w.useEffect(()=>{r&&f.current&&f.current.focus()},[r]),N("label",{className:"relative flex flex-col p-5 w-full select-none",children:[m("input",{type:"radio",name:"group",defaultChecked:r,className:"peer w-0 h-0 opacity-0",onFocus:()=>requestAnimationFrame(()=>{var p;return(p=f.current)==null?void 0:p.focus()})}),m("div",{className:"absolute ring-1 ring-gray-700 peer-checked:bg-gray-750 inset-0 -z-10 rounded"}),N("div",{className:"flex items-center font-medium",children:[m(n,{className:"w-5 h-5 mr-3"}),t]}),N("form",{className:"hidden peer-checked:block",onSubmit:p=>{p.preventDefault(),o(e,new FormData(p.target))},children:[m("button",{type:"submit",className:"absolute top-5 right-5 h-8 px-3 flex-center bg-white/10 hover:bg-white/20 rounded font-medium text-sm transition-colors",children:l}),N("div",{className:"ml-8 mt-4 mb-1",children:[m("div",{className:"text-sm font-medium mb-1",children:s}),a?N(re,{children:[m(kA,{value:c,setValue:d,options:a}),m("input",{type:"hidden",name:"value",value:c??""})]}):m("input",{ref:f,type:"text",name:"value",className:"ring-button bg-transparent rounded h-8 flex items-center px-2.5 outline-none w-full",autoComplete:"off"})]})]})]})}const Hk=(e,t)=>{const n=new Map,r=s=>{const l=n.get(s);if(l)return l;const a=t.generateNestedDocumentId();return n.set(s,a),a},o=s=>pe(s)!==t.oldDocumentId?s:t.generateTemplateFieldId(s);let i=Object.fromEntries(ef(e).map(([s,l])=>{let a=s;t.generateTemplateFieldId&&pe(s)===t.oldDocumentId&&(a=o(s));const u=d=>({...d,children:d.children.map(f=>{if(ns(f)){const p={...f};return p.type==="loop"&&(p.data=xt(r(f.data))),u(p)}else if(G.isNestedEntity(f)&&Ci(f.id)){const p=r(xt(f.id)),h={...f};return h.id=p,t.generateTemplateFieldId&&"field"in h&&pe(h.field)===t.oldDocumentId?h.field=o(h.field):"field"in h&&h.field.endsWith(pn("data"))&&(h.field=Xd(h.field,r(xt(pe(h.field))))),h}return f})}),c=u(l);return[a,c]}));return i=Object.fromEntries(ef(i).map(([s,l])=>{const a=pe(s),u=xt(a);let c=s;return n.has(u)&&(c=Xd(s,n.get(u))),[c,l]})),i},Vk=async(e,t,n)=>{const r=await dp(t,n.client);return r?Hk(r.record,{oldDocumentId:r._id,newDocumentId:e,generateNestedDocumentId:()=>n.generateDocumentId(e),generateTemplateFieldId:o=>_e(e,o)}):{}},Kk=async(e,t)=>{const n=new Set,r=async o=>await Promise.all(o.map(async i=>{if(Array.isArray(i))return i;if("id"in i)return[i];if("template"in i&&!n.has(i.template)){n.add(i.template);const s=await dp(i.template,t);return s?await r(s.config):[]}return[]})).then(i=>i.flat(1));return await r(e)},Gk=(e,t)=>{Object.entries(t.record).forEach(n=>{const[r,o]=n;if(pe(r)!==t.id)return;const[i,s]=Yi(o),l=i.map(c=>({name:c.type,value:c.data??!0})),u=qn(s).length?{index:0,insert:qn(s)}:void 0;(l.length>0||u)&&e.getQueue($t(r)).push(Ee(c=>c.target(r).toggle(...l).splice(u)))})},Zu=(e={})=>{const t=jn(),n=fP(),[,r]=ir(),o=sr(),i=zn(),s=sn(),l=Je("documents");return w.useCallback(async u=>{const c=e.type==="template"?n():t();l(Ee(p=>p.target(u.folder).toggle({name:"add",value:c})));const d=u.template?await Vk(c,u.template,{client:i,generateDocumentId:t}):{};if(u.createRecord){const p=u.createRecord(c);Object.entries(p).forEach(([h,y])=>{d[h]=y})}d[_e(c,ie.creation_date.id)]={...je,children:[new Date]};const f=s.initializeTimeline(c,{versions:{config:[0]},transform:cp({config:[],record:{}})});return Gk(f,{id:c,record:d}),e.navigate&&r(`${o}/${e.type==="template"?"t":"d"}${parseInt(c,16).toString(16)}`,{navigate:!0}),c},[l,e.navigate,o,r,i,t,s])};function CA({isOpen:e,close:t,folderId:n,spaceId:r}){const o=dP(),i=jn(),s=Zu(),l=Je("folders"),a=w.useCallback(async(u,c)=>{const d=c.get("value")??"";if(!d)return;const f=o();l(Ee(p=>p.target(`${n}:${r}`).splice({index:0,insert:[f]}).target(f).toggle({name:"label",value:d}))),u==="app"&&s({folder:f,createRecord:p=>({[_e(p,ie.label.id)]:{...je,children:["Forside"]},[_e(p,ie.url.id)]:Lu({...je,children:ie.url.initialValue.children},ie.url.initialValue.transforms)})}),t()},[l,n,r,i,o,s,t]);return m(cv,{isOpen:e,close:t,title:"Tilføj mappe",children:N("div",{className:"flex flex-col gap-2",children:[m(lf,{icon:Qo,type:"data",label:"Mappe",defaultChecked:!0,onSubmit:a}),m(lf,{icon:ju,type:"app",label:"App",onSubmit:a})]})})}function bA({space:e,folderId:t,hidden:n,index:r}){const[o,i]=w.useState(null),s=Je("folders"),l=()=>{s(Ee(a=>a.target(t).splice({index:r,remove:1})))};return N(re,{children:[m(CA,{isOpen:o==="add-folder",close:()=>i(null),folderId:t,spaceId:e.id}),m(kr,{space:e,index:r,label:N(re,{children:["Mapper",m(TA,{onClick:()=>i("add-folder")})]}),buttons:m(re,{children:m(Te,{as:kr.Button,icon:pp,align:"right",children:m(Te.Item,{label:"Slet space",icon:Jo,onClick:l})})}),children:m(NA,{space:e,folderId:t,hidden:n})})]})}function NA({space:e,folderId:t,hidden:n}){const r=Je("folders"),o=w.useCallback(i=>{const s=i.map(l=>l.type==="add"?{index:l.index,insert:[l.item._id]}:{index:l.index,remove:1});r(Ee(l=>l.target(`${t}:${e.id}`).splice(...s)))},[r,t,e.id]);return m(Nu,{type:"folders",id:`${t}/${e.id}`,canReceive:{link:()=>"ignore",move:({type:i})=>i==="folders"?"accept":"ignore"},disabled:n,onChange:o,children:N("div",{className:P("grid grid-cols-1 @lg:grid-cols-2 @2xl:grid-cols-3 @4xl:grid-cols-4 gap-2 pl-9 min-h-[1.5rem]"),children:[e.items.length===0&&m("div",{className:"absolute text-gray-400 text-sm",children:"Ingen mapper"}),e.items.map((i,s)=>m(Yx,{folder:i,index:s},i)),m(ep,{children:i=>m(Yx,{index:e.items.length,folder:i})})]})})}function TA({onClick:e}){return N("button",{className:P("rounded-full px-2 py-0.5 text-xs ring-button text-gray-600 dark:text-gray-400 ml-3 flex-center gap-1"),onClick:e,children:[m(ui,{className:"w-3 h-3"})," Tilføj"]})}function $A({isOpen:e,close:t,folderId:n,currentTemplate:r}){var c;const o=Zu({type:"template",navigate:!0}),i=Je("folders"),s=(c=Fu())==null?void 0:c._id,l=w.useCallback(async(d,f)=>{const p=f.get("value")??"";if(!p)return;let h;d==="new"?h=await o({folder:s,createRecord:y=>({[_e(y,ie.creation_date.id)]:{...je,children:[new Date]},[_e(y,ie.template_label.id)]:{...je,children:[p]}})}):h=p,i(Ee(y=>y.target(n).toggle({name:"template",value:h}))),t()},[i,n,o,s,t]),{documents:a}=En(s),u=(a??[]).map(d=>({value:d._id,label:uo(d)??d._id}));return m(cv,{isOpen:e,close:t,title:"Angiv skabelon",children:N("div",{className:"flex flex-col gap-2",children:[m(lf,{type:"existing",icon:Tr,label:"Vælg eksisterende",input:{options:u,label:"Skabeloner",button:"Accepter",defaultValue:r},onSubmit:l}),m(lf,{type:"new",icon:ui,label:"Tilføj ny",onSubmit:l,defaultChecked:!0})]})})}const Cp=kl("add-import"),OA=kl("add-document-import"),Zk=kl("add-nested-folder"),IA=kl("add-layout-element"),RA=kl("add-nested-document"),Yk=kl("add-context");function kl(e,t){const n=`__CUSTOM__${e}`;return{dispatch:(...r)=>{(t??document).dispatchEvent(new CustomEvent(n,{detail:r[0]}))},subscribe:r=>{const o=i=>r(i.detail);return(t??document).addEventListener(n,o),()=>{(t??document).removeEventListener(n,o)}}}}const Xo=e=>{const{doc:t}=rs(e??void 0),[n,r]=w.useState(),o=zn();return w.useLayoutEffect(()=>{t?(async()=>{const i=await Kk(t.config,o);r(i)})():r(void 0)},[t]),n};function Qk(e){const[t,n]=w.useState([]),r=sn();return w.useEffect(()=>{const o=r.getTimeline("documents").getQueue();return o.register(()=>{const i=new Set;o.forEach(({transaction:l})=>{l.forEach(a=>{a[0]===e&&a[1].forEach(u=>{u[0]==="add"?i.add(u[1]):u[0]==="remove"&&i.delete(u[1])})})});const s=Array.from(i).reverse();n(l=>s.length!==l.length||!s.every((a,u)=>l[u]===a)?s:l)})},[r]),t}const Qx=(e,t)=>typeof e=="boolean"?e?"SAND":"FALSK":typeof e=="number"?e.toFixed(2).replace(".",",").replace(",00",""):Array.isArray(e)?t?"[Liste]":"":e===null?"":typeof e=="object"?t?G.isFileToken(e)?"[Fil]":G.isNestedElement(e)?`${e.element.split(":").slice(-1)[0]}`:G.isNestedDocument(e)?"[Dokument]":"[Objekt]":"":`${e}`,Cl=e=>!Array.isArray(e)||e.length===0?"":e.length===1?Qx(e[0],!0):`${e.map(t=>Qx(t,!0)).join(", ")}`;function Jk({columns:e,documents:t,button:n}){return N("table",{className:P("w-[calc(100%+1.25rem)] leading-none table-fixed -mx-2.5 -mb-2.5"),border:0,children:[e&&m("thead",{children:N("tr",{className:"font-medium text-gray-600 dark:text-gray-300",children:[m("td",{className:"w-9"}),e.map(({label:r})=>m("td",{className:"p-2.5 truncate",style:{width:`calc(100% / ${e.length})`},children:r},r)),n&&m("td",{className:"w-40"})]})}),N("tbody",{children:[t.map((r,o)=>m(PA,{columns:e,doc:r,indent:r.indent,button:n},r._id)),t.length===0?N("tr",{className:"border-t border-gray-100 dark:border-gray-800",children:[m("td",{className:"w-9 p-3 text-[0px]",children:m("div",{className:"w-3"})}),m("td",{className:"p-3 text-sm text-gray-400",children:"Ingen elementer"})]}):null]})]})}function PA({columns:e,doc:t,indent:n,button:r}){const[{index:o},i]=ir(),l=`${sr()}/d${parseInt(t._id,16).toString(16)}`,{dragHandleProps:a}=lo({type:`link:${o}`,item:l,mode:"link"});return N("tr",{className:"border-t border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800 transition-[background-color]",...a,onClick:()=>{i(l,{navigate:!0})},children:[m("td",{className:"w-9 text-[0px] border-0 p-0",children:m(MA,{id:t._id})}),e.map(({id:u},c)=>{const d=u===ie.label.id?m(DA,{doc:t}):Cl(ao(_e(t._id,u),t.record));return m("td",{className:P("p-2.5 truncate"),children:c===0&&n?N("div",{className:"mr-3 flex items-center",children:[m("svg",{viewBox:"0 0 8 5",strokeWidth:.25,stroke:"currentColor",fill:"none",className:"h-5 w-8 shrink-0 opacity-25 mr-2",style:{marginLeft:`${(n-1)*2.5}rem`},children:m("path",{d:"M 1 1.5 L 1 3 L 7 3",strokeLinecap:"round",strokeLinejoin:"round"})}),d]}):d},c)}),r&&m("td",{className:P("p-2.5"),children:N("button",{className:"ml-auto rounded px-2 py-0.5 text-sm text-gray-800 dark:text-white text-opacity-50 hover:text-opacity-100 dark:text-opacity-50 dark:hover:text-opacity-100 ring-button flex items-center gap-2 whitespace-nowrap",onClick:u=>{u.stopPropagation(),r.onClick(t)},children:[m(r.icon,{className:"w-3 h-3"})," ",r.label]})})]})}function DA({doc:e}){const{label:t,isModified:n}=gp(e);return N("div",{className:"flex items-center",children:[m("span",{className:"truncate",children:t}),n&&m("div",{className:P("w-2 h-2 rounded ml-2",e.folder?"bg-teal-400":"bg-yellow-400")})]})}function MA({id:e}){return m("label",{className:"block p-2.5",onClick:t=>t.stopPropagation(),children:N("div",{className:"w-4 h-4 relative z-0 flex-center",children:[m("input",{name:e,type:"checkbox",className:"peer w-0 h-0 opacity-0"}),m("div",{className:"absolute inset-0 -z-10 bg-white dark:bg-gray-750 peer-checked:bg-gray-500 rounded transition-colors"}),m(vl,{className:"w-3 h-3 opacity-0 peer-checked:opacity-100 text-gray-200 transition-opacity"})]})})}function LA({space:e,folderId:t,hidden:n,index:r}){const o=Qk(t),{form:i,handleDelete:s}=uv({folderId:t,newDocuments:o}),{documents:l}=En(t),a=os(t),u=Xo(a.template)??[],c=w.useMemo(()=>[u.find(h=>iu(h.id,"label"))??{id:ie.label.id,label:ie.label.label},...u.filter(h=>!iu(h.id,"label")).slice(0,4)],[u]),d=w.useMemo(()=>{const h=[];return o.forEach(y=>h.push({_id:y,record:{},config:[],versions:{config:[0]}})),(l??[]).forEach(y=>h.push(y)),h},[o,l,u]),f=Je("folders"),p=()=>{f(Ee(h=>h.target(t).splice({index:r,remove:1})))};return m(re,{children:N(kr,{space:e,index:r,label:N(re,{children:["Dokumenter",m(zA,{folder:t})]}),buttons:N(re,{children:[m(kr.Button,{icon:Jo,onClick:s}),N(Te,{as:kr.Button,icon:pp,align:"right",children:[m(AA,{}),m(FA,{}),m(Te.Item,{label:"Slet space",icon:Jo,onClick:p})]})]}),children:[!l&&m("div",{className:"ml-9",children:m(Ho,{size:"md"})}),m("form",{ref:i,onSubmit:h=>h.preventDefault(),className:P("transition-opacity duration-300",l?"opacity-100":"opacity-0"),children:m(Jk,{columns:c,documents:d})})]})})}function AA(){const e=()=>{};return m(Te.Item,{label:"Importer dokumenter",icon:XE,onClick:e})}function FA(){const e=Gu(),{documents:t}=En(e==null?void 0:e._id),n=zn(),r=async()=>{if(!t||!(e!=null&&e.template))return;const o=await dp(e.template,n);if(!o)return;const i=await Kk(o.config,n),s=i.map(d=>d.id),l=i.map(d=>d.label),a=t.map(d=>s.map(f=>{var p;return JSON.stringify(((p=ao(f,d.record))==null?void 0:p[0])??"")}));let u="data:text/csv;charset=utf-8,"+l.join(",")+`
`+a.map(d=>d.join(",")).join(`
`);const c=document.createElement("a");c.setAttribute("href",encodeURI(u)),c.style.display="none",c.setAttribute("download",`${e.label}.csv`),document.body.appendChild(c),c.click(),document.body.removeChild(c)};return m(Te.Item,{label:"Eksporter dokumenter",icon:m3,onClick:r})}function zA({folder:e}){var r;const t=(r=Gu())==null?void 0:r.template,n=Zu({navigate:!0});return N("button",{className:P("rounded-full px-2 py-0.5 text-xs ring-button text-gray-600 dark:text-gray-400 ml-3 flex-center gap-1"),onClick:()=>n({folder:e,template:t}),children:[m(ui,{className:"w-3 h-3"})," Tilføj"]})}const id=(e,t)=>{const n=[],r=t[e];if(!r)return[];const o=i=>{i.children.forEach(s=>{if(ns(s))if(s.type==="select"){const l=s.children[0];id(l.field,t).forEach(u=>{const c=Ln(u,s.data);n.push(...id(c,t))})}else o(s);else G.isNestedField(s)?n.push(...id(s.field,t)):G.isNestedDocument(s)&&!Ci(s.id)&&n.push(s.id)})};return o(r),n},jA=(e,t)=>{const n=[],r=o=>{o.children.forEach(i=>{if(ns(i))if(i.type==="select"){const s=i.children[0];n.push(s.field),id(s.field,t).forEach(a=>{n.push(Ln(a,i.data))})}else r(i);else G.isNestedField(i)&&n.push(i.field)})};return r(e),n},dv=e=>{const t=new Set,n=r=>{r.children.forEach(o=>{ns(o)?n(o):G.isNestedEntity(o)&&Ci(o.id)&&t.add(o)})};return n(e),Array.from(t)},BA=(e,t={})=>{let n=t.imports??new Map,r=t.children??new Map;const o=ef(e);return o.map(([i,s])=>{const l=jA(s,e),a=dv(s),u=[];a.forEach(c=>{o.forEach(([d])=>{lP(d,c.id)&&u.push(d)})}),r.set(i,u),n.set(i,l)}),{imports:n,children:r}},WA=(e,t,n)=>{const{imports:r,children:o}=n,i={},s=l=>{var a,u;l in i||(i[l]=e[l]??je,(a=r.get(l))==null||a.forEach(s),(u=o.get(l))==null||u.forEach(s))};return s(t),i},Hg=e=>e.toLowerCase().replace(/æ/g,"ae").replace(/ø/g,"oe").replace(/å/g,"aa").replace(/\s/g,"-").replace(/[^\w\/\*\-]/g,"");function qk(){const[e,t]=w.useState();return[e,o=>{var s;const i=_e(o._id,ie.url.id);t({id:i,url:((s=ao(i,o.record))==null?void 0:s[0])??"",record:WA(o.record,i,BA(o.record))})},()=>t(void 0)]}function Xk({isOpen:e,close:t,folder:n,parentUrl:r,type:o}){const i=Zu({navigate:!0}),s=jn(),[l,a]=w.useState(""),[u,c]=w.useState("");return m(cv,{isOpen:e,close:t,title:`Tilføj ${o==="app"?"side":"artikel"}`,children:N("form",{onSubmit:async d=>{try{d.preventDefault(),i({folder:n,createRecord:f=>({[_e(f,ie.creation_date.id)]:{...je,children:[new Date]},...r?{...r.record,[_e(f,ie.url.id)]:Lu({...je,children:[{id:s(f),field:r.id,inline:!0},"/",u]},ie.url.initialValue.transforms),[_e(f,ie.label.id)]:{...je,children:[l]}}:{}})}),t()}catch(f){console.log(f)}},children:[m("div",{className:"text-sm font-medium mb-1",children:"Navn"}),m(UA,{children:m("input",{type:"text",name:"label",value:l,onChange:d=>{const f=d.target.value;a(f),Hg(l)===u&&c(Hg(f))},className:"bg-white/5 rounded py-2 px-2.5 outline-none w-full",autoComplete:"off"})}),m("div",{className:"text-sm font-medium mt-2 mb-1",children:"URL"}),m("input",{type:"text",name:"slug",value:u,onChange:d=>c(d.target.value),className:"bg-white/5 rounded py-2 px-2.5 outline-none w-full",autoComplete:"off"}),N("div",{className:"flex flex-row-reverse mt-5 gap-2",children:[m("button",{type:"submit",className:"h-8 px-3 flex-center bg-white/10 hover:bg-white/20 rounded font-medium text-sm transition-colors",children:"Opret"}),m("button",{className:"h-8 px-3 flex-center bg-black/10 hover:bg-black/20 rounded font-medium text-sm transition-colors",onClick:d=>{d.preventDefault(),t()},children:"Annuller"})]})]})})}function UA({children:e}){const t=w.useRef(null);return w.useEffect(()=>{t.current&&t.current.focus()},[]),w.cloneElement(e,{ref:t})}const HA=[{id:ie.label.id,label:"Titel"}];function VA({space:e,folderId:t,hidden:n,index:r}){const o=Qk(t),{form:i,handleDelete:s}=uv({folderId:t,newDocuments:o}),{documents:l}=En(t),a=w.useMemo(()=>{if(!l)return[];const y=v=>v==="/"?0:v.split("/").length-1,x=l.map(v=>{var b;const S=_e(v._id,ie.url.id),E=((b=ao(S,v.record))==null?void 0:b[0])??"";return{...v,url:E,indent:y(E)}}).sort((v,S)=>v.indent-S.indent||(v._id>S._id?-1:1)),g=[];return o.forEach(v=>g.push({_id:v,record:{},config:[],versions:{config:[0]},indent:0,url:""})),x.forEach(v=>{const S=g.findIndex(E=>E.url===v.url.split("/").slice(0,-1).join("/"));S>=0?g.splice(S+1,0,v):g.push(v)}),g},[l,o]),[u,c,d]=qk(),f=Je("folders"),p=()=>{f(Ee(y=>y.target(t).splice({index:r,remove:1})))},h=w.useMemo(()=>({label:"Tilføj underside",icon:ui,onClick(y){c(y)}}),[]);return N(kr,{space:e,index:r,label:N(re,{children:["Sider",a.length===0?m(KA,{folder:t}):null]}),buttons:N(re,{children:[m(kr.Button,{icon:Jo,onClick:s}),m(Te,{as:kr.Button,icon:pp,align:"right",children:m(Te.Item,{label:"Slet space",icon:Jo,onClick:p})})]}),children:[t&&m(Xk,{isOpen:Boolean(u),close:d,folder:t,parentUrl:u,type:"app"}),!l&&m("div",{className:"ml-9",children:m(Ho,{size:"md"})}),m("form",{ref:i,onSubmit:y=>y.preventDefault(),className:P("transition-opacity duration-300",l?"opacity-100":"opacity-0"),children:m(Jk,{columns:HA,documents:a,button:h})})]})}function KA({folder:e}){const t=Zu({navigate:!0});return N("button",{className:P("rounded-full px-2 py-0.5 text-xs ring-button text-gray-600 dark:text-gray-400 ml-3 flex-center gap-1"),onClick:()=>t({folder:e,createRecord:n=>({[_e(n,ie.creation_date.id)]:{...je,children:[new Date]},[_e(n,ie.url.id)]:Lu({...je,children:["","/",""]},ie.url.initialValue.transforms),[_e(n,ie.label.id)]:{...je,children:["Forside"]}})}),children:[m(ui,{className:"w-3 h-3"})," Tilføj forside"]})}const Kh=[{label:"Mapper",item:{type:"folders",items:[]}},{label:"Dokumenter",item:{type:"documents"}},{label:"Hjemmeside",item:{type:"pages"}},{label:"Statistik",item:{type:"folders",items:[]}}];function GA({children:e}){var y;const t=sr(),n=mp(t),r=os(n.id),{type:o}=yp(r),[{path:i}]=ir(),s=(i||"/")===(t||"/"),l=Je("folders"),a=(x,g)=>l(Ee(v=>v.target(r._id).toggle({name:x,value:g}))),[u,c]=w.useState(!1),d=w.useContext(Ud),f=w.useCallback(x=>{s&&l(Ee(g=>{g.target(r._id);for(let v of x){const{type:S,index:E}=v;S==="add"&&g.splice({index:E,insert:[{id:su(),...v.item}]}),S==="delete"&&g.splice({index:E,remove:1})}return g}))},[r,l]),p=w.useCallback(x=>{l(Ee(g=>g.target(r._id).splice({index:0,insert:[{...x,id:su()}]})))},[r,l]),h=(x,g)=>{const v={key:x.id,index:g,folderId:r._id,hidden:!s};return x.type==="folders"?m(bA,{space:x,...v}):x.type==="documents"?m(LA,{space:x,...v}):x.type==="pages"?m(VA,{space:x,...v}):null};return m(av.Provider,{value:r,children:N(KI,{domains:r==null?void 0:r.domains,children:[m(hk,{children:m(Ye,{icon:o==="app"?ju:Qo,header:m(ZA,{isApp:o==="app",folder:r,onChange:x=>{a("label",x)}}),toolbar:N(re,{children:[N(Ye.Toolbar,{children:[o==="data"&&m(YA,{template:r==null?void 0:r.template,openDialog:()=>c(!0)}),r&&m(re,{children:m(QA,{parentDomains:d??void 0,domains:r.domains,mutate:x=>a("domains",x)})})]}),N(Ye.Toolbar,{secondary:!0,children:[m(Ye.ToolbarDragButton,{id:"nyt-space-mapper",type:"spaces",icon:Lh,label:"Mapper",item:Kh[0].item}),m(Ye.ToolbarDragButton,{id:"nyt-space-dokumenter",type:"spaces",icon:Lh,label:"Dokumenter",item:Kh[1].item}),m(Te,{as:Ye.ToolbarButton,label:"Andre spaces",icon:Lh,children:Kh.slice(2).map(x=>m(Te.DragItem,{type:"spaces",id:`nyt-space-${x.label}`,onClick:p,...x},x.label))})]})]}),buttons:o==="app"&&r?m("div",{className:P("flex-center","transition-opacity","opacity-100"),children:m(JA,{namespace:r._id,domain:(y=r==null?void 0:r.domains)==null?void 0:y[0]})}):void 0,children:r&&N(re,{children:[m($A,{isOpen:u,close:()=>c(!1),folderId:r._id,currentTemplate:r.template}),m(Nu,{type:"spaces",id:`${r._id}-spaces`,onChange:f,canReceive:{link:()=>"ignore",move:({type:x,item:g})=>x==="spaces"?"accept":"ignore"},disabled:!s,children:N("div",{className:"flex flex-col gap-8",children:[(r.spaces??[]).map(h),m(ep,{children:x=>h(x,(r.spaces??[]).length)})]})})]})})}),e]})})}function ZA({folder:e,onChange:t,isApp:n}){const[r]=rp();return r?m("div",{className:"py-0.5 cursor-alias",onMouseDown:o=>{r&&(o.preventDefault(),Zk.dispatch({folderId:e._id,templateId:e.template}))},children:e.label??""}):m(EA,{value:e.label??"",onChange:t,className:P(n?"text-yellow-400 dark:text-yellow-300":"font-medium")})}function YA({template:e,openDialog:t}){const n=sr(),[{path:r},o]=ir(),{doc:i}=rs(e),{label:s}=gp(i);return e?N(Te,{as:Ye.ToolbarButton,label:s,icon:Tr,children:[m(Te.Item,{icon:uM,label:`Rediger skabelon "${s}"`,onClick:()=>{if(e){o(`${n}/t${parseInt(e,16).toString(16)}`,{navigate:!0});return}}}),m(Te.Item,{icon:Py,label:"Skift skabelon",onClick:()=>{t()}})]}):m(Ye.ToolbarButton,{"data-focus-remain":"true",onClick:()=>{t()},icon:Tr,children:"Tilføj skabelon"})}function QA({parentDomains:e=[],domains:t=[],mutate:n}){const{organization:r}=or(),o=l=>(l=l.replace("https://",""),l=l.replace("www.",""),l=l.replace("/api/config",""),l),i=w.useMemo(()=>{const l=t.filter(a=>!r.apps.some(u=>u.name===a)).map(a=>({id:a,label:"Ukendt",disabled:!1}));return l.push(...r.apps.map(a=>({id:a.name,label:o(a.baseURL),disabled:e.includes(a.name)}))),l},[t,e,r==null?void 0:r.apps]),s=i.filter(l=>e.includes(l.id)||t.includes(l.id));return r!=null&&r.apps.length?(console.log("SELECTED",s),m(Te,{as:Ye.ToolbarButton,icon:MD,label:"Hjemmesider",onSelect:l=>{const a=t.includes(l.id)?t.filter(u=>u!==l.id):[...t,l.id];n(a)},selected:s,options:i,multi:!0})):null}function JA({namespace:e,domain:t}){const n=Qe(t),[r,o]=w.useState(!1),{data:i,mutate:s}=tr.documents.getUpdatedUrls.useQuery({namespace:e}),l=zn(),a=hE(),u=(i==null?void 0:i.length)??0;return n?N(re,{children:[u>0&&N("span",{title:(i??[]).join(", "),className:"text-xs opacity-50 ml-5 cursor-default hover:underline",children:[u," ",u===1?"side":"sider"," ændret"]}),m("div",{className:"relative ml-5",children:N("button",{className:"relative z-0 bg-button-yellow ring-button-yellow text-button rounded px-3 py-1 flex-center gap-2 text-sm overflow-hidden",onClick:async()=>{if(n.baseURL&&(i!=null&&i.length)){o(!0);const c=await a.app.revalidate.mutation(i);gl(c)&&(await l.documents.registerRevalidation.mutation(),s()),o(!1)}},children:[r&&m("div",{className:"absolute inset-0 -z-10 flex-center",children:m("div",{className:"w-8 h-8 bg-teal-300 rounded-full animate-ping-lg"})}),m(w3,{className:"w-3 h-3"}),"Opdater"]})})]}):null}const qA=e=>e.reduce((t,n)=>{const r=Pt(n).queue;return t[r]||(t[r]=[]),t[r].push(n),t},{}),XA=(e,t)=>{const{doc:n}=rs(e),r=ip(e)?Yo:t,o=Je("documents"),i=tr.documents.update.useMutation({cacheUpdate:({id:s},l)=>{l(["documents/find",{folder:r,limit:50}],(a,u)=>{if(!u)return a;const c=a.findIndex(f=>f._id===s),d=[...a];return c>=0?d[c]={...d[c],...u}:d.unshift(u),d}),l(["documents/findById",s],(a,u)=>u||a)}});return async s=>{if(!n)return!1;let l=n.config;const a=n.versions??{config:[0]};[s]=IE([s],a),s=cp(n)(s);const u=qA(s),c=u.config,d=a;if(c!=null&&c.length){l=nF(l,c);const g=Pt(c[c.length-1]);d.config=[a.config[0]+c.length,g.prev,g.user]}const{record:f,versions:p}=eF({_id:e,versions:a,record:n.record},u);Object.assign(d,p);const h={id:e,folder:r,record:f,config:l,versions:d};console.log("INPUT",h),o(Ee(g=>(g.target(r),g.toggle({name:"remove",value:e}),g)));const y=await i(h),x=gl(y);return x||o(Ee(g=>(g.target(r),g.toggle({name:"add",value:e}),g))),x}},eF=(e,t)=>{const n={},r={};return Object.entries(t).forEach(([i,s])=>{var c,d;if(i==="config"||!s.length)return;const l=tF(e.record,s);Object.assign(n,l);const a=Pt(s[s.length-1]),u=((d=(c=e.versions)==null?void 0:c[i])==null?void 0:d[0])??0;r[i]=[u+s.length,a.prev,a.user]}),{record:n,versions:r}},tF=(e,t)=>{const n={};return t.forEach(r=>{Pt(r).transactions.forEach(o=>{o.forEach(i=>{const s=i[0];if(!(s in n)){const l=e[s]??je,[a,u]=Yi(l);n[s]={stream:qn(u),transforms:a}}n[s]=up(n[s],i)})})}),Object.fromEntries(Object.entries(n).map(([r,{stream:o,transforms:i}])=>[r,ap(o,i.length>0?i:void 0)]))},nF=(e,t)=>{let n=[...e];return t.forEach(r=>{const{transactions:o}=Pt(r);o.forEach(i=>{i.forEach(s=>{n=HE(n,s)})})}),n},eC=w.createContext(null),is=()=>{const e=w.useContext(eC);if(!e)throw new Error("DocumentPageContext.Provider not found.");return e},tC=({id:e,children:t})=>{let{doc:n}=rs(e);return n?m(re,{children:t(n)}):null},fv=w.createContext(null),ot=()=>ct(fv,"FieldId"),pv=w.createContext(null),bp=()=>w.useContext(pv),nC=w.createContext(null),hv=()=>w.useContext(nC);var L={};let mv={},rC={},au={},Sa={},Vg={},Vs={},gv={},Kg={},uu={},cu={},Io={},yv={},vv={},oC={},iC={},sC={},lC={},aC={},uC={},cC={},af={},dC={},fC={},pC={},hC={},mC={},gC={},yC={},vC={},xC={},xv={},wv={},wC={},_C={},SC={};function Z(e){throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?code=${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let co=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rF=co&&"documentMode"in document?document.documentMode:null,Yt=co&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Ji=co&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),uf=co&&"InputEvent"in window&&!rF?"getTargetRanges"in new window.InputEvent("input"):!1,_v=co&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Sv=co&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,oF=co&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Ev=co&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!oF,Np=_v||Sv||Ev?" ":"​",iF=Ji?" ":Np,sF=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,lF=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,Li={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},aF={directionless:1,unmergeable:2},Jx={center:2,end:6,justify:4,left:1,right:3,start:5},uF={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},cF={normal:0,segmented:2,token:1},dF={0:"normal",2:"segmented",1:"token"},Gg=!1,kv=0;function fF(e){kv=e.timeStamp}function Gh(e,t,n){return t.__lexicalLineBreak===e||e[`__lexicalKey_${n._key}`]!==void 0}function pF(e){return e.getEditorState().read(()=>{let t=Pe();return t!==null?t.clone():null})}function EC(e,t,n){Gg=!0;let r=100<performance.now()-kv;try{vn(e,()=>{let o=Pe()||pF(e);var i=new Map,s=e.getRootElement(),l=e._editorState,a=e._blockCursorElement;let u=!1,c="";for(var d=0;d<t.length;d++){var f=t[d],p=f.type,h=f.target,y=Qu(h,l);if(!(y===null&&h!==s||Re(y))){if(p==="characterData"){if(f=r&&J(y))e:{f=o,p=h;var x=y;if(ce(f)){var g=f.anchor.getNode();if(g.is(x)&&f.format!==g.getFormat()){f=!1;break e}}f=p.nodeType===3&&x.isAttached()}f&&(x=Rr(e._window),p=f=null,x!==null&&x.anchorNode===h&&(f=x.anchorOffset,p=x.focusOffset),h=h.nodeValue,h!==null&&Tv(y,h,f,p,!1))}else if(p==="childList"){for(u=!0,p=f.addedNodes,x=0;x<p.length;x++){g=p[x];var v=OC(g),S=g.parentNode;S==null||g===a||v!==null||g.nodeName==="BR"&&Gh(g,S,e)||(Ji&&(v=g.innerText||g.nodeValue)&&(c+=v),S.removeChild(g))}if(f=f.removedNodes,p=f.length,0<p){for(x=0,g=0;g<p;g++)S=f[g],(S.nodeName==="BR"&&Gh(S,h,e)||a===S)&&(h.appendChild(S),x++);p!==x&&(h===s&&(y=l._nodeMap.get("root")),i.set(h,y))}}}}if(0<i.size)for(let[E,b]of i)if(j(b))for(i=b.getChildrenKeys(),s=E.firstChild,l=0;l<i.length;l++)a=e.getElementByKey(i[l]),a!==null&&(s==null?(E.appendChild(a),s=a):s!==a&&E.replaceChild(a,s),s=s.nextSibling);else J(b)&&b.markDirty();if(i=n.takeRecords(),0<i.length){for(s=0;s<i.length;s++)for(a=i[s],l=a.addedNodes,a=a.target,d=0;d<l.length;d++)y=l[d],h=y.parentNode,h==null||y.nodeName!=="BR"||Gh(y,a,e)||h.removeChild(y);n.takeRecords()}o!==null&&(u&&(o.dirty=!0,ei(o)),Ji&&DC(e)&&o.insertRawText(c))})}finally{Gg=!1}}function kC(e){let t=e._observer;if(t!==null){let n=t.takeRecords();EC(e,n,t)}}function CC(e){kv===0&&$p(e).addEventListener("textInput",fF,!0),e._observer=new MutationObserver((t,n)=>{EC(e,t,n)})}let hF=1,mF=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)};function bC(e){let t=document.activeElement;if(t===null)return!1;let n=t.nodeName;return Re(Qu(e))&&(n==="INPUT"||n==="TEXTAREA"||t.contentEditable==="true"&&t.__lexicalEditor==null)}function Yu(e,t,n){let r=e.getRootElement();try{return r!==null&&r.contains(t)&&r.contains(n)&&t!==null&&!bC(t)&&Cv(t)===e}catch{return!1}}function Cv(e){for(;e!=null;){let t=e.__lexicalEditor;if(t!=null)return t;e=Tp(e)}return null}function Zg(e){return e.isToken()||e.isSegmented()}function cf(e){for(;e!=null;){if(e.nodeType===3)return e;e=e.firstChild}return null}function NC(e,t,n){return t=Li[t],e&t&&(n===null||!(n&t))?e^t:n===null||n&t?e|t:e}function TC(e){return J(e)||mu(e)||Re(e)}function $C(e,t){if(t!=null)e.__key=t;else{Bt(),99<hu&&Z(14),t=et();var n=Pr(),r=""+hF++;n._nodeMap.set(r,e),j(e)?t._dirtyElements.set(r,!0):t._dirtyLeaves.add(r),t._cloneNotNeeded.add(r),t._dirtyType=1,e.__key=r}}function Ai(e){var t=e.getParent();if(t!==null){let o=e.getWritable();t=t.getWritable();var n=e.getPreviousSibling();if(e=e.getNextSibling(),n===null)if(e!==null){var r=e.getWritable();t.__first=e.__key,r.__prev=null}else t.__first=null;else{if(r=n.getWritable(),e!==null){let i=e.getWritable();i.__prev=r.__key,r.__next=i.__key}else r.__next=null;o.__prev=null}e===null?n!==null?(e=n.getWritable(),t.__last=n.__key,e.__next=null):t.__last=null:(e=e.getWritable(),n!==null?(n=n.getWritable(),n.__next=e.__key,e.__prev=n.__key):e.__prev=null,o.__next=null),t.__size--,o.__parent=null}}function df(e){99<hu&&Z(14);var t=e.getLatest(),n=t.__parent,r=Pr();let o=et(),i=r._nodeMap;if(r=o._dirtyElements,n!==null)e:for(;n!==null;){if(r.has(n))break e;let s=i.get(n);if(s===void 0)break;r.set(n,!1),n=s.__parent}t=t.__key,o._dirtyType=1,j(e)?r.set(t,!0):o._dirtyLeaves.add(t)}function Ct(e){Bt();var t=et();let n=t._compositionKey;e!==n&&(t._compositionKey=e,n!==null&&(t=gt(n),t!==null&&t.getWritable()),e!==null&&(e=gt(e),e!==null&&e.getWritable()))}function Ro(){return bl()?null:et()._compositionKey}function gt(e,t){return e=(t||Pr())._nodeMap.get(e),e===void 0?null:e}function OC(e,t){let n=et();return e=e[`__lexicalKey_${n._key}`],e!==void 0?gt(e,t):null}function Qu(e,t){for(;e!=null;){let n=OC(e,t);if(n!==null)return n;e=Tp(e)}return null}function IC(e){let t=Object.assign({},e._decorators);return e._pendingDecorators=t}function qx(e){return e.read(()=>fo().getTextContent())}function gF(e,t){vn(e,()=>{var n=Pr();if(!n.isEmpty())if(t==="root")fo().markDirty();else{n=n._nodeMap;for(let[,r]of n)r.markDirty()}},e._pendingEditorState===null?{tag:"history-merge"}:void 0)}function fo(){return Pr()._nodeMap.get("root")}function ei(e){Bt();let t=Pr();e!==null&&(e.dirty=!0,e._cachedNodes=null),t._selection=e}function Ps(e){var t=et(),n;e:{for(n=e;n!=null;){let r=n[`__lexicalKey_${t._key}`];if(r!==void 0){n=r;break e}n=Tp(n)}n=null}return n===null?(t=t.getRootElement(),e===t?gt("root"):null):gt(n)}function RC(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function bv(e){let t=[];for(;e!==null;)t.push(e),e=e._parentEditor;return t}function PC(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function Nv(e,t,n){if(t=Rr(t._window),t!==null){var r=t.anchorNode,{anchorOffset:o,focusOffset:i}=t;if(r!==null&&(t=r.nodeType===3?r.nodeValue:null,r=Qu(r),t!==null&&J(r))){if(r.canContainTabs()){var s=t.includes("	");if(n&&0<n.length&&s){s=n.length;let l=o+s-1,a=t.slice(0,l);t=t.slice(l,t.length),t=`${a}${n}${t}`,o+=s,i+=s}}t===Np&&n&&(s=n.length,t=n,i=o=s),t!==null&&Tv(r,t,o,i,e)}}}function Tv(e,t,n,r,o){let i=e;if(i.isAttached()&&(o||!i.isDirty())){var s=i.isComposing();if(e=t,(s||o)&&t[t.length-1]===Np&&(e=t.slice(0,-1)),t=i.getTextContent(),o||e!==t)if(e==="")if(Ct(null),_v||Sv||Ev)i.remove();else{let u=et();setTimeout(()=>{u.update(()=>{i.isAttached()&&i.remove()})},20)}else{o=i.getParent(),t=Xu();var l=Ro(),a=i.getKey();i.isToken()||l!==null&&a===l&&!s||o!==null&&ce(t)&&!o.canInsertTextBefore()&&t.anchor.offset===0?i.markDirty():(s=Pe(),ce(s)&&n!==null&&r!==null&&(s.setTextNodeRange(i,n,i,r),i.isSegmented()&&(n=i.getTextContent(),n=kt(n),i.replace(n),i=n)),i.setTextContent(e))}}}function yF(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;e=e.anchor.offset;let n=t.getParentOrThrow(),r=t.isToken();return e===0?((e=!t.canInsertTextBefore()||!n.canInsertTextBefore()||r)||(t=t.getPreviousSibling(),e=(J(t)||j(t)&&t.isInline())&&!t.canInsertTextAfter()),e):e===t.getTextContentSize()?!t.canInsertTextAfter()||!n.canInsertTextAfter()||r:!1}function Ea(e,t){var n=e[t];return typeof n=="string"?(n=n.split(" "),e[t]=n):n}function $v(e,t,n,r,o){n.size!==0&&(n=r.__key,t=t.get(r.__type),t===void 0&&Z(33),r=t.klass,t=e.get(r),t===void 0&&(t=new Map,e.set(r,t)),e=t.get(n),r=e==="destroyed"&&o==="created",(e===void 0||r)&&t.set(n,r?"updated":o))}function Xx(e,t,n){let r=e.getParent(),o=n;return r!==null&&(t&&n===0?(o=e.getIndexWithinParent(),e=r):t||n!==e.getChildrenSize()||(o=e.getIndexWithinParent()+1,e=r)),e.getChildAtIndex(t?o-1:o)}function Yg(e,t){var n=e.offset;return e.type==="element"?(e=e.getNode(),Xx(e,t,n)):(e=e.getNode(),t&&n===0||!t&&n===e.getTextContentSize()?(n=t?e.getPreviousSibling():e.getNextSibling(),n===null?Xx(e.getParentOrThrow(),t,e.getIndexWithinParent()+(t?0:1)):n):null)}function DC(e){return e=(e=$p(e).event)&&e.inputType,e==="insertFromPaste"||e==="insertFromPasteAsQuotation"}function ff(e){return!Xt(e)&&!e.isLastChild()&&!e.isInline()}function pf(e,t){return e=e._keyToDOMMap.get(t),e===void 0&&Z(75),e}function Tp(e){return e=e.assignedSlot||e.parentElement,e!==null&&e.nodeType===11?e.host:e}function vF(e,t=0){if(t!==0&&Z(1),t=Pe(),!ce(t)||!j(e))return t;let{anchor:n,focus:r}=t,o=n.getNode(),i=r.getNode();return hf(o,e)&&n.set(e.__key,0,"element"),hf(i,e)&&r.set(e.__key,0,"element"),t}function hf(e,t){for(e=e.getParent();e!==null;){if(e.is(t))return!0;e=e.getParent()}return!1}function $p(e){return e=e._window,e===null&&Z(78),e}function MC(e){for(e=e.getParentOrThrow();e!==null&&!Gn(e);)e=e.getParentOrThrow();return e}function Gn(e){return Xt(e)||j(e)&&e.isShadowRoot()}function LC(e){return e=e.constructor.clone(e),$C(e,null),e}function Op(e){var t=et();let n=e.constructor.getType();return t=t._nodes.get(n),t===void 0&&Z(97),t=t.replace,t!==null?(t=t(e),t instanceof e.constructor||Z(98),t):e}function Zh(e,t){e=e.getParent(),!Xt(e)||j(t)||Re(t)||Z(99)}function Yh(e){return(Re(e)||j(e)&&!e.canBeEmpty())&&!e.isInline()}function Qg(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null,t=e.parentElement,t!==null&&t.removeChild(e)}function Rr(e){return co?(e||window).getSelection():null}function AC(e,t){let n=e.getChildAtIndex(t);n==null&&(n=e),Gn(e)&&Z(102);let r=s=>{const l=s.getParentOrThrow(),a=Gn(l),u=s!==n||a?LC(s):s;if(a)return s.insertAfter(u),[s,u,u];const[c,d,f]=r(l);return s=s.getNextSiblings(),f.append(u,...s),[c,d,u]},[o,i]=r(n);return[o,i]}function mf(e,t){for(;e!==fo()&&e!=null;){if(t(e))return e;e=e.getParent()}return null}function xF(e){let t=[],n=[e];for(;0<n.length;){let r=n.pop();r===void 0&&Z(112),j(r)&&n.unshift(...r.getChildren()),r!==e&&t.push(r)}return t}function FC(e,t,n,r,o){for(e=e.getFirstChild();e!==null;){let i=e.__key;e!==void 0&&e.__parent===t&&(j(e)&&FC(e,i,n,r,o),n.has(i)||o.delete(i),r.delete(i)),e=e.isAttached()?e.getNextSibling():null}}function wF(e,t,n,r){e=e._nodeMap,t=t._nodeMap;for(let o of n){let i=t.get(o);i===void 0||i.isAttached()||(e.has(o)||n.delete(o),t.delete(o))}for(let[o]of r)n=t.get(o),n===void 0||n.isAttached()||(j(n)&&FC(n,o,e,t,r),e.has(o)||r.delete(o),t.delete(o))}function ew(e,t){let n=e.__mode,r=e.__format;e=e.__style;let o=t.__mode,i=t.__format;return t=t.__style,(n===null||n===o)&&(r===null||r===i)&&(e===null||e===t)}function tw(e,t){let n=e.mergeWithSibling(t),r=et()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function zC(e){if(e.__text===""&&e.isSimpleText()&&!e.isUnmergeable())e.remove();else{for(var t;(t=e.getPreviousSibling())!==null&&J(t)&&t.isSimpleText()&&!t.isUnmergeable();)if(t.__text==="")t.remove();else{ew(t,e)&&(e=tw(t,e));break}for(var n;(n=e.getNextSibling())!==null&&J(n)&&n.isSimpleText()&&!n.isUnmergeable();)if(n.__text==="")n.remove();else{ew(e,n)&&tw(e,n);break}}}function jC(e){return nw(e.anchor),nw(e.focus),e}function nw(e){for(;e.type==="element";){var t=e.getNode(),n=e.offset;if(n===t.getChildrenSize()?(t=t.getChildAtIndex(n-1),n=!0):(t=t.getChildAtIndex(n),n=!1),J(t)){e.set(t.__key,n?t.getTextContentSize():0,"text");break}else if(!j(t))break;e.set(t.__key,n?t.getChildrenSize():0,"element")}}let lt="",jt="",Wr="",ti,Dt,du,BC=!1,Ov=!1,Ip,sd=null,Jg,qg,qi,ni,Xg,fu;function ld(e,t){let n=qi.get(e);if(t!==null){let r=n0(e);r.parentNode===t&&t.removeChild(r)}ni.has(e)||Dt._keyToDOMMap.delete(e),j(n)&&(e=gf(n,qi),e0(e,0,e.length-1,null)),n!==void 0&&$v(fu,du,Ip,n,"destroyed")}function e0(e,t,n,r){for(;t<=n;++t){let o=e[t];o!==void 0&&ld(o,r)}}function gi(e,t){e.setProperty("text-align",t)}function WC(e,t){var n=ti.theme.indent;if(typeof n=="string"){let r=e.classList.contains(n);0<t&&!r?e.classList.add(n):1>t&&r&&e.classList.remove(n)}n=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||"40px",e.style.setProperty("padding-inline-start",t===0?"":`calc(${t} * ${n})`)}function UC(e,t){e=e.style,t===0?gi(e,""):t===1?gi(e,"left"):t===2?gi(e,"center"):t===3?gi(e,"right"):t===4?gi(e,"justify"):t===5?gi(e,"start"):t===6&&gi(e,"end")}function ad(e,t,n){let r=ni.get(e);r===void 0&&Z(60);let o=r.createDOM(ti,Dt);var i=Dt._keyToDOMMap;if(o["__lexicalKey_"+Dt._key]=e,i.set(e,o),J(r)?o.setAttribute("data-lexical-text","true"):Re(r)&&o.setAttribute("data-lexical-decorator","true"),j(r)){if(e=r.__indent,i=r.__size,e!==0&&WC(o,e),i!==0){--i,e=gf(r,ni);var s=jt;jt="",t0(e,r,0,i,o,null),VC(r,o),jt=s}e=r.__format,e!==0&&UC(o,e),r.isInline()||HC(null,r,o),ff(r)&&(lt+=`

`,Wr+=`

`)}else i=r.getTextContent(),Re(r)?(s=r.decorate(Dt,ti),s!==null&&KC(e,s),o.contentEditable="false"):J(r)&&(r.isDirectionless()||(jt+=i)),lt+=i,Wr+=i;return t!==null&&(n!=null?t.insertBefore(o,n):(n=t.__lexicalLineBreak,n!=null?t.insertBefore(o,n):t.appendChild(o))),$v(fu,du,Ip,r,"created"),o}function t0(e,t,n,r,o,i){let s=lt;for(lt="";n<=r;++n)ad(e[n],o,i);ff(t)&&(lt+=`

`),o.__lexicalTextContent=lt,lt=s+lt}function rw(e,t){return e=t.get(e),mu(e)||Re(e)&&e.isInline()}function HC(e,t,n){e=e!==null&&(e.__size===0||rw(e.__last,qi)),t=t.__size===0||rw(t.__last,ni),e?t||(t=n.__lexicalLineBreak,t!=null&&n.removeChild(t),n.__lexicalLineBreak=null):t&&(t=document.createElement("br"),n.__lexicalLineBreak=t,n.appendChild(t))}function VC(e,t){var n=t.__lexicalDir;if(t.__lexicalDirTextContent!==jt||n!==sd){let i=jt==="";if(i)var r=sd;else r=jt,r=sF.test(r)?"rtl":lF.test(r)?"ltr":null;if(r!==n){let s=t.classList,l=ti.theme;var o=n!==null?l[n]:void 0;let a=r!==null?l[r]:void 0;o!==void 0&&(typeof o=="string"&&(o=o.split(" "),o=l[n]=o),s.remove(...o)),r===null||i&&r==="ltr"?t.removeAttribute("dir"):(a!==void 0&&(typeof a=="string"&&(n=a.split(" "),a=l[r]=n),a!==void 0&&s.add(...a)),t.dir=r),Ov||(e.getWritable().__dir=r)}sd=r,t.__lexicalDirTextContent=jt,t.__lexicalDir=r}}function gf(e,t){let n=[];for(e=e.__first;e!==null;){let r=t.get(e);r===void 0&&Z(101),n.push(e),e=r.__next}return n}function ia(e,t){var n=qi.get(e),r=ni.get(e);n!==void 0&&r!==void 0||Z(61);var o=BC||qg.has(e)||Jg.has(e);let i=pf(Dt,e);if(n===r&&!o)return j(n)?(r=i.__lexicalTextContent,r!==void 0&&(lt+=r,Wr+=r),r=i.__lexicalDirTextContent,r!==void 0&&(jt+=r)):(r=n.getTextContent(),J(n)&&!n.isDirectionless()&&(jt+=r),Wr+=r,lt+=r),i;if(n!==r&&o&&$v(fu,du,Ip,r,"updated"),r.updateDOM(n,i,ti))return r=ad(e,null,null),t===null&&Z(62),t.replaceChild(r,i),ld(e,null),r;if(j(n)&&j(r)){if(e=r.__indent,e!==n.__indent&&WC(i,e),e=r.__format,e!==n.__format&&UC(i,e),o){e=r,o=jt,jt="",t=lt;var s=n.__size,l=e.__size;if(lt="",s===1&&l===1){var a=n.__first,u=e.__first;if(a===u)ia(a,i);else{var c=n0(a);u=ad(u,null,null),i.replaceChild(u,c),ld(a,null)}}else{u=gf(n,qi);var d=gf(e,ni);if(s===0)l!==0&&t0(d,e,0,l-1,i,null);else if(l===0)s!==0&&(a=i.__lexicalLineBreak==null,e0(u,0,s-1,a?null:i),a&&(i.textContent=""));else{var f=u;u=d,d=s-1,s=l-1;let h=i.firstChild,y=0;for(l=0;y<=d&&l<=s;){var p=f[y];let x=u[l];if(p===x)h=Qh(ia(x,i)),y++,l++;else{a===void 0&&(a=new Set(f)),c===void 0&&(c=new Set(u));let g=c.has(p),v=a.has(x);g?(v?(p=pf(Dt,x),p===h?h=Qh(ia(x,i)):(h!=null?i.insertBefore(p,h):i.appendChild(p),ia(x,i)),y++):ad(x,i,h),l++):(h=Qh(n0(p)),ld(p,i),y++)}}a=y>d,c=l>s,a&&!c?(a=u[s+1],a=a===void 0?null:Dt.getElementByKey(a),t0(u,e,l,s,i,a)):c&&!a&&e0(f,y,d,i)}}ff(e)&&(lt+=`

`),i.__lexicalTextContent=lt,lt=t+lt,VC(e,i),jt=o,Xt(r)||r.isInline()||HC(n,r,i)}ff(r)&&(lt+=`

`,Wr+=`

`)}else n=r.getTextContent(),Re(r)?(o=r.decorate(Dt,ti),o!==null&&KC(e,o)):J(r)&&!r.isDirectionless()&&(jt+=n),lt+=n,Wr+=n;return!Ov&&Xt(r)&&r.__cachedText!==Wr&&(r=r.getWritable(),r.__cachedText=Wr),i}function KC(e,t){let n=Dt._pendingDecorators,r=Dt._decorators;if(n===null){if(r[e]===t)return;n=IC(Dt)}n[e]=t}function Qh(e){return e=e.nextSibling,e!==null&&e===Dt._blockCursorElement&&(e=e.nextSibling),e}function n0(e){return e=Xg.get(e),e===void 0&&Z(75),e}let Ar=Object.freeze({}),r0=[["keydown",TF],["pointerdown",SF],["compositionstart",bF],["compositionend",NF],["input",CF],["click",_F],["cut",Ar],["copy",Ar],["dragstart",Ar],["dragover",Ar],["dragend",Ar],["paste",Ar],["focus",Ar],["blur",Ar],["drop",Ar]];uf&&r0.push(["beforeinput",(e,t)=>kF(e,t)]);let pu=0,GC=0,ZC=0,xs=null,ka=0,o0=!1,i0=!1,Ca=!1,sa=!1,YC=[0,"",0,"root",0];function QC(e,t,n,r,o){let i=e.anchor,s=e.focus,l=i.getNode();var a=et();let u=Rr(a._window),c=u!==null?u.anchorNode:null,d=i.key;a=a.getElementByKey(d);let f=n.length;return d!==s.key||!J(l)||(!o&&(!uf||ZC<r+50)||l.isDirty()&&2>f||RC(n))&&i.offset!==s.offset&&!l.isComposing()||Zg(l)||l.isDirty()&&1<f||(o||!uf)&&a!==null&&!l.isComposing()&&c!==cf(a)||u!==null&&t!==null&&(!t.collapsed||t.startContainer!==u.anchorNode||t.startOffset!==u.anchorOffset)||l.getFormat()!==e.format||l.getStyle()!==e.style||yF(e,l)}function ow(e,t){return e!==null&&e.nodeValue!==null&&e.nodeType===3&&t!==0&&t!==e.nodeValue.length}function iw(e,t,n){let{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:s}=e;o0&&(o0=!1,ow(r,o)&&ow(i,s))||vn(t,()=>{if(!n)ei(null);else if(Yu(t,r,i)){var l=Pe();if(ce(l)){var a=l.anchor,u=a.getNode();if(l.isCollapsed()){e.type==="Range"&&e.anchorNode===e.focusNode&&(l.dirty=!0);var c=$p(t).event;c=c?c.timeStamp:performance.now();let[d,f,p,h,y]=YC;c<y+200&&a.offset===p&&a.key===h?(l.format=d,l.style=f):a.type==="text"?(l.format=u.getFormat(),l.style=u.getStyle()):a.type==="element"&&(l.format=0,l.style="")}else{a=255,u=!1,c=l.getNodes();let d=c.length;for(let f=0;f<d;f++){let p=c[f];if(J(p)&&(u=!0,a&=p.getFormat(),a===0))break}l.format=u?a:0}}Q(t,mv,void 0)}})}function _F(e,t){vn(t,()=>{let n=Pe(),r=Rr(t._window),o=Xu();if(ce(n)){let i=n.anchor,s=i.getNode();r&&i.type==="element"&&i.offset===0&&n.isCollapsed()&&!Xt(s)&&fo().getChildrenSize()===1&&s.getTopLevelElementOrThrow().isEmpty()&&o!==null&&n.is(o)&&(r.removeAllRanges(),n.dirty=!0)}Q(t,rC,e)})}function SF(e,t){let n=e.target;e=e.pointerType,n instanceof Node&&e!=="touch"&&vn(t,()=>{Re(Qu(n))||(i0=!0)})}function JC(e){return e.getTargetRanges?(e=e.getTargetRanges(),e.length===0?null:e[0]):null}function EF(e,t){return e!==t||j(e)||j(t)||!e.isToken()||!t.isToken()}function kF(e,t){let n=e.inputType,r=JC(e);n==="deleteCompositionText"||Ji&&DC(t)||n!=="insertCompositionText"&&vn(t,()=>{let o=Pe();if(n==="deleteContentBackward"){if(o===null){var i=Xu();if(!ce(i))return;ei(i.clone())}if(ce(o)){GC===229&&e.timeStamp<pu+30&&t.isComposing()&&o.anchor.key===o.focus.key?(Ct(null),pu=0,setTimeout(()=>{vn(t,()=>{Ct(null)})},30),ce(o)&&(i=o.anchor.getNode(),i.markDirty(),o.format=i.getFormat(),o.style=i.getStyle())):(e.preventDefault(),Q(t,au,!0));return}}if(ce(o)){i=e.data,xs!==null&&Nv(!1,t,xs),o.dirty&&xs===null||!o.isCollapsed()||Xt(o.anchor.getNode())||r===null||o.applyDOMRange(r),xs=null;var s=o.focus,l=o.anchor.getNode();if(s=s.getNode(),n==="insertText"||n==="insertTranspose")i===`
`?(e.preventDefault(),Q(t,Sa,!1)):i===`

`?(e.preventDefault(),Q(t,Vg,void 0)):i==null&&e.dataTransfer?(i=e.dataTransfer.getData("text/plain"),e.preventDefault(),o.insertRawText(i)):i!=null&&QC(o,r,i,e.timeStamp,!0)?(e.preventDefault(),Q(t,Vs,i)):xs=i,ZC=e.timeStamp;else switch(e.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Q(t,Vs,e);break;case"insertFromComposition":Ct(null),Q(t,Vs,e);break;case"insertLineBreak":Ct(null),Q(t,Sa,!1);break;case"insertParagraph":Ct(null),Ca?(Ca=!1,Q(t,Sa,!1)):Q(t,Vg,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Q(t,gv,e);break;case"deleteByComposition":EF(l,s)&&Q(t,Kg,void 0);break;case"deleteByDrag":case"deleteByCut":Q(t,Kg,void 0);break;case"deleteContent":Q(t,au,!1);break;case"deleteWordBackward":Q(t,uu,!0);break;case"deleteWordForward":Q(t,uu,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Q(t,cu,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Q(t,cu,!1);break;case"formatStrikeThrough":Q(t,Io,"strikethrough");break;case"formatBold":Q(t,Io,"bold");break;case"formatItalic":Q(t,Io,"italic");break;case"formatUnderline":Q(t,Io,"underline");break;case"historyUndo":Q(t,yv,void 0);break;case"historyRedo":Q(t,vv,void 0)}}})}function CF(e,t){e.stopPropagation(),vn(t,()=>{var n=Pe(),r=e.data,o=JC(e);if(r!=null&&ce(n)&&QC(n,o,r,e.timeStamp,!1)){sa&&(s0(t,r),sa=!1);var i=n.anchor,s=i.getNode();if(o=Rr(t._window),o===null)return;let l=i.offset;(i=uf&&!n.isCollapsed()&&J(s)&&o.anchorNode!==null)&&(s=s.getTextContent().slice(0,l)+r+s.getTextContent().slice(l+n.focus.offset),o=o.anchorNode,i=s===(o.nodeType===3?o.nodeValue:null)),i||Q(t,Vs,r),r=r.length,Ji&&1<r&&e.inputType==="insertCompositionText"&&!t.isComposing()&&(n.anchor.offset-=r),_v||Sv||Ev||!t.isComposing()||(pu=0,Ct(null))}else Nv(!1,t,r!==null?r:void 0),sa&&(s0(t,r||void 0),sa=!1);Bt(),n=et(),kC(n)}),xs=null}function bF(e,t){vn(t,()=>{let n=Pe();if(ce(n)&&!t.isComposing()){let r=n.anchor,o=n.anchor.getNode();Ct(r.key),(e.timeStamp<pu+30||r.type==="element"||!n.isCollapsed()||o.getFormat()!==n.format||o.getStyle()!==n.style)&&Q(t,Vs,iF)}})}function s0(e,t){var n=e._compositionKey;if(Ct(null),n!==null&&t!=null){if(t===""){t=gt(n),e=cf(e.getElementByKey(n)),e!==null&&e.nodeValue!==null&&J(t)&&Tv(t,e.nodeValue,null,null,!0);return}if(t[t.length-1]===`
`&&(n=Pe(),ce(n))){t=n.focus,n.anchor.set(t.key,t.offset,t.type),Q(e,af,null);return}}Nv(!0,e,t)}function NF(e,t){Ji?sa=!0:vn(t,()=>{s0(t,e.data)})}function TF(e,t){if(pu=e.timeStamp,GC=e.keyCode,!t.isComposing()){var{keyCode:n,shiftKey:r,ctrlKey:o,metaKey:i,altKey:s}=e;if(!Q(t,oC,e)){if(n!==39||o||i||s)if(n!==39||s||r||!o&&!i)if(n!==37||o||i||s)if(n!==37||s||r||!o&&!i)if(n!==38||o||i)if(n!==40||o||i)if(n===13&&r)Ca=!0,Q(t,af,e);else if(n===32)Q(t,dC,e);else if(Yt&&o&&n===79)e.preventDefault(),Ca=!0,Q(t,Sa,!0);else if(n!==13||r){var l=Yt?s||i?!1:n===8||n===72&&o:o||s||i?!1:n===8;l?n===8?Q(t,fC,e):(e.preventDefault(),Q(t,au,!0)):n===27?Q(t,pC,e):(l=Yt?r||s||i?!1:n===46||n===68&&o:o||s||i?!1:n===46,l?n===46?Q(t,hC,e):(e.preventDefault(),Q(t,au,!1)):n===8&&(Yt?s:o)?(e.preventDefault(),Q(t,uu,!0)):n===46&&(Yt?s:o)?(e.preventDefault(),Q(t,uu,!1)):Yt&&i&&n===8?(e.preventDefault(),Q(t,cu,!0)):Yt&&i&&n===46?(e.preventDefault(),Q(t,cu,!1)):n===66&&!s&&(Yt?i:o)?(e.preventDefault(),Q(t,Io,"bold")):n===85&&!s&&(Yt?i:o)?(e.preventDefault(),Q(t,Io,"underline")):n===73&&!s&&(Yt?i:o)?(e.preventDefault(),Q(t,Io,"italic")):n!==9||s||o||i?n===90&&!r&&(Yt?i:o)?(e.preventDefault(),Q(t,yv,void 0)):(l=Yt?n===90&&i&&r:n===89&&o||n===90&&o&&r,l?(e.preventDefault(),Q(t,vv,void 0)):qu(t._editorState._selection)&&(l=r?!1:n===67?Yt?i:o:!1,l?(e.preventDefault(),Q(t,xv,e)):(l=r?!1:n===88?Yt?i:o:!1,l&&(e.preventDefault(),Q(t,wv,e))))):Q(t,mC,e))}else Ca=!1,Q(t,af,e);else Q(t,cC,e);else Q(t,uC,e);else Q(t,aC,e);else Q(t,lC,e);else Q(t,sC,e);else Q(t,iC,e);(o||r||s||i)&&Q(t,SC,e)}}}function qC(e){let t=e.__lexicalEventHandles;return t===void 0&&(t=[],e.__lexicalEventHandles=t),t}let Ks=new Map;function XC(e){e=e.target;let t=Rr(e==null?null:e.nodeType===9?e.defaultView:e.ownerDocument.defaultView);if(t!==null){var n=Cv(t.anchorNode);if(n!==null){i0&&(i0=!1,vn(n,()=>{var s=Xu(),l=t.anchorNode;l!==null&&(l=l.nodeType,l===1||l===3)&&(s=rb(s,t,n),ei(s))})),e=bv(n),e=e[e.length-1];var r=e._key,o=Ks.get(r),i=o||e;i!==n&&iw(t,i,!1),iw(t,n,!0),n!==e?Ks.set(r,n):o&&Ks.delete(r)}}}function $F(e,t){ka===0&&e.ownerDocument.addEventListener("selectionchange",XC),ka++,e.__lexicalEditor=t;let n=qC(e);for(let r=0;r<r0.length;r++){let[o,i]=r0[r],s=typeof i=="function"?l=>{l._lexicalHandled!==!0&&(l._lexicalHandled=!0,t.isEditable()&&i(l,t))}:l=>{if(l._lexicalHandled!==!0&&(l._lexicalHandled=!0,t.isEditable()))switch(o){case"cut":return Q(t,wv,l);case"copy":return Q(t,xv,l);case"paste":return Q(t,gv,l);case"dragstart":return Q(t,yC,l);case"dragover":return Q(t,vC,l);case"dragend":return Q(t,xC,l);case"focus":return Q(t,wC,l);case"blur":return Q(t,_C,l);case"drop":return Q(t,gC,l)}};e.addEventListener(o,s),n.push(()=>{e.removeEventListener(o,s)})}}function l0(e,t,n){Bt();var r=e.__key;let o=e.getParent();if(o!==null){var i=vF(e),s=!1;if(ce(i)&&t){let l=i.anchor,a=i.focus;l.key===r&&(vf(l,e,o,e.getPreviousSibling(),e.getNextSibling()),s=!0),a.key===r&&(vf(a,e,o,e.getPreviousSibling(),e.getNextSibling()),s=!0)}ce(i)&&t&&!s?(r=e.getIndexWithinParent(),Ai(e),yf(i,o,r,-1)):Ai(e),n||Gn(o)||o.canBeEmpty()||!o.isEmpty()||l0(o,t),t&&Xt(o)&&o.isEmpty()&&o.selectEnd()}}class Ju{static getType(){Z(64)}static clone(){Z(65)}constructor(t){this.__type=this.constructor.getType(),this.__next=this.__prev=this.__parent=null,$C(this,t)}getType(){return this.__type}isAttached(){for(var t=this.__key;t!==null;){if(t==="root")return!0;if(t=gt(t),t===null)break;t=t.__parent}return!1}isSelected(t){if(t=t||Pe(),t==null)return!1;let n=t.getNodes().some(r=>r.__key===this.__key);return J(this)?n:ce(t)&&t.anchor.type==="element"&&t.focus.type==="element"&&t.anchor.key===t.focus.key&&t.anchor.offset===t.focus.offset?!1:n}getKey(){return this.__key}getIndexWithinParent(){var t=this.getParent();if(t===null)return-1;t=t.getFirstChild();let n=0;for(;t!==null;){if(this.is(t))return n;n++,t=t.getNextSibling()}return-1}getParent(){let t=this.getLatest().__parent;return t===null?null:gt(t)}getParentOrThrow(){let t=this.getParent();return t===null&&Z(66),t}getTopLevelElement(){let t=this;for(;t!==null;){let n=t.getParent();if(Gn(n))return t;t=n}return null}getTopLevelElementOrThrow(){let t=this.getTopLevelElement();return t===null&&Z(67),t}getParents(){let t=[],n=this.getParent();for(;n!==null;)t.push(n),n=n.getParent();return t}getParentKeys(){let t=[],n=this.getParent();for(;n!==null;)t.push(n.__key),n=n.getParent();return t}getPreviousSibling(){let t=this.getLatest().__prev;return t===null?null:gt(t)}getPreviousSiblings(){let t=[];var n=this.getParent();if(n===null)return t;for(n=n.getFirstChild();n!==null&&!n.is(this);)t.push(n),n=n.getNextSibling();return t}getNextSibling(){let t=this.getLatest().__next;return t===null?null:gt(t)}getNextSiblings(){let t=[],n=this.getNextSibling();for(;n!==null;)t.push(n),n=n.getNextSibling();return t}getCommonAncestor(t){let n=this.getParents();var r=t.getParents();j(this)&&n.unshift(this),j(t)&&r.unshift(t),t=n.length;var o=r.length;if(t===0||o===0||n[t-1]!==r[o-1])return null;for(r=new Set(r),o=0;o<t;o++){let i=n[o];if(r.has(i))return i}return null}is(t){return t==null?!1:this.__key===t.__key}isBefore(t){if(this===t)return!1;if(t.isParentOf(this))return!0;if(this.isParentOf(t))return!1;var n=this.getCommonAncestor(t);let r=this;for(;;){var o=r.getParentOrThrow();if(o===n){o=r.getIndexWithinParent();break}r=o}for(r=t;;){if(t=r.getParentOrThrow(),t===n){n=r.getIndexWithinParent();break}r=t}return o<n}isParentOf(t){let n=this.__key;if(n===t.__key)return!1;for(;t!==null;){if(t.__key===n)return!0;t=t.getParent()}return!1}getNodesBetween(t){let n=this.isBefore(t),r=[],o=new Set;for(var i=this;;){var s=i.__key;if(o.has(s)||(o.add(s),r.push(i)),i===t)break;if(s=j(i)?n?i.getFirstChild():i.getLastChild():null,s!==null)i=s;else if(s=n?i.getNextSibling():i.getPreviousSibling(),s!==null)i=s;else{if(i=i.getParentOrThrow(),o.has(i.__key)||r.push(i),i===t)break;s=i;do s===null&&Z(68),i=n?s.getNextSibling():s.getPreviousSibling(),s=s.getParent(),s!==null&&(i!==null||o.has(s.__key)||r.push(s));while(i===null)}}return n||r.reverse(),r}isDirty(){let t=et()._dirtyLeaves;return t!==null&&t.has(this.__key)}getLatest(){let t=gt(this.__key);return t===null&&Z(113),t}getWritable(){Bt();var t=Pr(),n=et();t=t._nodeMap;let r=this.__key,o=this.getLatest(),i=o.__parent;n=n._cloneNotNeeded;var s=Pe();return s!==null&&(s._cachedNodes=null),n.has(r)?(df(o),o):(s=o.constructor.clone(o),s.__parent=i,s.__next=o.__next,s.__prev=o.__prev,j(o)&&j(s)?(s.__first=o.__first,s.__last=o.__last,s.__size=o.__size,s.__indent=o.__indent,s.__format=o.__format,s.__dir=o.__dir):J(o)&&J(s)&&(s.__format=o.__format,s.__style=o.__style,s.__mode=o.__mode,s.__detail=o.__detail),n.add(r),s.__key=r,df(s),t.set(r,s),s)}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(){Z(70)}updateDOM(){Z(71)}exportDOM(t){return{element:this.createDOM(t._config,t)}}exportJSON(){Z(72)}static importJSON(){Z(18)}static transform(){return null}remove(t){l0(this,!0,t)}replace(t,n){Bt();var r=Pe();r!==null&&(r=r.clone()),Zh(this,t);let o=this.getLatest(),i=this.__key,s=t.__key,l=t.getWritable();t=this.getParentOrThrow().getWritable();let a=t.__size;Ai(l);let u=o.getPreviousSibling(),c=o.getNextSibling(),d=o.__prev,f=o.__next,p=o.__parent;return l0(o,!1,!0),u===null?t.__first=s:u.getWritable().__next=s,l.__prev=d,c===null?t.__last=s:c.getWritable().__prev=s,l.__next=f,l.__parent=p,t.__size=a,n&&this.getChildren().forEach(h=>{l.append(h)}),ce(r)&&(ei(r),n=r.anchor,r=r.focus,n.key===i&&sw(n,l),r.key===i&&sw(r,l)),Ro()===i&&Ct(s),l}insertAfter(t,n=!0){Bt(),Zh(this,t);var r=this.getWritable();let o=t.getWritable();var i=o.getParent();let s=Pe();var l=!1,a=!1;if(i!==null){var u=t.getIndexWithinParent();Ai(o),ce(s)&&(a=i.__key,l=s.anchor,i=s.focus,l=l.type==="element"&&l.key===a&&l.offset===u+1,a=i.type==="element"&&i.key===a&&i.offset===u+1)}i=this.getNextSibling(),u=this.getParentOrThrow().getWritable();let c=o.__key,d=r.__next;return i===null?u.__last=c:i.getWritable().__prev=c,u.__size++,r.__next=c,o.__next=d,o.__prev=r.__key,o.__parent=r.__parent,n&&ce(s)&&(n=this.getIndexWithinParent(),yf(s,u,n+1),r=u.__key,l&&s.anchor.set(r,n+2,"element"),a&&s.focus.set(r,n+2,"element")),t}insertBefore(t,n=!0){Bt(),Zh(this,t);var r=this.getWritable();let o=t.getWritable(),i=o.__key;Ai(o);let s=this.getPreviousSibling(),l=this.getParentOrThrow().getWritable(),a=r.__prev,u=this.getIndexWithinParent();return s===null?l.__first=i:s.getWritable().__next=i,l.__size++,r.__prev=i,o.__prev=a,o.__next=r.__key,o.__parent=r.__parent,r=Pe(),n&&ce(r)&&(n=this.getParentOrThrow(),yf(r,n,u)),t}isParentRequired(){return!1}createParentElementNode(){return Xi()}selectPrevious(t,n){Bt();let r=this.getPreviousSibling(),o=this.getParentOrThrow();return r===null?o.select(0,0):j(r)?r.select():J(r)?r.select(t,n):(t=r.getIndexWithinParent()+1,o.select(t,t))}selectNext(t,n){Bt();let r=this.getNextSibling(),o=this.getParentOrThrow();return r===null?o.select():j(r)?r.select(0,0):J(r)?r.select(t,n):(t=r.getIndexWithinParent(),o.select(t,t))}markDirty(){this.getWritable()}}class Or{constructor(t,n,r){this._selection=null,this.key=t,this.offset=n,this.type=r}is(t){return this.key===t.key&&this.offset===t.offset&&this.type===t.type}isBefore(t){let n=this.getNode(),r=t.getNode(),o=this.offset;if(t=t.offset,j(n)){var i=n.getDescendantByIndex(o);n=i??n}return j(r)&&(i=r.getDescendantByIndex(t),r=i??r),n===r?o<t:n.isBefore(r)}getNode(){let t=gt(this.key);return t===null&&Z(20),t}set(t,n,r){let o=this._selection,i=this.key;this.key=t,this.offset=n,this.type=r,bl()||(Ro()===i&&Ct(t),o!==null&&(o._cachedNodes=null,o.dirty=!0))}}function Jh(e,t){let n=t.__key,r=e.offset,o="element";if(J(t))o="text",t=t.getTextContentSize(),r>t&&(r=t);else if(!j(t)){var i=t.getNextSibling();J(i)?(n=i.__key,r=0,o="text"):(i=t.getParent())&&(n=i.__key,r=t.getIndexWithinParent()+1)}e.set(n,r,o)}function sw(e,t){if(j(t)){let n=t.getLastDescendant();j(n)||J(n)?Jh(e,n):Jh(e,t)}else Jh(e,t)}function lw(e,t,n,r){let o=e.getNode(),i=o.getChildAtIndex(e.offset),s=kt(),l=Xt(o)?Xi().append(s):s;s.setFormat(n),s.setStyle(r),i===null?o.append(l):i.insertBefore(l),e.is(t)&&t.set(s.__key,0,"text"),e.set(s.__key,0,"text")}function Eo(e,t,n,r){e.key=t,e.offset=n,e.type=r}class Rp{constructor(t){this.dirty=!1,this._nodes=t,this._cachedNodes=null}is(t){if(!qu(t))return!1;let n=this._nodes,r=t._nodes;return n.size===r.size&&Array.from(n).every(o=>r.has(o))}add(t){this.dirty=!0,this._nodes.add(t),this._cachedNodes=null}delete(t){this.dirty=!0,this._nodes.delete(t),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(t){return this._nodes.has(t)}clone(){return new Rp(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(t,n){let r=this.getNodes(),o=r.length;var i=r[o-1];if(J(i))i=i.select();else{let s=i.getIndexWithinParent()+1;i=i.getParentOrThrow().select(s,s)}for(i.insertNodes(t,n),t=0;t<o;t++)r[t].remove();return!0}getNodes(){var t=this._cachedNodes;if(t!==null)return t;var n=this._nodes;t=[];for(let r of n)n=gt(r),n!==null&&t.push(n);return bl()||(this._cachedNodes=t),t}getTextContent(){let t=this.getNodes(),n="";for(let r=0;r<t.length;r++)n+=t[r].getTextContent();return n}}function ce(e){return e instanceof ss}class Pp{constructor(t,n,r){this.gridKey=t,this.anchor=n,this.focus=r,this.dirty=!1,this._cachedNodes=null,n._selection=this,r._selection=this}is(t){return Iv(t)?this.gridKey===t.gridKey&&this.anchor.is(t.anchor)&&this.focus.is(t.focus):!1}set(t,n,r){this.dirty=!0,this.gridKey=t,this.anchor.key=n,this.focus.key=r,this._cachedNodes=null}clone(){return new Pp(this.gridKey,this.anchor,this.focus)}isCollapsed(){return!1}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return ud(this)}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(t,n){let r=this.focus.getNode();return jC(r.select(0,r.getChildrenSize())).insertNodes(t,n)}getShape(){var t=gt(this.anchor.key);t===null&&Z(21);var n=t.getIndexWithinParent();t=t.getParentOrThrow().getIndexWithinParent();var r=gt(this.focus.key);r===null&&Z(22);var o=r.getIndexWithinParent();let i=r.getParentOrThrow().getIndexWithinParent();return r=Math.min(n,o),n=Math.max(n,o),o=Math.min(t,i),t=Math.max(t,i),{fromX:Math.min(r,n),fromY:Math.min(o,t),toX:Math.max(r,n),toY:Math.max(o,t)}}getNodes(){function t(x){let{cell:g,startColumn:v,startRow:S}=x;a=Math.min(a,v),u=Math.min(u,S),c=Math.max(c,v+g.__colSpan-1),d=Math.max(d,S+g.__rowSpan-1)}var n=this._cachedNodes;if(n!==null)return n;var r=this.anchor.getNode();n=this.focus.getNode(),r=mf(r,xr);var o=mf(n,xr);xr(r)||Z(103),xr(o)||Z(104),n=r.getParent(),gu(n)||Z(105),n=n.getParent(),Mv(n)||Z(106);let[i,s,l]=ob(n,r,o),a=Math.min(s.startColumn,l.startColumn),u=Math.min(s.startRow,l.startRow),c=Math.max(s.startColumn+s.cell.__colSpan-1,l.startColumn+l.cell.__colSpan-1),d=Math.max(s.startRow+s.cell.__rowSpan-1,l.startRow+l.cell.__rowSpan-1);r=a,o=u;for(var f=a,p=u;a<r||u<o||c>f||d>p;){if(a<r){var h=p-o;--r;for(var y=0;y<=h;y++)t(i[o+y][r])}if(u<o)for(h=f-r,--o,y=0;y<=h;y++)t(i[o][r+y]);if(c>f)for(h=p-o,f+=1,y=0;y<=h;y++)t(i[o+y][f]);if(d>p)for(h=f-r,p+=1,y=0;y<=h;y++)t(i[p][r+y])}for(n=[n],r=null,o=u;o<=d;o++)for(f=a;f<=c;f++)({cell:p}=i[o][f]),h=p.getParent(),gu(h)||Z(107),h!==r&&n.push(h),n.push(p,...xF(p)),r=h;return bl()||(this._cachedNodes=n),n}getTextContent(){let t=this.getNodes(),n="";for(let r=0;r<t.length;r++)n+=t[r].getTextContent();return n}}function Iv(e){return e instanceof Pp}class ss{constructor(t,n,r,o){this.anchor=t,this.focus=n,this.dirty=!1,this.format=r,this.style=o,this._cachedNodes=null,t._selection=this,n._selection=this}is(t){return ce(t)?this.anchor.is(t.anchor)&&this.focus.is(t.focus)&&this.format===t.format&&this.style===t.style:!1}isBackward(){return this.focus.isBefore(this.anchor)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){var t=this._cachedNodes;if(t!==null)return t;t=this.anchor;var n=this.focus,r=t.isBefore(n),o=r?t:n;r=r?n:t,t=o.getNode(),n=r.getNode();let i=o.offset;return o=r.offset,j(t)&&(r=t.getDescendantByIndex(i),t=r??t),j(n)&&(r=n.getDescendantByIndex(o),r!==null&&r!==t&&n.getChildAtIndex(o)===r&&(r=r.getPreviousSibling()),n=r??n),t=t.is(n)?j(t)&&0<t.getChildrenSize()?[]:[t]:t.getNodesBetween(n),bl()||(this._cachedNodes=t),t}setTextNodeRange(t,n,r,o){Eo(this.anchor,t.__key,n,"text"),Eo(this.focus,r.__key,o,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){let t=this.getNodes();if(t.length===0)return"";let n=t[0],r=t[t.length-1],o=this.anchor,i=this.focus,s=o.isBefore(i),[l,a]=ud(this),u="",c=!0;for(let d=0;d<t.length;d++){let f=t[d];if(j(f)&&!f.isInline())c||(u+=`
`),c=!f.isEmpty();else if(c=!1,J(f)){let p=f.getTextContent();f===n?f===r?(o.type!=="element"||i.type!=="element"||i.offset===o.offset)&&(p=l<a?p.slice(l,a):p.slice(a,l)):p=s?p.slice(l):p.slice(a):f===r&&(p=s?p.slice(0,a):p.slice(0,l)),u+=p}else!Re(f)&&!mu(f)||f===r&&this.isCollapsed()||(u+=f.getTextContent())}return u}applyDOMRange(t){let n=et(),r=n.getEditorState()._selection;if(t=tb(t.startContainer,t.startOffset,t.endContainer,t.endOffset,n,r),t!==null){var[o,i]=t;Eo(this.anchor,o.key,o.offset,o.type),Eo(this.focus,i.key,i.offset,i.type),this._cachedNodes=null}}clone(){let t=this.anchor,n=this.focus;return new ss(new Or(t.key,t.offset,t.type),new Or(n.key,n.offset,n.type),this.format,this.style)}toggleFormat(t){this.format=NC(this.format,t,null),this.dirty=!0}setStyle(t){this.style=t,this.dirty=!0}hasFormat(t){return(this.format&Li[t])!==0}insertRawText(t){let n=t.split(/\r?\n/);if(n.length===1)this.insertText(t);else{t=[];let r=n.length;for(let o=0;o<r;o++){let i=n[o];i!==""&&t.push(kt(i)),o!==r-1&&t.push(al())}this.insertNodes(t)}}insertText(t){var n=this.anchor,r=this.focus,o=this.isCollapsed()||n.isBefore(r),i=this.format,s=this.style;o&&n.type==="element"?lw(n,r,i,s):o||r.type!=="element"||lw(r,n,i,s);var l=this.getNodes(),a=l.length,u=o?r:n;r=(o?n:r).offset;var c=u.offset;n=l[0],J(n)||Z(26),o=n.getTextContent().length;var d=n.getParentOrThrow(),f=l[a-1];if(this.isCollapsed()&&r===o&&(n.isSegmented()||n.isToken()||!n.canInsertTextAfter()||!d.canInsertTextAfter()&&n.getNextSibling()===null)){var p=n.getNextSibling();if((!J(p)||Zg(p))&&(p=kt(),p.setFormat(i),d.canInsertTextAfter()?n.insertAfter(p):d.insertAfter(p)),p.select(0,0),n=p,t!==""){this.insertText(t);return}}else if(this.isCollapsed()&&r===0&&(n.isSegmented()||n.isToken()||!n.canInsertTextBefore()||!d.canInsertTextBefore()&&n.getPreviousSibling()===null)){if(p=n.getPreviousSibling(),(!J(p)||Zg(p))&&(p=kt(),p.setFormat(i),d.canInsertTextBefore()?n.insertBefore(p):d.insertBefore(p)),p.select(),n=p,t!==""){this.insertText(t);return}}else if(n.isSegmented()&&r!==o)d=kt(n.getTextContent()),d.setFormat(i),n.replace(d),n=d;else if(!(this.isCollapsed()||t===""||(p=f.getParent(),d.canInsertTextBefore()&&d.canInsertTextAfter()&&(!j(p)||p.canInsertTextBefore()&&p.canInsertTextAfter())))){this.insertText(""),eb(this.anchor,this.focus,null),this.insertText(t);return}if(a===1)if(n.isToken())t=kt(t),t.select(),n.replace(t);else{if(l=n.getFormat(),a=n.getStyle(),r===c&&(l!==i||a!==s))if(n.getTextContent()==="")n.setFormat(i),n.setStyle(s);else{l=kt(t),l.setFormat(i),l.setStyle(s),l.select(),r===0?n.insertBefore(l,!1):([a]=n.splitText(r),a.insertAfter(l,!1)),l.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length);return}n=n.spliceText(r,c-r,t,!0),n.getTextContent()===""?n.remove():this.anchor.type==="text"&&(n.isComposing()?this.anchor.offset-=t.length:(this.format=l,this.style=a))}else{if(i=new Set([...n.getParentKeys(),...f.getParentKeys()]),p=j(n)?n:n.getParentOrThrow(),s=j(f)?f:f.getParentOrThrow(),d=f,!p.is(s)&&s.isInline())do d=s,s=s.getParentOrThrow();while(s.isInline());u.type==="text"&&(c!==0||f.getTextContent()==="")||u.type==="element"&&f.getIndexWithinParent()<c?J(f)&&!f.isToken()&&c!==f.getTextContentSize()?(f.isSegmented()&&(u=kt(f.getTextContent()),f.replace(u),f=u),f=f.spliceText(0,c,""),i.add(f.__key)):(u=f.getParentOrThrow(),u.canBeEmpty()||u.getChildrenSize()!==1?f.remove():u.remove()):i.add(f.__key),u=s.getChildren(),c=new Set(l),f=p.is(s),p=p.isInline()&&n.getNextSibling()===null?p:n;for(let h=u.length-1;0<=h;h--){let y=u[h];if(y.is(n)||j(y)&&y.isParentOf(n))break;y.isAttached()&&(!c.has(y)||y.is(d)?f||p.insertAfter(y,!1):y.remove())}if(!f)for(u=s,c=null;u!==null;)s=u.getChildren(),f=s.length,(f===0||s[f-1].is(c))&&(i.delete(u.__key),c=u),u=u.getParent();for(n.isToken()?r===o?n.select():(t=kt(t),t.select(),n.replace(t)):(n=n.spliceText(r,o-r,t,!0),n.getTextContent()===""?n.remove():n.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length)),t=1;t<a;t++)n=l[t],i.has(n.__key)||n.remove()}}removeText(){this.insertText("")}formatText(t){if(this.isCollapsed())this.toggleFormat(t),Ct(null);else{var n=this.getNodes(),r=[];for(var o of n)J(o)&&r.push(o);var i=r.length;if(i===0)this.toggleFormat(t),Ct(null);else{o=this.anchor;var s=this.focus,l=this.isBackward();n=l?s:o,o=l?o:s;var a=0,u=r[0];if(s=n.type==="element"?0:n.offset,n.type==="text"&&s===u.getTextContentSize()&&(a=1,u=r[1],s=0),u!=null){l=u.getFormatFlags(t,null);var c=i-1,d=r[c];if(i=o.type==="text"?o.offset:d.getTextContentSize(),u.is(d))s!==i&&(s===0&&i===u.getTextContentSize()?u.setFormat(l):(t=u.splitText(s,i),t=s===0?t[0]:t[1],t.setFormat(l),n.type==="text"&&n.set(t.__key,0,"text"),o.type==="text"&&o.set(t.__key,i-s,"text")),this.format=l);else{s!==0&&([,u]=u.splitText(s),s=0),u.setFormat(l);var f=d.getFormatFlags(t,l);for(0<i&&(i!==d.getTextContentSize()&&([d]=d.splitText(i)),d.setFormat(f)),a+=1;a<c;a++){let p=r[a];if(!p.isToken()){let h=p.getFormatFlags(t,f);p.setFormat(h)}}n.type==="text"&&n.set(u.__key,s,"text"),o.type==="text"&&o.set(d.__key,i,"text"),this.format=l|f}}}}}insertNodes(t,n){if(!this.isCollapsed()){var r=this.isBackward()?this.anchor:this.focus,o=r.getNode().getNextSibling();if(o=o?o.getKey():null,r=(r=r.getNode().getPreviousSibling())?r.getKey():null,this.removeText(),this.isCollapsed()&&this.focus.type==="element"){if(this.focus.key===o&&this.focus.offset===0){var i=kt();this.focus.getNode().insertBefore(i)}else this.focus.key===r&&this.focus.offset===this.focus.getNode().getChildrenSize()&&(i=kt(),this.focus.getNode().insertAfter(i));i&&(this.focus.set(i.__key,0,"text"),this.anchor.set(i.__key,0,"text"))}}i=this.anchor,r=i.offset;var s=i.getNode();o=s,i.type==="element"&&(i=i.getNode(),o=i.getChildAtIndex(r-1),o=o===null?i:o),i=[];var l=s.getNextSiblings(),a=Gn(s)?null:s.getTopLevelElementOrThrow();if(J(s))if(o=s.getTextContent().length,r===0&&o!==0)o=s.getPreviousSibling(),o=o!==null?o:s.getParentOrThrow(),i.push(s);else if(r===o)o=s;else{if(s.isToken())return!1;[o,s]=s.splitText(r),i.push(s)}s=o,i.push(...l),l=t[0];var u=!1,c=null;for(let h=0;h<t.length;h++){var d=t[h];if(Gn(o)||Re(o)||!j(d)||d.isInline())u&&!j(d)&&!Re(d)&&Gn(o.getParent())&&Z(28);else{if(d.is(l)){if(j(o)&&o.isEmpty()&&o.canReplaceWith(d)){o.replace(d),o=d,u=!0;continue}if(u=d.getFirstDescendant(),TC(u)){for(var f=u.getParentOrThrow();f.isInline();)f=f.getParentOrThrow();if(c=f.getChildren(),u=c.length,j(o)){var p=o.getFirstChild();for(let y=0;y<u;y++){let x=c[y];p===null?o.append(x):p.insertAfter(x),p=x}}else{for(p=u-1;0<=p;p--)o.insertAfter(c[p]);o=o.getParentOrThrow()}if(c=c[u-1],f.remove(),u=!0,f.is(d))continue}}J(o)&&(a===null&&Z(27),o=a)}u=!1,j(o)&&!o.isInline()?(c=d,Re(d)&&!d.isInline()?o=o.insertAfter(d,!1):j(d)?(d.canBeEmpty()||!d.isEmpty())&&(Xt(o)?(f=o.getChildAtIndex(r),f!==null?f.insertBefore(d):o.append(d),o=d):d.isInline()?(o.append(d),o=d):o=o.insertAfter(d,!1)):(f=o.getFirstChild(),f!==null?f.insertBefore(d):o.append(d),o=d)):!j(d)||j(d)&&d.isInline()||Re(o)&&!o.isInline()?(c=d,ce(this)&&Re(d)&&(j(o)||J(o))&&!d.isInline()?(J(o)?(f=o.getParentOrThrow(),[o]=o.splitText(r),o=o.getIndexWithinParent()+1):(f=o,o=r),[,o]=AC(f,o),o=o.insertBefore(d)):o=o.insertAfter(d,!1)):(d=o.getParentOrThrow(),mu(o)&&o.remove(),o=d,h--)}if(n&&(J(s)?s.select():(t=o.getPreviousSibling(),J(t)?t.select():(t=o.getIndexWithinParent(),o.getParentOrThrow().select(t,t)))),j(o)){if(t=J(c)?c:j(c)&&c.isInline()?c.getLastDescendant():o.getLastDescendant(),n||(t===null?o.select():J(t)?t.getTextContent()===""?t.selectPrevious():t.select():t.selectNext()),i.length!==0)for(n=o,t=i.length-1;0<=t;t--)r=i[t],a=r.getParentOrThrow(),!j(o)||fw(r)||Re(r)&&(!r.isInline()||r.isIsolated())?j(o)||fw(r)?j(r)&&!r.canInsertAfter(o)?(s=a.constructor.clone(a),j(s)||Z(29),s.append(r),o.insertAfter(s)):o.insertAfter(r):(o.insertBefore(r),o=r):(n===o?o.append(r):o.insertBefore(r),o=r),a.isEmpty()&&!a.canBeEmpty()&&a.remove()}else n||(J(o)?o.select():(n=o.getParentOrThrow(),t=o.getIndexWithinParent()+1,n.select(t,t)));return!0}insertParagraph(){this.isCollapsed()||this.removeText();var t=this.anchor,n=t.offset,r=[];if(t.type==="text"){var o=t.getNode(),i=o.getNextSiblings().reverse(),s=o.getParentOrThrow(),l=s.isInline(),a=l?s.getTextContentSize():o.getTextContentSize();n===0?i.push(o):(l&&(r=s.getNextSiblings()),n===a||l&&n===o.getTextContentSize()||([,o]=o.splitText(n),i.push(o)))}else{if(s=t.getNode(),Gn(s)){i=Xi(),r=s.getChildAtIndex(n),i.select(),r!==null?r.insertBefore(i,!1):s.append(i);return}i=s.getChildren().slice(n).reverse()}if(o=i.length,n===0&&0<o&&s.isInline()){if(r=s.getParentOrThrow(),i=r.insertNewAfter(this,!1),j(i))for(r=r.getChildren(),s=0;s<r.length;s++)i.append(r[s])}else if(l=s.insertNewAfter(this,!1),l===null)this.insertLineBreak();else if(j(l))if(a=s.getFirstChild(),n===0&&(s.is(t.getNode())||a&&a.is(t.getNode()))&&0<o)s.insertBefore(l);else{if(s=null,n=r.length,t=l.getParentOrThrow(),0<n)for(a=0;a<n;a++)t.append(r[a]);if(o!==0)for(r=0;r<o;r++)n=i[r],s===null?l.append(n):s.insertBefore(n),s=n;l.canBeEmpty()||l.getChildrenSize()!==0?l.selectStart():(l.selectPrevious(),l.remove())}}insertLineBreak(t){let n=al();var r=this.anchor;r.type==="element"&&(r=r.getNode(),Xt(r)&&this.insertParagraph()),t?this.insertNodes([n],!0):this.insertNodes([n])&&n.selectNext(0,0)}getCharacterOffsets(){return ud(this)}extract(){var t=this.getNodes(),n=t.length,r=n-1,o=this.anchor;let i=this.focus;var s=t[0];let l=t[r],[a,u]=ud(this);return n===0?[]:n===1?J(s)&&!this.isCollapsed()?(t=a>u?u:a,r=s.splitText(t,a>u?a:u),t=t===0?r[0]:r[1],t!=null?[t]:[]):[s]:(n=o.isBefore(i),J(s)&&(o=n?a:u,o===s.getTextContentSize()?t.shift():o!==0&&([,s]=s.splitText(o),t[0]=s)),J(l)&&(s=l.getTextContent().length,n=n?u:a,n===0?t.pop():n!==s&&([l]=l.splitText(n),t[r]=l)),t)}modify(t,n,r){var o=this.focus,i=this.anchor,s=t==="move",l=Yg(o,n);if(Re(l)&&!l.isIsolated())s&&l.isKeyboardSelectable()?(n=a0(),n.add(l.__key),ei(n)):(t=n?l.getPreviousSibling():l.getNextSibling(),J(t)?(l=t.__key,n=n?t.getTextContent().length:0,o.set(l,n,"text"),s&&i.set(l,n,"text")):(r=l.getParentOrThrow(),j(t)?(r=t.__key,l=n?t.getChildrenSize():0):(l=l.getIndexWithinParent(),r=r.__key,n||l++),o.set(r,l,"element"),s&&i.set(r,l,"element")));else if(i=et(),o=Rr(i._window)){var a=i._blockCursorElement,u=i._rootElement;if(u===null||a===null||!j(l)||l.isInline()||l.canBeEmpty()||Qg(a,i,u),o.modify(t,n?"backward":"forward",r),0<o.rangeCount&&(l=o.getRangeAt(0),i=this.anchor.getNode(),i=Xt(i)?i:MC(i),this.applyDOMRange(l),this.dirty=!0,!s)){for(s=this.getNodes(),t=[],r=!1,a=0;a<s.length;a++)u=s[a],hf(u,i)?t.push(u):r=!0;r&&0<t.length&&(n?(n=t[0],j(n)?n.selectStart():n.getParentOrThrow().selectStart()):(n=t[t.length-1],j(n)?n.selectEnd():n.getParentOrThrow().selectEnd())),(o.anchorNode!==l.startContainer||o.anchorOffset!==l.startOffset)&&(n=this.focus,s=this.anchor,o=s.key,l=s.offset,i=s.type,Eo(s,n.key,n.offset,n.type),Eo(n,o,l,i),this._cachedNodes=null)}}}deleteCharacter(t){if(this.isCollapsed()){var n=this.anchor,r=this.focus,o=n.getNode();if(!t&&(n.type==="element"&&j(o)&&n.offset===o.getChildrenSize()||n.type==="text"&&n.offset===o.getTextContentSize())){var i=o.getParent();if(i=o.getNextSibling()||(i===null?null:i.getNextSibling()),j(i)&&!i.canExtractContents())return}if(i=Yg(r,t),Re(i)&&!i.isIsolated()){i.isKeyboardSelectable()&&j(o)&&o.getChildrenSize()===0?(o.remove(),t=a0(),t.add(i.__key),ei(t)):i.remove();return}if(this.modify("extend",t,"character"),this.isCollapsed()){if(t&&n.offset===0&&(n.type==="element"?n.getNode():n.getNode().getParentOrThrow()).collapseAtStart(this))return}else{if(i=r.type==="text"?r.getNode():null,o=n.type==="text"?n.getNode():null,i!==null&&i.isSegmented()){if(n=r.offset,r=i.getTextContentSize(),i.is(o)||t&&n!==r||!t&&n!==0){uw(i,t,n);return}}else if(o!==null&&o.isSegmented()&&(n=n.offset,r=o.getTextContentSize(),o.is(i)||t&&n!==0||!t&&n!==r)){uw(o,t,n);return}if(o=this.anchor,i=this.focus,n=o.getNode(),r=i.getNode(),n===r&&o.type==="text"&&i.type==="text"){var s=o.offset,l=i.offset;let a=s<l;r=a?s:l,l=a?l:s,s=l-1,r!==s&&(n=n.getTextContent().slice(r,l),RC(n)||(t?i.offset=s:o.offset=s))}}}o=this.isCollapsed(),this.removeText(),t&&!o&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0&&(t=this.anchor.getNode(),t.isEmpty()&&Xt(t.getParent())&&t.getIndexWithinParent()===0&&t.collapseAtStart(this))}deleteLine(t){this.isCollapsed()&&(this.anchor.type==="text"&&this.modify("extend",t,"lineboundary"),(t?this.focus:this.anchor).offset===0&&this.modify("extend",t,"character")),this.removeText()}deleteWord(t){this.isCollapsed()&&this.modify("extend",t,"word"),this.removeText()}}function qu(e){return e instanceof Rp}function aw(e){let t=e.offset;return e.type==="text"?t:(e=e.getNode(),t===e.getChildrenSize()?e.getTextContent().length:0)}function ud(e){let t=e.anchor;return e=e.focus,t.type==="element"&&e.type==="element"&&t.key===e.key&&t.offset===e.offset?[0,0]:[aw(t),aw(e)]}function uw(e,t,n){let r=e.getTextContent().split(/(?=\s)/g),o=r.length,i=0,s=0;for(let l=0;l<o;l++){let a=r[l],u=l===o-1;if(s=i,i+=a.length,t&&i===n||i>n||u){r.splice(l,1),u&&(s=void 0);break}}t=r.join("").trim(),t===""?e.remove():(e.setTextContent(t),e.select(s,s))}function cw(e,t,n,r){var o=t;if(e.nodeType===1){let l=!1;var i=e.childNodes,s=i.length;o===s&&(l=!0,o=s-1);let a=i[o];if(s=!1,a===r._blockCursorElement?(a=i[o+1],s=!0):r._blockCursorElement!==null&&o--,r=Ps(a),J(r))o=l?r.getTextContentSize():0;else{if(i=Ps(e),i===null)return null;if(j(i)?(e=i.getChildAtIndex(o),(t=j(e))&&(t=e.getParent(),t=n===null||t===null||!t.canBeEmpty()||t!==n.getNode()),t&&(n=l?e.getLastDescendant():e.getFirstDescendant(),n===null?(i=e,o=0):(e=n,i=j(e)?e:e.getParentOrThrow())),J(e)?(r=e,i=null,o=l?e.getTextContentSize():0):e!==i&&l&&!s&&o++):(o=i.getIndexWithinParent(),o=t===0&&Re(i)&&Ps(e)===i?o:o+1,i=i.getParentOrThrow()),j(i))return new Or(i.__key,o,"element")}}else r=Ps(e);return J(r)?new Or(r.__key,o,"text"):null}function dw(e,t,n){var r=e.offset,o=e.getNode();r===0?(r=o.getPreviousSibling(),o=o.getParent(),t?(n||!t)&&r===null&&j(o)&&o.isInline()&&(t=o.getPreviousSibling(),J(t)&&(e.key=t.__key,e.offset=t.getTextContent().length)):j(r)&&!n&&r.isInline()?(e.key=r.__key,e.offset=r.getChildrenSize(),e.type="element"):J(r)&&(e.key=r.__key,e.offset=r.getTextContent().length)):r===o.getTextContent().length&&(r=o.getNextSibling(),o=o.getParent(),t&&j(r)&&r.isInline()?(e.key=r.__key,e.offset=0,e.type="element"):(n||t)&&r===null&&j(o)&&o.isInline()&&!o.canInsertTextAfter()&&(t=o.getNextSibling(),J(t)&&(e.key=t.__key,e.offset=0)))}function eb(e,t,n){if(e.type==="text"&&t.type==="text"){var r=e.isBefore(t);let o=e.is(t);dw(e,r,o),dw(t,!r,o),o&&(t.key=e.key,t.offset=e.offset,t.type=e.type),r=et(),r.isComposing()&&r._compositionKey!==e.key&&ce(n)&&(r=n.anchor,n=n.focus,Eo(e,r.key,r.offset,r.type),Eo(t,n.key,n.offset,n.type))}}function tb(e,t,n,r,o,i){return e===null||n===null||!Yu(o,e,n)||(t=cw(e,t,ce(i)?i.anchor:null,o),t===null)||(r=cw(n,r,ce(i)?i.focus:null,o),r===null||t.type==="element"&&r.type==="element"&&(e=Ps(e),n=Ps(n),Re(e)&&Re(n)))?null:(eb(t,r,i),[t,r])}function fw(e){return j(e)&&!e.isInline()}function nb(e,t,n,r,o,i){let s=Pr();return e=new ss(new Or(e,t,o),new Or(n,r,i),0,""),e.dirty=!0,s._selection=e}function a0(){return new Rp(new Set)}function OF(e){let t=e.getEditorState()._selection,n=Rr(e._window);return qu(t)||Iv(t)?t.clone():rb(t,n,e)}function rb(e,t,n){var r=n._window;if(r===null)return null;var o=r.event,i=o?o.type:void 0;r=i==="selectionchange",o=!Gg&&(r||i==="beforeinput"||i==="compositionstart"||i==="compositionend"||i==="click"&&o&&o.detail===3||i==="drop"||i===void 0);let s;if(!ce(e)||o){if(t===null)return null;if(o=t.anchorNode,i=t.focusNode,s=t.anchorOffset,t=t.focusOffset,r&&ce(e)&&!Yu(n,o,i))return e.clone()}else return e.clone();if(n=tb(o,s,i,t,n,e),n===null)return null;let[l,a]=n;return new ss(l,a,ce(e)?e.format:0,ce(e)?e.style:"")}function Pe(){return Pr()._selection}function Xu(){return et()._editorState._selection}function yf(e,t,n,r=1){var o=e.anchor,i=e.focus,s=o.getNode(),l=i.getNode();if(t.is(s)||t.is(l))if(s=t.__key,e.isCollapsed())t=o.offset,n<=t&&(n=Math.max(0,t+r),o.set(s,n,"element"),i.set(s,n,"element"),pw(e));else{var a=e.isBackward();l=a?i:o;var u=l.getNode();o=a?o:i,i=o.getNode(),t.is(u)&&(u=l.offset,n<=u&&l.set(s,Math.max(0,u+r),"element")),t.is(i)&&(t=o.offset,n<=t&&o.set(s,Math.max(0,t+r),"element")),pw(e)}}function pw(e){var t=e.anchor,n=t.offset;let r=e.focus;var o=r.offset,i=t.getNode(),s=r.getNode();if(e.isCollapsed())j(i)&&(s=i.getChildrenSize(),s=(o=n>=s)?i.getChildAtIndex(s-1):i.getChildAtIndex(n),J(s)&&(n=0,o&&(n=s.getTextContentSize()),t.set(s.__key,n,"text"),r.set(s.__key,n,"text")));else{if(j(i)){let l=i.getChildrenSize();n=(e=n>=l)?i.getChildAtIndex(l-1):i.getChildAtIndex(n),J(n)&&(i=0,e&&(i=n.getTextContentSize()),t.set(n.__key,i,"text"))}j(s)&&(n=s.getChildrenSize(),o=(t=o>=n)?s.getChildAtIndex(n-1):s.getChildAtIndex(o),J(o)&&(s=0,t&&(s=o.getTextContentSize()),r.set(o.__key,s,"text")))}}function IF(e,t){if(t=t.getEditorState()._selection,e=e._selection,ce(e)){var n=e.anchor;let r=e.focus,o;n.type==="text"&&(o=n.getNode(),o.selectionTransform(t,e)),r.type==="text"&&(n=r.getNode(),o!==n&&n.selectionTransform(t,e))}}function vf(e,t,n,r,o){let i=null,s=0,l=null;r!==null?(i=r.__key,J(r)?(s=r.getTextContentSize(),l="text"):j(r)&&(s=r.getChildrenSize(),l="element")):o!==null&&(i=o.__key,J(o)?l="text":j(o)&&(l="element")),i!==null&&l!==null?e.set(i,s,l):(s=t.getIndexWithinParent(),s===-1&&(s=n.getChildrenSize()),e.set(n.__key,s,"element"))}function hw(e,t,n,r,o){e.type==="text"?(e.key=n,t||(e.offset+=o)):e.offset>r.getIndexWithinParent()&&--e.offset}function ob(e,t,n){let r=[],o=null,i=null;e=e.getChildren();for(let c=0;c<e.length;c++){var s=e[c];gu(s)||Z(108);var l=s.getChildren();s=0;for(let d of l){for(xr(d)||Z(109);r[c]!==void 0&&r[c][s]!==void 0;)s++;l=c;var a=s,u=d;let f={cell:u,startColumn:a,startRow:l},p=u.__rowSpan,h=u.__colSpan;for(let y=0;y<p;y++){r[l+y]===void 0&&(r[l+y]=[]);for(let x=0;x<h;x++)r[l+y][a+x]=f}t.is(u)&&(o=f),n.is(u)&&(i=f),s+=d.__colSpan}}return o===null&&Z(110),i===null&&Z(111),[r,o,i]}let yt=null,vt=null,rn=!1,qh=!1,hu=0,mw={characterData:!0,childList:!0,subtree:!0};function bl(){return rn||yt!==null&&yt._readOnly}function Bt(){rn&&Z(13)}function Pr(){return yt===null&&Z(15),yt}function et(){return vt===null&&Z(16),vt}function gw(e,t,n){var r=t.__type;let o=e._nodes.get(r);for(o===void 0&&Z(30),e=n.get(r),e===void 0&&(e=Array.from(o.transforms),n.set(r,e)),n=e.length,r=0;r<n&&(e[r](t),t.isAttached());r++);}function RF(e,t){t=t._dirtyLeaves,e=e._nodeMap;for(let n of t)t=e.get(n),J(t)&&t.isAttached()&&t.isSimpleText()&&!t.isUnmergeable()&&zC(t)}function PF(e,t){let n=t._dirtyLeaves,r=t._dirtyElements;e=e._nodeMap;let o=Ro(),i=new Map;var s=n;let l=s.size;for(var a=r,u=a.size;0<l||0<u;){if(0<l){t._dirtyLeaves=new Set;for(let c of s)s=e.get(c),J(s)&&s.isAttached()&&s.isSimpleText()&&!s.isUnmergeable()&&zC(s),s!==void 0&&s!==void 0&&s.__key!==o&&s.isAttached()&&gw(t,s,i),n.add(c);if(s=t._dirtyLeaves,l=s.size,0<l){hu++;continue}}t._dirtyLeaves=new Set,t._dirtyElements=new Map;for(let c of a)a=c[0],u=c[1],(a==="root"||u)&&(s=e.get(a),s!==void 0&&s!==void 0&&s.__key!==o&&s.isAttached()&&gw(t,s,i),r.set(a,u));s=t._dirtyLeaves,l=s.size,a=t._dirtyElements,u=a.size,hu++}t._dirtyLeaves=n,t._dirtyElements=r}function Rv(e,t){var n=t.get(e.type);if(n===void 0&&Z(17),n=n.klass,e.type!==n.getType()&&Z(18),n=n.importJSON(e),e=e.children,j(n)&&Array.isArray(e))for(let r=0;r<e.length;r++){let o=Rv(e[r],t);n.append(o)}return n}function yw(e,t){let n=yt,r=rn,o=vt;yt=e,rn=!0,vt=null;try{return t()}finally{yt=n,rn=r,vt=o}}function Fi(e){let t=e._pendingEditorState,n=e._rootElement,r=e._headless||n===null;if(t!==null){var o=e._editorState,i=o._selection,s=t._selection,l=e._dirtyType!==0,a=yt,u=rn,c=vt,d=e._updating,f=e._observer,p=null;if(e._pendingEditorState=null,e._editorState=t,!r&&l&&f!==null){vt=e,yt=t,rn=!1,e._updating=!0;try{let be=e._dirtyType,dt=e._dirtyElements,ft=e._dirtyLeaves;f.disconnect();var h=be,y=dt,x=ft;jt=Wr=lt="",BC=h===2,sd=null,Dt=e,ti=e._config,du=e._nodes,Ip=Dt._listeners.mutation,Jg=y,qg=x,qi=o._nodeMap,ni=t._nodeMap,Ov=t._readOnly,Xg=new Map(e._keyToDOMMap);let an=new Map;fu=an,ia("root",null),fu=Xg=ti=ni=qi=qg=Jg=du=Dt=void 0,p=an}catch(be){if(be instanceof Error&&e._onError(be),qh)throw be;ab(e,null,n,t),CC(e),e._dirtyType=2,qh=!0,Fi(e),qh=!1;return}finally{f.observe(n,mw),e._updating=d,yt=a,rn=u,vt=c}}t._readOnly||(t._readOnly=!0);var g=e._dirtyLeaves,v=e._dirtyElements,S=e._normalizedNodes,E=e._updateTags,b=e._deferred;l&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set);var k=e._decorators,O=e._pendingDecorators||k,$=t._nodeMap,R;for(R in O)$.has(R)||(O===k&&(O=IC(e)),delete O[R]);var T=r?null:Rr(e._window);if(e._editable&&T!==null&&(l||s===null||s.dirty)){vt=e,yt=t;try{if(f!==null&&f.disconnect(),l||s===null||s.dirty){let be=e._blockCursorElement;be!==null&&Qg(be,e,n);e:{let dt=T.anchorNode,ft=T.focusNode,an=T.anchorOffset,pt=T.focusOffset,Ge=document.activeElement;if(!(E.has("collaboration")&&Ge!==n||Ge!==null&&bC(Ge)))if(ce(s)){var D=s.anchor,F=s.focus,H=D.key,ee=F.key,K=pf(e,H),A=pf(e,ee),z=D.offset,I=F.offset,M=s.format,U=s.style,se=s.isCollapsed(),V=K,ue=A,Se=!1;if(D.type==="text"){V=cf(K);let Zt=D.getNode();Se=Zt.getFormat()!==M||Zt.getStyle()!==U}else ce(i)&&i.anchor.type==="text"&&(Se=!0);if(F.type==="text"&&(ue=cf(A)),V!==null&&ue!==null){if(se&&(i===null||Se||ce(i)&&(i.format!==M||i.style!==U))){var it=performance.now();YC=[M,U,z,H,it]}if(an===z&&pt===I&&dt===V&&ft===ue&&(T.type!=="Range"||!se)&&(Ge!==null&&n.contains(Ge)||n.focus({preventScroll:!0}),D.type!=="element"))break e;try{T.setBaseAndExtent(V,z,ue,I)}catch{}if(!E.has("skip-scroll-into-view")&&s.isCollapsed()&&n!==null&&n===document.activeElement){let Zt=s instanceof ss&&s.anchor.type==="element"?V.childNodes[z]||null:0<T.rangeCount?T.getRangeAt(0):null;if(Zt!==null){let lr=Zt.getBoundingClientRect(),mo=n.ownerDocument,pi=mo.defaultView;if(pi!==null)for(var{top:Le,bottom:Cn}=lr,ke,Ae,we=n;we!==null;){let ar=we===mo.body;if(ar)ke=0,Ae=$p(e).innerHeight;else{let oc=we.getBoundingClientRect();ke=oc.top,Ae=oc.bottom}let hi=0;if(Le<ke?hi=-(ke-Le):Cn>Ae&&(hi=Cn-Ae),hi!==0)if(ar)pi.scrollBy(0,hi);else{let oc=we.scrollTop;we.scrollTop+=hi;let Vv=we.scrollTop-oc;Le-=Vv,Cn-=Vv}if(ar)break;we=Tp(we)}}}o0=!0}}else i!==null&&Yu(e,dt,ft)&&T.removeAllRanges()}}e:{let be=e._blockCursorElement;if(ce(s)&&s.isCollapsed()&&s.anchor.type==="element"&&n.contains(document.activeElement)){let dt=s.anchor,ft=dt.getNode(),an=dt.offset,pt=ft.getChildrenSize(),Ge=!1,Zt=null;if(an===pt){let lr=ft.getChildAtIndex(an-1);Yh(lr)&&(Ge=!0)}else{let lr=ft.getChildAtIndex(an);if(Yh(lr)){let mo=lr.getPreviousSibling();(mo===null||Yh(mo))&&(Ge=!0,Zt=e.getElementByKey(lr.__key))}}if(Ge){let lr=e.getElementByKey(ft.__key);if(be===null){let mo=e._config.theme,pi=document.createElement("div");pi.contentEditable="false",pi.setAttribute("data-lexical-cursor","true");let ar=mo.blockCursor;if(ar!==void 0){if(typeof ar=="string"){let hi=ar.split(" ");ar=mo.blockCursor=hi}ar!==void 0&&pi.classList.add(...ar)}e._blockCursorElement=be=pi}n.style.caretColor="transparent",Zt===null?lr.appendChild(be):lr.insertBefore(be,Zt);break e}}be!==null&&Qg(be,e,n)}f!==null&&f.observe(n,mw)}finally{vt=c,yt=a}}if(p!==null){var st=p;let be=Array.from(e._listeners.mutation),dt=be.length;for(let ft=0;ft<dt;ft++){let[an,pt]=be[ft],Ge=st.get(pt);Ge!==void 0&&an(Ge,{dirtyLeaves:g,updateTags:E})}}ce(s)||s===null||i!==null&&i.is(s)||e.dispatchCommand(mv,void 0);var tt=e._pendingDecorators;tt!==null&&(e._decorators=tt,e._pendingDecorators=null,ba("decorator",e,!0,tt));var fi=qx(o),Mr=qx(t);if(fi!==Mr&&ba("textcontent",e,!0,Mr),ba("update",e,!0,{dirtyElements:v,dirtyLeaves:g,editorState:t,normalizedNodes:S,prevEditorState:o,tags:E}),e._deferred=[],b.length!==0){let be=e._updating;e._updating=!0;try{for(let dt=0;dt<b.length;dt++)b[dt]()}finally{e._updating=be}}var ho=e._updates;if(ho.length!==0){let be=ho.shift();if(be){let[dt,ft]=be;ib(e,dt,ft)}}}}function ba(e,t,n,...r){let o=t._updating;t._updating=n;try{let i=Array.from(t._listeners[e]);for(e=0;e<i.length;e++)i[e].apply(null,r)}finally{t._updating=o}}function Q(e,t,n){if(e._updating===!1||vt!==e){let i=!1;return e.update(()=>{i=Q(e,t,n)}),i}let r=bv(e);for(let i=4;0<=i;i--)for(let s=0;s<r.length;s++){var o=r[s]._commands.get(t);if(o!==void 0&&(o=o[i],o!==void 0)){o=Array.from(o);let l=o.length;for(let a=0;a<l;a++)if(o[a](n,e)===!0)return!0}}return!1}function vw(e,t){let n=e._updates;for(t=t||!1;n.length!==0;){var r=n.shift();if(r){let[o,i]=r,s;i!==void 0&&(r=i.onUpdate,s=i.tag,i.skipTransforms&&(t=!0),r&&e._deferred.push(r),s&&e._updateTags.add(s)),o()}}return t}function ib(e,t,n){let r=e._updateTags;var o,i=o=!1;if(n!==void 0){var s=n.onUpdate;o=n.tag,o!=null&&r.add(o),o=n.skipTransforms||!1,i=n.discrete||!1}s&&e._deferred.push(s),n=e._editorState,s=e._pendingEditorState;let l=!1;(s===null||s._readOnly)&&(s=e._pendingEditorState=new Dp(new Map((s||n)._nodeMap)),l=!0),s._flushSync=i,i=yt;let a=rn,u=vt,c=e._updating;yt=s,rn=!1,e._updating=!0,vt=e;try{l&&(e._headless?n._selection!=null&&(s._selection=n._selection.clone()):s._selection=OF(e));let d=e._compositionKey;t(),o=vw(e,o),IF(s,e),e._dirtyType!==0&&(o?RF(s,e):PF(s,e),vw(e),wF(n,s,e._dirtyLeaves,e._dirtyElements)),d!==e._compositionKey&&(s._flushSync=!0);let f=s._selection;if(ce(f)){let p=s._nodeMap,h=f.focus.key;p.get(f.anchor.key)!==void 0&&p.get(h)!==void 0||Z(19)}else qu(f)&&f._nodes.size===0&&(s._selection=null)}catch(d){d instanceof Error&&e._onError(d),e._pendingEditorState=n,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),Fi(e);return}finally{yt=i,rn=a,vt=u,e._updating=c,hu=0}e._dirtyType!==0||DF(s,e)?s._flushSync?(s._flushSync=!1,Fi(e)):l&&mF(()=>{Fi(e)}):(s._flushSync=!1,l&&(r.clear(),e._deferred=[],e._pendingEditorState=null))}function vn(e,t,n){e._updating?e._updates.push([t,n]):ib(e,t,n)}class sb extends Ju{constructor(t){super(t)}decorate(){Z(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Re(e){return e instanceof sb}class ls extends Ju{constructor(t){super(t),this.__last=this.__first=null,this.__indent=this.__format=this.__size=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){let t=this.getFormat();return uF[t]||""}getIndent(){return this.getLatest().__indent}getChildren(){let t=[],n=this.getFirstChild();for(;n!==null;)t.push(n),n=n.getNextSibling();return t}getChildrenKeys(){let t=[],n=this.getFirstChild();for(;n!==null;)t.push(n.__key),n=n.getNextSibling();return t}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){let t=et()._dirtyElements;return t!==null&&t.has(this.__key)}isLastChild(){let t=this.getLatest(),n=this.getParentOrThrow().getLastChild();return n!==null&&n.is(t)}getAllTextNodes(){let t=[],n=this.getFirstChild();for(;n!==null;){if(J(n)&&t.push(n),j(n)){let r=n.getAllTextNodes();t.push(...r)}n=n.getNextSibling()}return t}getFirstDescendant(){let t=this.getFirstChild();for(;t!==null;){if(j(t)){let n=t.getFirstChild();if(n!==null){t=n;continue}}break}return t}getLastDescendant(){let t=this.getLastChild();for(;t!==null;){if(j(t)){let n=t.getLastChild();if(n!==null){t=n;continue}}break}return t}getDescendantByIndex(t){let n=this.getChildren(),r=n.length;return t>=r?(t=n[r-1],j(t)&&t.getLastDescendant()||t||null):(t=n[t],j(t)&&t.getFirstDescendant()||t||null)}getFirstChild(){let t=this.getLatest().__first;return t===null?null:gt(t)}getFirstChildOrThrow(){let t=this.getFirstChild();return t===null&&Z(45),t}getLastChild(){let t=this.getLatest().__last;return t===null?null:gt(t)}getLastChildOrThrow(){let t=this.getLastChild();return t===null&&Z(96),t}getChildAtIndex(t){var n=this.getChildrenSize();let r;if(t<n/2){for(r=this.getFirstChild(),n=0;r!==null&&n<=t;){if(n===t)return r;r=r.getNextSibling(),n++}return null}for(r=this.getLastChild(),--n;r!==null&&n>=t;){if(n===t)return r;r=r.getPreviousSibling(),n--}return null}getTextContent(){let t="",n=this.getChildren(),r=n.length;for(let o=0;o<r;o++){let i=n[o];t+=i.getTextContent(),j(i)&&o!==r-1&&!i.isInline()&&(t+=`

`)}return t}getTextContentSize(){let t=0,n=this.getChildren(),r=n.length;for(let o=0;o<r;o++){let i=n[o];t+=i.getTextContentSize(),j(i)&&o!==r-1&&!i.isInline()&&(t+=2)}return t}getDirection(){return this.getLatest().__dir}hasFormat(t){return t!==""?(t=Jx[t],(this.getFormat()&t)!==0):!1}select(t,n){Bt();let r=Pe(),o=t,i=n;var s=this.getChildrenSize();if(!this.canBeEmpty()){if(t===0&&n===0){if(t=this.getFirstChild(),J(t)||j(t))return t.select(0,0)}else if(!(t!==void 0&&t!==s||n!==void 0&&n!==s)&&(t=this.getLastChild(),J(t)||j(t)))return t.select()}if(o===void 0&&(o=s),i===void 0&&(i=s),s=this.__key,ce(r))r.anchor.set(s,o,"element"),r.focus.set(s,i,"element"),r.dirty=!0;else return nb(s,o,s,i,"element","element");return r}selectStart(){let t=this.getFirstDescendant();return j(t)||J(t)?t.select(0,0):t!==null?t.selectPrevious():this.select(0,0)}selectEnd(){let t=this.getLastDescendant();return j(t)||J(t)?t.select():t!==null?t.selectNext():this.select()}clear(){let t=this.getWritable();return this.getChildren().forEach(n=>n.remove()),t}append(...t){return this.splice(this.getChildrenSize(),0,t)}setDirection(t){let n=this.getWritable();return n.__dir=t,n}setFormat(t){return this.getWritable().__format=t!==""?Jx[t]:0,this}setIndent(t){return this.getWritable().__indent=t,this}splice(t,n,r){let o=r.length,i=this.getChildrenSize(),s=this.getWritable(),l=s.__key;var a=[],u=[];let c=this.getChildAtIndex(t+n),d=null,f=i-n+o;if(t!==0)if(t===i)d=this.getLastChild();else{var p=this.getChildAtIndex(t);p!==null&&(d=p.getPreviousSibling())}if(0<n){var h=d===null?this.getFirstChild():d.getNextSibling();for(p=0;p<n;p++){h===null&&Z(100);var y=h.getNextSibling(),x=h.__key;h=h.getWritable(),Ai(h),u.push(x),h=y}}for(p=d,y=0;y<o;y++){x=r[y],p!==null&&x.is(p)&&(d=p=p.getPreviousSibling()),h=x.getWritable(),h.__parent===l&&f--,Ai(h);let g=x.__key;p===null?(s.__first=g,h.__prev=null):(p=p.getWritable(),p.__next=g,h.__prev=p.__key),x.__key===l&&Z(76),h.__parent=l,a.push(g),p=x}if(t+n===i?p!==null&&(p.getWritable().__next=null,s.__last=p.__key):c!==null&&(t=c.getWritable(),p!==null?(n=p.getWritable(),t.__prev=p.__key,n.__next=c.__key):t.__prev=null),s.__size=f,u.length&&(t=Pe(),ce(t))){u=new Set(u),a=new Set(a);let{anchor:g,focus:v}=t;xw(g,u,a)&&vf(g,g.getNode(),this,d,c),xw(v,u,a)&&vf(v,v.getNode(),this,d,c),f!==0||this.canBeEmpty()||Gn(this)||this.remove()}return s}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(){return null}canInsertTab(){return!1}canIndent(){return!0}collapseAtStart(){return!1}excludeFromCopy(){return!1}canExtractContents(){return!0}canReplaceWith(){return!0}canInsertAfter(){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(){return!1}extractWithChild(){return!1}}function j(e){return e instanceof ls}function xw(e,t,n){for(e=e.getNode();e;){let r=e.__key;if(t.has(r)&&!n.has(r))return!0;e=e.getParent()}return!1}class Nl extends ls{static getType(){return"root"}static clone(){return new Nl}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){Z(51)}getTextContent(){let t=this.__cachedText;return!bl()&&et()._dirtyType!==0||t===null?super.getTextContent():t}remove(){Z(52)}replace(){Z(53)}insertBefore(){Z(54)}insertAfter(){Z(55)}updateDOM(){return!1}append(...t){for(let n=0;n<t.length;n++){let r=t[n];j(r)||Re(r)||Z(56)}return super.append(...t)}static importJSON(t){let n=fo();return n.setFormat(t.format),n.setIndent(t.indent),n.setDirection(t.direction),n}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function Xt(e){return e instanceof Nl}function DF(e,t){if(t=t.getEditorState()._selection,e=e._selection,e!==null){if(e.dirty||!e.is(t))return!0}else if(t!==null)return!0;return!1}function Pv(){return new Dp(new Map([["root",new Nl]]))}function lb(e){let t=e.exportJSON();t.type!==e.constructor.getType()&&Z(58);let n=t.children;if(j(e)){Array.isArray(n)||Z(59),e=e.getChildren();for(let r=0;r<e.length;r++){let o=lb(e[r]);n.push(o)}}return t}class Dp{constructor(t,n){this._nodeMap=t,this._selection=n||null,this._readOnly=this._flushSync=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(t){return yw(this,t)}clone(t){return t=new Dp(this._nodeMap,t===void 0?this._selection:t),t._readOnly=!0,t}toJSON(){return yw(this,()=>({root:lb(fo())}))}}class Tl extends Ju{static getType(){return"linebreak"}static clone(t){return new Tl(t.__key)}constructor(t){super(t)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:t=>{let n=t.parentElement;return n!=null&&n.firstChild===t&&n.lastChild===t?null:{conversion:MF,priority:0}}}}static importJSON(){return al()}exportJSON(){return{type:"linebreak",version:1}}}function MF(){return{node:al()}}function al(){return Op(new Tl)}function mu(e){return e instanceof Tl}function Xh(e,t){return t&16?"code":t&128?"mark":t&32?"sub":t&64?"sup":null}function em(e,t){return t&1?"strong":t&2?"em":"span"}function tm(e,t,n,r,o){e=r.classList,r=Ea(o,"base"),r!==void 0&&e.add(...r),r=Ea(o,"underlineStrikethrough");let i=!1,s=t&8&&t&4;var l=n&8&&n&4;r!==void 0&&(l?(i=!0,s||e.add(...r)):s&&e.remove(...r));for(let a in Li)l=Li[a],r=Ea(o,a),r!==void 0&&(n&l?!i||a!=="underline"&&a!=="strikethrough"?(!(t&l)||s&&a==="underline"||a==="strikethrough")&&e.add(...r):t&l&&e.remove(...r):t&l&&e.remove(...r))}function nm(e,t,n){let r=t.firstChild;if(n=n.isComposing(),e+=n?Np:"",r==null)t.textContent=e;else if(t=r.nodeValue,t!==e)if(n||Ji){n=t.length;let o=e.length,i=0,s=0;for(;i<n&&i<o&&t[i]===e[i];)i++;for(;s+i<n&&s+i<o&&t[n-s-1]===e[o-s-1];)s++;e=[i,n-i-s,e.slice(i,o-s)];let[l,a,u]=e;a!==0&&r.deleteData(l,a),r.insertData(l,u)}else r.nodeValue=e}function Lc(e,t){return t=document.createElement(t),t.appendChild(e),t}class $l extends Ju{static getType(){return"text"}static clone(t){return new $l(t.__text,t.__key)}constructor(t,n){super(n),this.__text=t,this.__format=0,this.__style="",this.__detail=this.__mode=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){let t=this.getLatest();return dF[t.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===Ro()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return(this.getLatest().__detail&1)!==0}isUnmergeable(){return(this.getLatest().__detail&2)!==0}hasFormat(t){return t=Li[t],(this.getFormat()&t)!==0}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(t,n){let r=this.getLatest().__format;return NC(r,t,n)}createDOM(t){var n=this.__format,r=Xh(this,n);let o=em(this,n),i=document.createElement(r===null?o:r),s=i;return r!==null&&(s=document.createElement(o),i.appendChild(s)),r=s,nm(this.__text,r,this),t=t.theme.text,t!==void 0&&tm(o,0,n,r,t),n=this.__style,n!==""&&(i.style.cssText=n),i}updateDOM(t,n,r){let o=this.__text;var i=t.__format,s=this.__format,l=Xh(this,i);let a=Xh(this,s);var u=em(this,i);let c=em(this,s);return(l===null?u:l)!==(a===null?c:a)?!0:l===a&&u!==c?(i=n.firstChild,i==null&&Z(48),t=l=document.createElement(c),nm(o,t,this),r=r.theme.text,r!==void 0&&tm(c,0,s,t,r),n.replaceChild(l,i),!1):(u=n,a!==null&&l!==null&&(u=n.firstChild,u==null&&Z(49)),nm(o,u,this),r=r.theme.text,r!==void 0&&i!==s&&tm(c,i,s,u,r),s=this.__style,t.__style!==s&&(n.style.cssText=s),!1)}static importDOM(){return{"#text":()=>({conversion:zF,priority:0}),b:()=>({conversion:FF,priority:0}),br:()=>({conversion:AF,priority:0}),code:()=>({conversion:yo,priority:0}),em:()=>({conversion:yo,priority:0}),i:()=>({conversion:yo,priority:0}),s:()=>({conversion:yo,priority:0}),span:()=>({conversion:LF,priority:0}),strong:()=>({conversion:yo,priority:0}),sub:()=>({conversion:yo,priority:0}),sup:()=>({conversion:yo,priority:0}),u:()=>({conversion:yo,priority:0})}}static importJSON(t){let n=kt(t.text);return n.setFormat(t.format),n.setDetail(t.detail),n.setMode(t.mode),n.setStyle(t.style),n}exportDOM(t){return{element:t}=super.exportDOM(t),t!==null&&(this.hasFormat("bold")&&(t=Lc(t,"b")),this.hasFormat("italic")&&(t=Lc(t,"i")),this.hasFormat("strikethrough")&&(t=Lc(t,"s")),this.hasFormat("underline")&&(t=Lc(t,"u"))),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(){}setFormat(t){let n=this.getWritable();return n.__format=typeof t=="string"?Li[t]:t,n}setDetail(t){let n=this.getWritable();return n.__detail=typeof t=="string"?aF[t]:t,n}setStyle(t){let n=this.getWritable();return n.__style=t,n}toggleFormat(t){return t=Li[t],this.setFormat(this.getFormat()^t)}toggleDirectionless(){let t=this.getWritable();return t.__detail^=1,t}toggleUnmergeable(){let t=this.getWritable();return t.__detail^=2,t}setMode(t){if(t=cF[t],this.__mode===t)return this;let n=this.getWritable();return n.__mode=t,n}setTextContent(t){if(this.__text===t)return this;let n=this.getWritable();return n.__text=t,n}select(t,n){Bt();let r=Pe();var o=this.getTextContent();let i=this.__key;if(typeof o=="string"?(o=o.length,t===void 0&&(t=o),n===void 0&&(n=o)):n=t=0,ce(r))o=Ro(),o!==r.anchor.key&&o!==r.focus.key||Ct(i),r.setTextNodeRange(this,t,this,n);else return nb(i,t,i,n,"text","text");return r}spliceText(t,n,r,o){let i=this.getWritable(),s=i.__text,l=r.length,a=t;0>a&&(a=l+a,0>a&&(a=0));let u=Pe();return o&&ce(u)&&(t+=l,u.setTextNodeRange(i,t,i,t)),n=s.slice(0,a)+r+s.slice(a+n),i.__text=n,i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}canContainTabs(){return!1}splitText(...t){Bt();var n=this.getLatest(),r=n.getTextContent(),o=n.__key,i=Ro(),s=new Set(t);t=[];for(var l=r.length,a="",u=0;u<l;u++)a!==""&&s.has(u)&&(t.push(a),a=""),a+=r[u];if(a!==""&&t.push(a),s=t.length,s===0)return[];if(t[0]===r)return[n];var c=t[0];r=n.getParentOrThrow(),u=n.getFormat();let d=n.getStyle(),f=n.__detail;l=!1,n.isSegmented()?(a=kt(c),a.__format=u,a.__style=d,a.__detail=f,l=!0):(a=n.getWritable(),a.__text=c),n=Pe(),a=[a],c=c.length;for(let y=1;y<s;y++){var p=t[y],h=p.length;p=kt(p).getWritable(),p.__format=u,p.__style=d,p.__detail=f;let x=p.__key;if(h=c+h,ce(n)){let g=n.anchor,v=n.focus;g.key===o&&g.type==="text"&&g.offset>c&&g.offset<=h&&(g.key=x,g.offset-=c,n.dirty=!0),v.key===o&&v.type==="text"&&v.offset>c&&v.offset<=h&&(v.key=x,v.offset-=c,n.dirty=!0)}i===o&&Ct(x),c=h,a.push(p)}return o=this.getPreviousSibling(),i=this.getNextSibling(),o!==null&&df(o),i!==null&&df(i),o=r.getWritable(),i=this.getIndexWithinParent(),l?(o.splice(i,0,a),this.remove()):o.splice(i,1,a),ce(n)&&yf(n,r,i,s-1),a}mergeWithSibling(t){var n=t===this.getPreviousSibling();n||t===this.getNextSibling()||Z(50);var r=this.__key;let o=t.__key,i=this.__text,s=i.length;Ro()===o&&Ct(r);let l=Pe();if(ce(l)){let a=l.anchor,u=l.focus;a!==null&&a.key===o&&(hw(a,n,r,t,s),l.dirty=!0),u!==null&&u.key===o&&(hw(u,n,r,t,s),l.dirty=!0)}return r=t.__text,this.setTextContent(n?r+i:i+r),n=this.getWritable(),t.remove(),n}isTextEntity(){return!1}}function LF(e){let t=e.style.fontWeight==="700",n=e.style.textDecoration==="line-through",r=e.style.fontStyle==="italic",o=e.style.textDecoration==="underline",i=e.style.verticalAlign;return{forChild:s=>(J(s)&&(t&&s.toggleFormat("bold"),n&&s.toggleFormat("strikethrough"),r&&s.toggleFormat("italic"),o&&s.toggleFormat("underline"),i==="sub"&&s.toggleFormat("subscript"),i==="super"&&s.toggleFormat("superscript")),s),node:null}}function AF(){return{node:al()}}function FF(e){let t=e.style.fontWeight==="normal";return{forChild:n=>(J(n)&&!t&&n.toggleFormat("bold"),n),node:null}}function zF(e,t,n){return e=e.textContent||"",!n&&/\n/.test(e)&&(e=e.replace(/\r?\n/gm," "),e.trim().length===0)?{node:null}:{node:kt(e)}}let jF={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function yo(e){let t=jF[e.nodeName.toLowerCase()];return t===void 0?{node:null}:{forChild:n=>(J(n)&&!n.hasFormat(t)&&n.toggleFormat(t),n),node:null}}function kt(e=""){return Op(new $l(e))}function J(e){return e instanceof $l}class Ol extends ls{static getType(){return"paragraph"}static clone(t){return new Ol(t.__key)}createDOM(t){let n=document.createElement("p");return t=Ea(t.theme,"paragraph"),t!==void 0&&n.classList.add(...t),n}updateDOM(){return!1}static importDOM(){return{p:()=>({conversion:BF,priority:0})}}exportDOM(t){if({element:t}=super.exportDOM(t),t&&this.isEmpty()&&t.append(document.createElement("br")),t){var n=this.getFormatType();t.style.textAlign=n,(n=this.getDirection())&&(t.dir=n),n=this.getIndent(),0<n&&(t.style.textIndent=`${20*n}px`)}return{element:t}}static importJSON(t){let n=Xi();return n.setFormat(t.format),n.setIndent(t.indent),n.setDirection(t.direction),n}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(t,n){t=Xi();let r=this.getDirection();return t.setDirection(r),this.insertAfter(t,n),t}collapseAtStart(){let t=this.getChildren();if(t.length===0||J(t[0])&&t[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function BF(e){let t=Xi();return e.style&&(t.setFormat(e.style.textAlign),e=parseInt(e.style.textIndent,10)/20,0<e&&t.setIndent(e)),{node:t}}function Xi(){return Op(new Ol)}function ab(e,t,n,r){let o=e._keyToDOMMap;o.clear(),e._editorState=Pv(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null,r=e._observer,r!==null&&(r.disconnect(),e._observer=null),t!==null&&(t.textContent=""),n!==null&&(n.textContent="",o.set("root",n))}function WF(e){let t=new Map,n=new Set;return e.forEach(r=>{if(r=r.klass.importDOM!=null?r.klass.importDOM.bind(r.klass):null,r!=null&&!n.has(r)){n.add(r);var o=r();o!==null&&Object.keys(o).forEach(i=>{let s=t.get(i);s===void 0&&(s=[],t.set(i,s)),s.push(o[i])})}}),t}class UF{constructor(t,n,r,o,i,s){this._parentEditor=n,this._rootElement=null,this._editorState=t,this._compositionKey=this._pendingEditorState=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=o,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=PC(),this._onError=i,this._htmlConversions=s,this._editable=!0,this._headless=n!==null&&n._headless,this._blockCursorElement=this._window=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(t){let n=this._listeners.update;return n.add(t),()=>{n.delete(t)}}registerEditableListener(t){let n=this._listeners.editable;return n.add(t),()=>{n.delete(t)}}registerDecoratorListener(t){let n=this._listeners.decorator;return n.add(t),()=>{n.delete(t)}}registerTextContentListener(t){let n=this._listeners.textcontent;return n.add(t),()=>{n.delete(t)}}registerRootListener(t){let n=this._listeners.root;return t(this._rootElement,null),n.add(t),()=>{t(null,this._rootElement),n.delete(t)}}registerCommand(t,n,r){r===void 0&&Z(35);let o=this._commands;o.has(t)||o.set(t,[new Set,new Set,new Set,new Set,new Set]);let i=o.get(t);i===void 0&&Z(36);let s=i[r];return s.add(n),()=>{s.delete(n),i.every(l=>l.size===0)&&o.delete(t)}}registerMutationListener(t,n){this._nodes.get(t.getType())===void 0&&Z(37);let r=this._listeners.mutation;return r.set(n,t),()=>{r.delete(n)}}registerNodeTransformToKlass(t,n){return t=t.getType(),t=this._nodes.get(t),t===void 0&&Z(37),t.transforms.add(n),t}registerNodeTransform(t,n){var r=this.registerNodeTransformToKlass(t,n);let o=[r];return r=r.replaceWithKlass,r!=null&&(r=this.registerNodeTransformToKlass(r,n),o.push(r)),gF(this,t.getType()),()=>{o.forEach(i=>i.transforms.delete(n))}}hasNodes(t){for(let n=0;n<t.length;n++){let r=t[n].getType();if(!this._nodes.has(r))return!1}return!0}dispatchCommand(t,n){return Q(this,t,n)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(t){let n=this._rootElement;if(t!==n){let i=Ea(this._config.theme,"root");var r=this._pendingEditorState||this._editorState;if(this._rootElement=t,ab(this,n,t,r),n!==null){if(!this._config.disableEvents){if(ka!==0&&(ka--,ka===0&&n.ownerDocument.removeEventListener("selectionchange",XC)),r=n.__lexicalEditor,r!=null){if(r._parentEditor!==null){var o=bv(r);o=o[o.length-1]._key,Ks.get(o)===r&&Ks.delete(o)}else Ks.delete(r._key);n.__lexicalEditor=null}for(r=qC(n),o=0;o<r.length;o++)r[o]();n.__lexicalEventHandles=[]}i!=null&&n.classList.remove(...i)}t!==null?(r=(r=t.ownerDocument)&&r.defaultView||null,o=t.style,o.userSelect="text",o.whiteSpace="pre-wrap",o.wordBreak="break-word",t.setAttribute("data-lexical-editor","true"),this._window=r,this._dirtyType=2,CC(this),this._updateTags.add("history-merge"),Fi(this),this._config.disableEvents||$F(t,this),i!=null&&t.classList.add(...i)):this._window=null,ba("root",this,!1,t,n)}}getElementByKey(t){return this._keyToDOMMap.get(t)||null}getEditorState(){return this._editorState}setEditorState(t,n){t.isEmpty()&&Z(38),kC(this);let r=this._pendingEditorState,o=this._updateTags;n=n!==void 0?n.tag:null,r===null||r.isEmpty()||(n!=null&&o.add(n),Fi(this)),this._pendingEditorState=t,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,n!=null&&o.add(n),Fi(this)}parseEditorState(t,n){t=typeof t=="string"?JSON.parse(t):t;let r=Pv(),o=yt,i=rn,s=vt,l=this._dirtyElements,a=this._dirtyLeaves,u=this._cloneNotNeeded,c=this._dirtyType;this._dirtyElements=new Map,this._dirtyLeaves=new Set,this._cloneNotNeeded=new Set,this._dirtyType=0,yt=r,rn=!1,vt=this;try{Rv(t.root,this._nodes),n&&n(),r._readOnly=!0}catch(d){d instanceof Error&&this._onError(d)}finally{this._dirtyElements=l,this._dirtyLeaves=a,this._cloneNotNeeded=u,this._dirtyType=c,yt=o,rn=i,vt=s}return r}update(t,n){vn(this,t,n)}focus(t,n={}){let r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),vn(this,()=>{let o=Pe(),i=fo();o!==null?o.dirty=!0:i.getChildrenSize()!==0&&(n.defaultSelection==="rootStart"?i.selectStart():i.selectEnd())},{onUpdate:()=>{r.removeAttribute("autocapitalize"),t&&t()},tag:"focus"}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){var t=this._rootElement;t!==null&&t.blur(),t=Rr(this._window),t!==null&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(t){this._editable!==t&&(this._editable=t,ba("editable",this,!0,t))}toJSON(){return{editorState:this._editorState.toJSON()}}}class Dv extends ls{constructor(t,n){super(n),this.__colSpan=t,this.__rowSpan=1}exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan}}setColSpan(t){return this.getWritable().__colSpan=t,this}setRowSpan(t){return this.getWritable().__rowSpan=t,this}}function xr(e){return e instanceof Dv}class ub extends ls{}function Mv(e){return e instanceof ub}class cb extends ls{}function gu(e){return e instanceof cb}L.$addUpdateTag=function(e){Bt(),et()._updateTags.add(e)};L.$applyNodeReplacement=Op;L.$copyNode=LC;L.$createLineBreakNode=al;L.$createNodeSelection=a0;L.$createParagraphNode=Xi;L.$createRangeSelection=function(){let e=new Or("root",0,"element"),t=new Or("root",0,"element");return new ss(e,t,0,"")};L.$createTextNode=kt;L.$getAdjacentNode=Yg;L.$getNearestNodeFromDOMNode=Qu;L.$getNearestRootOrShadowRoot=MC;L.$getNodeByKey=gt;L.$getPreviousSelection=Xu;L.$getRoot=fo;L.$getSelection=Pe;L.$getTextContent=function(){let e=Pe();return e===null?"":e.getTextContent()};L.$hasAncestor=hf;L.$insertNodes=function(e,t){let n=Pe();return n===null&&(n=fo().selectEnd()),n.insertNodes(e,t)};L.$isDecoratorNode=Re;L.$isElementNode=j;L.$isInlineElementOrDecoratorNode=function(e){return j(e)&&e.isInline()||Re(e)&&e.isInline()};L.$isLeafNode=TC;L.$isLineBreakNode=mu;L.$isNodeSelection=qu;L.$isParagraphNode=function(e){return e instanceof Ol};L.$isRangeSelection=ce;L.$isRootNode=Xt;L.$isRootOrShadowRoot=Gn;L.$isTextNode=J;L.$nodesOfType=function(e){var t=Pr();let n=t._readOnly,r=e.getType();t=t._nodeMap;let o=[];for(let[,i]of t)i instanceof e&&i.__type===r&&(n||i.isAttached())&&o.push(i);return o};L.$normalizeSelection__EXPERIMENTAL=jC;L.$parseSerializedNode=function(e){return Rv(e,et()._nodes)};L.$setCompositionKey=Ct;L.$setSelection=ei;L.$splitNode=AC;L.BLUR_COMMAND=_C;L.CAN_REDO_COMMAND={};L.CAN_UNDO_COMMAND={};L.CLEAR_EDITOR_COMMAND={};L.CLEAR_HISTORY_COMMAND={};L.CLICK_COMMAND=rC;L.COMMAND_PRIORITY_CRITICAL=4;L.COMMAND_PRIORITY_EDITOR=0;L.COMMAND_PRIORITY_HIGH=3;L.COMMAND_PRIORITY_LOW=1;L.COMMAND_PRIORITY_NORMAL=2;L.CONTROLLED_TEXT_INSERTION_COMMAND=Vs;L.COPY_COMMAND=xv;L.CUT_COMMAND=wv;L.DELETE_CHARACTER_COMMAND=au;L.DELETE_LINE_COMMAND=cu;L.DELETE_WORD_COMMAND=uu;L.DEPRECATED_$computeGridMap=ob;L.DEPRECATED_$createGridSelection=function(){let e=new Or("root",0,"element"),t=new Or("root",0,"element");return new Pp("root",e,t)};L.DEPRECATED_$getNodeTriplet=function(e){if(!(e instanceof Dv)){if(e instanceof Ju){if(e=mf(e,xr),!xr(e))throw Error("Expected to find a parent GridCellNode")}else if(e=mf(e.getNode(),xr),!xr(e))throw Error("Expected to find a parent GridCellNode")}let t=e.getParent();if(!gu(t))throw Error("Expected GridCellNode to have a parent GridRowNode");let n=t.getParent();if(!Mv(n))throw Error("Expected GridRowNode to have a parent GridNode");return[e,t,n]};L.DEPRECATED_$isGridCellNode=xr;L.DEPRECATED_$isGridNode=Mv;L.DEPRECATED_$isGridRowNode=gu;L.DEPRECATED_$isGridSelection=Iv;L.DEPRECATED_GridCellNode=Dv;L.DEPRECATED_GridNode=ub;L.DEPRECATED_GridRowNode=cb;L.DRAGEND_COMMAND=xC;L.DRAGOVER_COMMAND=vC;L.DRAGSTART_COMMAND=yC;L.DROP_COMMAND=gC;L.DecoratorNode=sb;L.ElementNode=ls;L.FOCUS_COMMAND=wC;L.FORMAT_ELEMENT_COMMAND={};L.FORMAT_TEXT_COMMAND=Io;L.INDENT_CONTENT_COMMAND={};L.INSERT_LINE_BREAK_COMMAND=Sa;L.INSERT_PARAGRAPH_COMMAND=Vg;L.KEY_ARROW_DOWN_COMMAND=cC;L.KEY_ARROW_LEFT_COMMAND=lC;L.KEY_ARROW_RIGHT_COMMAND=iC;L.KEY_ARROW_UP_COMMAND=uC;L.KEY_BACKSPACE_COMMAND=fC;L.KEY_DELETE_COMMAND=hC;L.KEY_DOWN_COMMAND=oC;L.KEY_ENTER_COMMAND=af;L.KEY_ESCAPE_COMMAND=pC;L.KEY_MODIFIER_COMMAND=SC;L.KEY_SPACE_COMMAND=dC;L.KEY_TAB_COMMAND=mC;L.LineBreakNode=Tl;L.MOVE_TO_END=sC;L.MOVE_TO_START=aC;L.OUTDENT_CONTENT_COMMAND={};L.PASTE_COMMAND=gv;L.ParagraphNode=Ol;L.REDO_COMMAND=vv;L.REMOVE_TEXT_COMMAND=Kg;L.RootNode=Nl;L.SELECTION_CHANGE_COMMAND=mv;L.TextNode=$l;L.UNDO_COMMAND=yv;L.createCommand=function(){return{}};L.createEditor=function(e){var t=e||{},n=vt,r=t.theme||{};let o=e===void 0?n:t.parentEditor||null,i=t.disableEvents||!1,s=Pv(),l=t.namespace||(o!==null?o._config.namespace:PC()),a=t.editorState,u=[Nl,$l,Tl,Ol,...t.nodes||[]],c=t.onError;if(t=t.editable!==void 0?t.editable:!0,e===void 0&&n!==null)e=n._nodes;else for(e=new Map,n=0;n<u.length;n++){let f=u[n],p=null;var d=null;typeof f!="function"&&(d=f,f=d.replace,p=d.with,d=d.withKlass?d.withKlass:null);let h=f.getType(),y=f.transform(),x=new Set;y!==null&&x.add(y),e.set(h,{klass:f,replace:p,replaceWithKlass:d,transforms:x})}return r=new UF(s,o,e,{disableEvents:i,namespace:l,theme:r},c||console.error,WF(e),t),a!==void 0&&(r._pendingEditorState=a,r._dirtyType=2),r};L.getNearestEditorFromDOMNode=Cv;L.isSelectionWithinEditor=Yu;const HF=L;var C=HF;const ec=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VF=ec&&"documentMode"in document?document.documentMode:null,KF=ec&&"InputEvent"in window&&!VF?"getTargetRanges"in new window.InputEvent("input"):!1,GF=ec&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),ZF=ec&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Mp=ec?_.useLayoutEffect:_.useEffect,u0=_.createContext(null),db="initialize";function Me(){const e=_.useContext(u0);if(e==null)throw new Error("useEditorContext: cannot find an EditorContext");return e}function YF({initialConfig:e,children:t,initialize:n,nodes:r}){const o=_.useContext(u0),i=_.useMemo(()=>{const{theme:s,namespace:l,onError:a}=e,u=C.createEditor({editable:!1,namespace:l,nodes:r,onError:c=>a(c,u),theme:s,parentEditor:o||void 0});return u.update(()=>{n()},{tag:db}),u},[o]);return Mp(()=>{const s=e.editable;i.setEditable(s!==void 0?s:!0)},[]),m(u0.Provider,{value:i,children:t})}const QF=()=>{const e=Me(),[t,n]=w.useState(!1);return Mp(()=>(n(e.isEditable()),e.registerEditableListener(r=>{n(r)})),[e]),t};function JF(e){const t=Me(),n=_.useCallback(o=>{t.setRootElement(o)},[t]),r=QF();return m("div",{...e,contentEditable:r,ref:n})}var _t={},oe=C;let xf=new Map;function ww(e){for(;e!=null;){if(e.nodeType===Node.TEXT_NODE)return e;e=e.firstChild}return null}function _w(e){let t=e.parentNode;if(t==null)throw Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(e)]}function fb(e){let t={};e=e.split(";");for(let n of e)if(n!==""){let[r,o]=n.split(/:([^]+)/);t[r.trim()]=o.trim()}return t}function wf(e){let t=xf.get(e);return t===void 0&&(t=fb(e),xf.set(e,t)),t}function qF(e){let t="";for(let n in e)n&&(t+=`${n}: ${e[n]};`);return t}function hs(e,t){var n=wf("getStyle"in e?e.getStyle():e.style);t=Object.entries(t).reduce((r,[o,i])=>(i===null?delete r[o]:r[o]=i,r),{...n}),n=qF(t),e.setStyle(n),xf.set(n,t)}function XF(e){for(;e!==null&&!oe.$isRootOrShadowRoot(e);){let t=e.getLatest(),n=e.getParent();t.getChildrenSize()===0&&e.remove(!0),e=n}}function rm(e,t,n,r,o=null){if(t.length!==0){var i=t[0],s=new Map,l=[];i=oe.$isElementNode(i)?i:i.getParentOrThrow(),i.isInline()&&(i=i.getParentOrThrow());for(var a=!1;i!==null;){var u=i.getPreviousSibling();if(u!==null){i=u,a=!0;break}if(i=i.getParentOrThrow(),oe.$isRootOrShadowRoot(i))break}u=new Set;for(var c=0;c<n;c++){var d=t[c];oe.$isElementNode(d)&&d.getChildrenSize()===0&&u.add(d.getKey())}var f=new Set;for(c=0;c<n;c++){d=t[c];var p=d.getParent();if(p!==null&&p.isInline()&&(p=p.getParent()),p!==null&&oe.$isLeafNode(d)&&!f.has(d.getKey())){if(d=p.getKey(),s.get(d)===void 0){let h=r();h.setFormat(p.getFormatType()),h.setIndent(p.getIndent()),l.push(h),s.set(d,h),p.getChildren().forEach(y=>{h.append(y),f.add(y.getKey()),oe.$isElementNode(y)&&y.getChildrenKeys().forEach(x=>f.add(x))}),XF(p)}}else u.has(d.getKey())&&(p=r(),p.setFormat(d.getFormatType()),p.setIndent(d.getIndent()),l.push(p),d.remove(!0))}if(o!==null)for(t=0;t<l.length;t++)o.append(l[t]);if(t=null,oe.$isRootOrShadowRoot(i))if(a)if(o!==null)i.insertAfter(o);else for(o=l.length-1;0<=o;o--)i.insertAfter(l[o]);else if(a=i.getFirstChild(),oe.$isElementNode(a)&&(i=a),a===null)if(o)i.append(o);else for(o=0;o<l.length;o++)a=l[o],i.append(a),t=a;else if(o!==null)a.insertBefore(o);else for(i=0;i<l.length;i++)o=l[i],a.insertBefore(o),t=o;else if(o)i.insertAfter(o);else for(o=l.length-1;0<=o;o--)a=l[o],i.insertAfter(a),t=a;l=oe.$getPreviousSelection(),oe.$isRangeSelection(l)&&l.anchor.getNode().isAttached()&&l.focus.getNode().isAttached()?oe.$setSelection(l.clone()):t!==null?t.selectEnd():e.dirty=!0}}function pb(e,t,n,r){e.modify(t?"extend":"move",n,r)}function hb(e){return e=e.anchor.getNode(),(oe.$isRootNode(e)?e:e.getParentOrThrow()).getDirection()==="rtl"}_t.$addNodeStyle=function(e){e=e.getStyle();let t=fb(e);xf.set(e,t)};_t.$cloneWithProperties=function(e){e=e.getLatest();let t=e.constructor.clone(e);return t.__parent=e.__parent,t.__next=e.__next,t.__prev=e.__prev,oe.$isElementNode(e)&&oe.$isElementNode(t)?(t.__first=e.__first,t.__last=e.__last,t.__size=e.__size,t.__format=e.__format,t.__indent=e.__indent,t.__dir=e.__dir,t):(oe.$isTextNode(e)&&oe.$isTextNode(t)&&(t.__format=e.__format,t.__style=e.__style,t.__mode=e.__mode,t.__detail=e.__detail),t)};_t.$getSelectionStyleValueForProperty=function(e,t,n=""){let r=null,o=e.getNodes();var i=e.anchor,s=e.focus,l=e.isBackward();let a=l?s.offset:i.offset;if(i=l?s.getNode():i.getNode(),e.style!==""&&(e=wf(e.style),e!==null&&t in e))return e[t];for(e=0;e<o.length;e++){var u=o[e];if((e===0||a!==0||!u.is(i))&&oe.$isTextNode(u)){if(s=t,l=n,u=u.getStyle(),u=wf(u),s=u!==null&&u[s]||l,r===null)r=s;else if(r!==s){r="";break}}}return r===null?n:r};_t.$isAtNodeEnd=function(e){return e.type==="text"?e.offset===e.getNode().getTextContentSize():e.offset===e.getNode().getChildrenSize()};_t.$isParentElementRTL=hb;_t.$moveCaretSelection=pb;_t.$moveCharacter=function(e,t,n){let r=hb(e);pb(e,t,n?!r:r,"character")};_t.$patchStyleText=function(e,t){var n=e.getNodes();let r=n.length-1,o=n[0],i=n[r];if(e.isCollapsed())hs(e,t);else{var s=e.anchor,l=e.focus,a=o.getTextContent().length,u=l.offset,c=s.offset,d=s.isBefore(l),f=d?c:u;e=d?u:c;var p=d?s.type:l.type,h=d?l.type:s.type;if(s=d?l.key:s.key,oe.$isTextNode(o)&&f===a&&(l=o.getNextSibling(),oe.$isTextNode(l)&&(f=c=0,o=l)),n.length===1)oe.$isTextNode(o)&&(f=p==="element"?0:c>u?u:c,e=h==="element"?a:c>u?c:u,f!==e&&(f===0&&e===a?(hs(o,t),o.select(f,e)):(n=o.splitText(f,e),n=f===0?n[0]:n[1],hs(n,t),n.select(0,e-f))));else for(oe.$isTextNode(o)&&f<o.getTextContentSize()&&(f!==0&&(o=o.splitText(f)[1]),hs(o,t)),oe.$isTextNode(i)&&(f=i.getTextContent().length,i.__key!==s&&e!==0&&(e=f),e!==f&&([i]=i.splitText(e)),e!==0&&hs(i,t)),e=1;e<r;e++)f=n[e],a=f.getKey(),oe.$isTextNode(f)&&a!==o.getKey()&&a!==i.getKey()&&!f.isToken()&&hs(f,t)}};_t.$selectAll=function(e){let t=e.anchor;e=e.focus;var n=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();let r=n.getFirstDescendant();n=n.getLastDescendant();let o="element",i="element",s=0;oe.$isTextNode(r)?o="text":oe.$isElementNode(r)||r===null||(r=r.getParentOrThrow()),oe.$isTextNode(n)?(i="text",s=n.getTextContentSize()):oe.$isElementNode(n)||n===null||(n=n.getParentOrThrow()),r&&n&&(t.set(r.getKey(),0,o),e.set(n.getKey(),s,i))};_t.$setBlocksType=function(e,t){if(e.anchor.key==="root"){t=t();var n=oe.$getRoot();(e=n.getFirstChild())?e.replace(t,!0):n.append(t)}else for(n=e.getNodes(),e=e.anchor.getNode().getParentOrThrow(),n.indexOf(e)===-1&&n.push(e),e.isInline()&&(e=e.getParentOrThrow(),n.indexOf(e)===-1&&n.push(e)),e=0;e<n.length;e++){let i=n[e];var r=i;if(!oe.$isElementNode(r)||oe.$isRootOrShadowRoot(r))r=!1;else{var o=r.getFirstChild();o=o===null||oe.$isTextNode(o)||o.isInline(),r=!r.isInline()&&r.canBeEmpty()!==!1&&o}r&&(r=t(),r.setFormat(i.getFormatType()),r.setIndent(i.getIndent()),i.replace(r,!0))}};_t.$shouldOverrideDefaultCharacterSelection=function(e,t){return e=oe.$getAdjacentNode(e.focus,t),oe.$isDecoratorNode(e)&&!e.isIsolated()||oe.$isElementNode(e)&&!e.isInline()&&!e.canBeEmpty()};_t.$sliceSelectedTextNodeContent=function(e,t){if(t.isSelected()&&!t.isSegmented()&&!t.isToken()&&(oe.$isRangeSelection(e)||oe.DEPRECATED_$isGridSelection(e))){var n=e.anchor.getNode(),r=e.focus.getNode(),o=t.is(n),i=t.is(r);if(o||i){o=e.isBackward();let[s,l]=e.getCharacterOffsets();e=n.is(r),i=t.is(o?r:n),r=t.is(o?n:r),n=0;let a;e?(n=s>l?l:s,a=s>l?s:l):i?(n=o?l:s,a=void 0):r&&(o=o?s:l,n=0,a=o),t.__text=t.__text.slice(n,a)}}return t};_t.$wrapNodes=function(e,t,n=null){var r=e.getNodes();let o=r.length;var i=e.anchor;if(o===0||o===1&&i.type==="element"&&i.getNode().getChildrenSize()===0){e=i.type==="text"?i.getNode().getParentOrThrow():i.getNode(),r=e.getChildren();let l=t();l.setFormat(e.getFormatType()),l.setIndent(e.getIndent()),r.forEach(a=>l.append(a)),n&&(l=n.append(l)),e.replace(l)}else{i=null;var s=[];for(let l=0;l<o;l++){let a=r[l];oe.$isRootOrShadowRoot(a)?(rm(e,s,s.length,t,n),s=[],i=a):i===null||i!==null&&oe.$hasAncestor(a,i)?s.push(a):(rm(e,s,s.length,t,n),s=[a])}rm(e,s,s.length,t,n)}};_t.createDOMRange=function(e,t,n,r,o){let i=t.getKey(),s=r.getKey(),l=document.createRange(),a=e.getElementByKey(i);if(e=e.getElementByKey(s),oe.$isTextNode(t)&&(a=ww(a)),oe.$isTextNode(r)&&(e=ww(e)),t===void 0||r===void 0||a===null||e===null)return null;a.nodeName==="BR"&&([a,n]=_w(a)),e.nodeName==="BR"&&([e,o]=_w(e)),t=a.firstChild,a===e&&t!=null&&t.nodeName==="BR"&&n===0&&o===0&&(o=1);try{l.setStart(a,n),l.setEnd(e,o)}catch{return null}return!l.collapsed||n===o&&i===s||(l.setStart(e,o),l.setEnd(a,n)),l};_t.createRectsFromDOMRange=function(e,t){var n=e.getRootElement();if(n===null)return[];e=n.getBoundingClientRect(),n=getComputedStyle(n),n=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t=Array.from(t.getClientRects());let r=t.length,o;for(let i=0;i<r;i++){let s=t[i],l=s.width+n===e.width;o&&o.top===s.top&&o.left===s.left&&o.width===s.width&&o.height===s.height||l?(t.splice(i--,1),r--):o=s}return t};_t.getStyleObjectFromCSS=wf;_t.trimTextContentFromAnchor=function(e,t,n){let r=t.getNode();if(oe.$isElementNode(r)){var o=r.getDescendantByIndex(t.offset);o!==null&&(r=o)}for(;0<n&&r!==null;){var i=r.getPreviousSibling(),s=0;if(i===null){o=r.getParentOrThrow();for(var l=o.getPreviousSibling();l===null;){if(o=o.getParent(),o===null){i=null;break}l=o.getPreviousSibling()}o!==null&&(s=o.isInline()?0:2,i=oe.$isElementNode(l)?l.getLastDescendant():l)}if(l=r.getTextContent(),l===""&&oe.$isElementNode(r)&&!r.isInline()&&(l=`

`),o=r.getTextContentSize(),!oe.$isTextNode(r)||n>=o)l=r.getParent(),r.remove(),l==null||l.getChildrenSize()!==0||oe.$isRootNode(l)||l.remove(),n-=o+s,r=i;else{let a=r.getKey();s=e.getEditorState().read(()=>{const c=oe.$getNodeByKey(a);return oe.$isTextNode(c)&&c.isSimpleText()?c.getTextContent():null}),i=o-n;let u=l.slice(0,i);s!==null&&s!==l?(n=oe.$getPreviousSelection(),o=r,r.isSimpleText()?r.setTextContent(s):(o=oe.$createTextNode(s),r.replace(o)),oe.$isRangeSelection(n)&&n.isCollapsed()&&(n=n.anchor.offset,o.select(n,n))):r.isSimpleText()?(s=t.key===a,l=t.offset,l<n&&(l=o),n=s?l-n:0,o=s?l:i,s&&n===0?([n]=r.splitText(n,o),n.remove()):([,n]=r.splitText(n,o),n.remove())):(n=oe.$createTextNode(u),r.replace(n)),n=0}}};const e6=_t;var Ac=e6;function Ir(...e){return()=>{e.forEach(t=>t())}}function t6(e,t={}){return Ir(e.registerCommand(C.DELETE_CHARACTER_COMMAND,r=>{const o=C.$getSelection();return C.$isRangeSelection(o)?(o.deleteCharacter(r),!0):!1},C.COMMAND_PRIORITY_EDITOR),e.registerCommand(C.DELETE_WORD_COMMAND,r=>{const o=C.$getSelection();return C.$isRangeSelection(o)?(o.deleteWord(r),!0):!1},C.COMMAND_PRIORITY_EDITOR),e.registerCommand(C.DELETE_LINE_COMMAND,r=>{const o=C.$getSelection();return C.$isRangeSelection(o)?(o.deleteLine(r),!0):!1},C.COMMAND_PRIORITY_EDITOR),e.registerCommand(C.REMOVE_TEXT_COMMAND,()=>{const r=C.$getSelection();return C.$isRangeSelection(r)?(r.removeText(),!0):!1},C.COMMAND_PRIORITY_EDITOR),e.registerCommand(C.FORMAT_TEXT_COMMAND,r=>{const o=C.$getSelection();return!C.$isRangeSelection(o)||o.getNodes().some(s=>!C.$isTextNode(s))?!1:(o.formatText(r),!0)},C.COMMAND_PRIORITY_EDITOR),e.registerCommand(C.CONTROLLED_TEXT_INSERTION_COMMAND,r=>{const o=C.$getSelection();if(!C.$isRangeSelection(o))return!1;if(typeof r=="string")o.insertText(r);else{const i=r.dataTransfer;if(i!=null){const s=i.getData("text/plain");s!=null&&o.insertRawText(s)}else{const s=r.data;s&&o.insertText(s)}}return!0},C.COMMAND_PRIORITY_EDITOR),...t.allowLineBreaks?[e.registerCommand(C.INSERT_LINE_BREAK_COMMAND,r=>{const o=C.$getSelection();return C.$isRangeSelection(o)?(o.insertLineBreak(r),!0):!1},C.COMMAND_PRIORITY_EDITOR),e.registerCommand(C.INSERT_PARAGRAPH_COMMAND,()=>{const r=C.$getSelection();return C.$isRangeSelection(r)?(r.insertParagraph(),!0):!1},C.COMMAND_PRIORITY_EDITOR)]:[],e.registerCommand(C.KEY_ARROW_LEFT_COMMAND,r=>{const o=C.$getSelection();if(C.$isNodeSelection(o)){const i=o.getNodes();if(i.length>0)return r.preventDefault(),i[0].selectPrevious(),!0}if(!C.$isRangeSelection(o))return!1;if(Ac.$shouldOverrideDefaultCharacterSelection(o,!0)){const i=r.shiftKey;return r.preventDefault(),Ac.$moveCharacter(o,i,!0),!0}return!1},C.COMMAND_PRIORITY_EDITOR),e.registerCommand(C.KEY_ARROW_RIGHT_COMMAND,r=>{const o=C.$getSelection();if(C.$isNodeSelection(o)){const i=o.getNodes();if(i.length>0)return r.preventDefault(),i[0].selectNext(0,0),!0}if(!C.$isRangeSelection(o))return!1;if(Ac.$shouldOverrideDefaultCharacterSelection(o,!1)){const i=r.shiftKey;return r.preventDefault(),Ac.$moveCharacter(o,i,!1),!0}return!1},C.COMMAND_PRIORITY_EDITOR),e.registerCommand(C.KEY_ARROW_DOWN_COMMAND,()=>{const r=C.$getSelection();if(C.$isNodeSelection(r)){const o=r.getNodes();if(o.length>0)return o[0].selectNext(0,0),!0}return!1},C.COMMAND_PRIORITY_EDITOR),e.registerCommand(C.KEY_ARROW_UP_COMMAND,r=>{const o=C.$getSelection();if(C.$isNodeSelection(o)){const i=o.getNodes();if(i.length>0)return i[0].selectPrevious(),!0}return!1},C.COMMAND_PRIORITY_EDITOR),e.registerCommand(C.KEY_BACKSPACE_COMMAND,r=>{const o=C.$getSelection();return C.$isRangeSelection(o)?(r.preventDefault(),e.dispatchCommand(C.DELETE_CHARACTER_COMMAND,!0)):!1},C.COMMAND_PRIORITY_EDITOR),e.registerCommand(C.KEY_DELETE_COMMAND,r=>{const o=C.$getSelection();return C.$isRangeSelection(o)?(r.preventDefault(),e.dispatchCommand(C.DELETE_CHARACTER_COMMAND,!1)):!1},C.COMMAND_PRIORITY_EDITOR),e.registerCommand(C.KEY_ENTER_COMMAND,r=>{try{const o=C.$getSelection();let i=!1;if(C.$isNodeSelection(o)){const s=o.getNodes();if(s.length){const l=s[s.length-1],a=C.$createParagraphNode(),u=C.$createTextNode();a.append(u),r!=null&&r.shiftKey?(l.insertBefore(a,!1),a.select()):(l.insertAfter(a,!1),a.select()),i=!0}}else if(!C.$isRangeSelection(o))return!1;if(r!==null){if((ZF||GF)&&KF)return!1;r.preventDefault()}return i?!0:e.dispatchCommand(C.INSERT_PARAGRAPH_COMMAND,void 0)}catch(o){return console.error(o),!1}},C.COMMAND_PRIORITY_EDITOR))}const _f=(e,t,n)=>{let r;const o=GI(n.library,t);return"configs"in n?r=ai(o,n.configs):r=n.config,r?{id:e,element:o,...r.inline&&{inline:!0}}:{id:e,element:o}};function ms(e){const t=e.nodeName.toLowerCase();let n=null;return(t==="h1"||t==="h2"||t==="h3"||t==="h4"||t==="h5"||t==="h6")&&(n=Ni(t)),{node:n}}class Il extends C.ElementNode{constructor(t,n){super(n),this.__tag=t}static getType(){return"heading"}static clone(t){return new Il(t.__tag,t.__key)}getTag(){return this.__tag}createDOM(){const t=this.__tag;return document.createElement(t)}updateDOM(t,n){return!1}static importDOM(){return{h1:t=>({conversion:ms,priority:0}),h2:t=>({conversion:ms,priority:0}),h3:t=>({conversion:ms,priority:0}),h4:t=>({conversion:ms,priority:0}),h5:t=>({conversion:ms,priority:0}),h6:t=>({conversion:ms,priority:0}),p:t=>{const r=t.firstChild;return r!==null&&Sw(r)?{conversion:()=>({node:null}),priority:3}:null},span:t=>Sw(t)?{conversion:n=>({node:Ni("h1")}),priority:3}:null}}static importJSON(t){const n=Ni(t.tag);return n.setFormat(t.format),n.setIndent(t.indent),n.setDirection(t.direction),n}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(t,n=!0){const r=t?t.anchor.offset:0,o=r>0&&r<this.getTextContentSize()?Ni(this.getTag()):C.$createParagraphNode(),i=this.getDirection();return o.setDirection(i),this.insertAfter(o,n),o}collapseAtStart(){const t=this.isEmpty()?C.$createParagraphNode():Ni(this.getTag());return this.getChildren().forEach(r=>t.append(r)),this.replace(t),!0}extractWithChild(){return!0}}function Sw(e){return e.nodeName.toLowerCase()==="span"?e.style.fontSize==="26pt":!1}function Ni(e){return C.$applyNodeReplacement(new Il(e))}function ul(e){return e instanceof Il}const Lv=w.createContext(null);function tc({children:e}){const t=w.useState(!1);return m(Lv.Provider,{value:t,children:e})}function n6(){const e=Me(),[,t]=ct(Lv,"EditorFocus");return w.useEffect(()=>{const n=()=>(t(Ew(e)),!1);return Ir(e.registerCommand(C.FOCUS_COMMAND,n,C.COMMAND_PRIORITY_EDITOR),e.registerCommand(C.BLUR_COMMAND,n,C.COMMAND_PRIORITY_EDITOR))},[e]),w.useLayoutEffect(()=>{t(Ew(e))},[]),null}function po(){return ct(Lv,"EditorFocus")[0]}function Ew(e){return(document==null?void 0:document.activeElement)===e.getRootElement()}const Gt=e=>{const t=Me(),n=po(),[r,o]=w.useState(!1),i=r&&n,[s,l]=w.useState(!1),a=w.useCallback(c=>{if(i&&C.$isNodeSelection(C.$getSelection())){c.preventDefault();const d=C.$getNodeByKey(e);if(d){const f=d.getPreviousSibling();C.$isDecoratorNode(f)?jw(f.getKey()):d.selectPrevious(),d.remove()}}return!1},[i,e]);return w.useEffect(()=>Ir(t.registerUpdateListener(({editorState:c})=>{const[d,f]=c.read(()=>{var x;const p=C.$getSelection();let h=!1,y=!1;if(C.$isNodeSelection(p)||C.$isRangeSelection(p)&&!p.isCollapsed())h=p.getNodes().some(g=>g.__key===e);else if(C.$isRangeSelection(p)&&p.isCollapsed()&&p.anchor.type==="element"){const g=((x=p.anchor.getNode())==null?void 0:x.getChildAtIndex(p.anchor.offset))??null;y=g!==null&&g.__key===e}return[h,y]});o(d),l(f)}),t.registerCommand(C.BLUR_COMMAND,()=>(o(!1),!1),C.COMMAND_PRIORITY_EDITOR),t.registerCommand(C.KEY_DELETE_COMMAND,a,C.COMMAND_PRIORITY_LOW),t.registerCommand(C.KEY_BACKSPACE_COMMAND,a,C.COMMAND_PRIORITY_LOW)),[t,e,a]),{isSelected:i,isPseudoSelected:s,select:()=>{var c;(c=t.getRootElement())==null||c.focus(),t.update(()=>{jw(e)})}}};class Ft extends C.DecoratorNode{constructor(t,n,r){super(r),this.__type=t,this.__token=n}createDOM(){const t=document.createElement("div");return t.setAttribute(`data-lexical-${this.__type}`,"true"),t}updateDOM(){return!1}isInline(){return!1}getTextContent(){return"#"}getTokenStream(){return[this.getLatest().__token]}setToken(t){const n=this.getWritable();n.__token=t}getToken(){return this.getLatest().__token}exportJSON(){const t=this.getLatest();return{type:t.__type,token:t.__token,version:1}}exportDOM(){const t=document.createElement("div");return t.setAttribute(`data-lexical-${this.__type}`,"true"),t.textContent="%",{element:t}}decorate(){throw new Error("Must be implemented by subclass")}}function Lp(e){return e instanceof Ft}const mb=w.createContext(null),Ap=()=>w.useContext(mb);function r6({value:e,nodeKey:t}){const{isSelected:n,select:r}=Gt(t),o=w.useRef(!1);ot();let i=Ap();const s=Xo(i),l=Boolean(s);let a=[];if(Ci(e.id))a=[{id:e.id,record:{}}];else{const{doc:f}=rs(e.id);a=[{id:e.id,record:(f==null?void 0:f.record)??{}}]}const u=Ci(e.id)?P("bg-sky-100 text-sky-800 dark:bg-sky-900 dark:text-sky-200",!n&&"ring-1 ring-sky-200 dark:ring-sky-800",l&&"child:divide-x child:divide-sky-200 child:dark:divide-sky-800"):P("bg-gradient-to-b from-teal-800/90 to-teal-900/90 text-teal-200",!n&&"ring-1 ring-teal-200 dark:ring-teal-800",l&&"child:divide-x child:divide-teal-200 child:dark:divide-teal-800"),c=Ci(e.id)?Bu:xl,{record:d}=is();return m("div",{className:"",children:N("div",{className:P("relative","rounded text-sm selection:bg-transparent",n&&"ring-1 ring-white",u),onMouseDown:()=>{n||(r(),o.current=!0)},onClick:()=>{n&&l&&!o.current&&"id"in e,o.current=!1},children:[a.length===0&&m("div",{className:"w-full px-2 py-1.5 select-none",children:"[Ingen resultater · Klik for at indstille]"}),a.map(({id:f,record:p})=>m("div",{className:"flex w-full py-1",children:l?N(re,{children:[m("div",{className:"w-8 flex-center",children:m(c,{className:"w-4 h-4"})}),(s??[]).map(({id:h})=>{const y=p[_e(f,h)]??void 0;return m(o6,{id:_e(f,h),initialValue:y,record:Ci(e.id)?d:p},`${f}-${h}-${Boolean(y)}`)})]}):m(re,{children:"Ingen skabelon valgt"})},f))]})})}function o6({id:e,initialValue:t,record:n}){const r=zn();let o;return t?[o]=on(e,()=>Er(t,{record:n,client:r,documentId:pe(e)})):[o]=on(e),m("div",{className:"grow shrink basis-0 px-2 truncate",children:Cl(o||[])})}const kw="nested-document";let Sf=class extends Ft{static getType(){return kw}static clone(t){return new Sf(t.__token,t.__key)}constructor(t,n){super(kw,t,n)}exportJSON(){return super.exportJSON()}static importJSON(t){return new Sf(t.token)}decorate(){return m(r6,{nodeKey:this.__key,value:this.__token})}};function gb(e){return new Sf(e)}const Dr="relative before:ring-[0.5px] before:ring-white before:h-[1.125rem] before:-translate-x-[7px] before:animate-blink";function i6({value:e,nodeKey:t}){Object.keys(e)[0];const{isSelected:n,isPseudoSelected:r,select:o}=Gt(t),i=m("svg",{viewBox:"0 0 4 16",width:6,height:24,className:"absolute",children:m("path",{d:"M4,0 A 10 10 0 0 0 4 16 A 20 20 0 0 1 4 0",className:P("fill-amber-500")})}),s="";return N("span",{className:P("relative flex-center selection:bg-transparent text-xs text-gray-800",n&&"ring-2 ring-amber-300",r&&Dr),onMouseDown:()=>o(),children:[m("span",{className:"flex-center px-2 bg-amber-500 text-white rounded-full mr-1",children:s})," ",m("span",{className:"flex-center w-[6px] h-6",children:i})]})}const Cw="function";let Ef=class extends Ft{static getType(){return Cw}static clone(t){return new Ef(t.__token,t.__key)}constructor(t,n){super(Cw,t,n)}isInline(){return!0}exportJSON(){return super.exportJSON()}static importJSON(t){return new Ef(t.token)}decorate(){return m(i6,{nodeKey:this.__key,value:this.__token})}};function s6(e){return new Ef(e)}const l6=e=>{if(e.select&&e.loop)return["",[Rs(kg(e.select))||"?"]];if(e.select){const r=Rs(e.field),o=Rs(kg(e.select));return["",[`${r} · ${o||"?"}`]]}const t=on(e.field)[0];return[Rs(e.field),t]};function a6({nodeKey:e,value:t}){const{isSelected:n,isPseudoSelected:r,select:o}=Gt(e),i=["x","y","z"],s=Boolean(t.select),l=Boolean(t.loop),[a,u]=l6(t),c=Cl(u??[]),d=w.useRef(!1);return N("span",{className:P("rounded selection:bg-transparent relative ring-1 ring-inset",l?"bg-red-100 dark:bg-red-400/20 text-red-700/90 dark:text-red-100/90 text-sm py-0.5 px-1.5 font-medium":s?"bg-sky-100 dark:bg-sky-400/20 text-sky-700/90 dark:text-sky-100/90 text-sm py-0.5 px-1.5 font-medium":"bg-teal-100 dark:bg-teal-400/20 text-teal-700/90 dark:text-teal-100/90",n?"ring-white":l?"ring-red-400/20":s?"ring-sky-400/20":"ring-transparent",r&&Dr),onMouseDown:()=>{n||(o(),d.current=!0)},onClick:()=>{n&&d.current,d.current=!1},children:[a&&n&&m("span",{className:P("relative text-gray-600 dark:text-teal-400 truncate select-none py-0.5 text-sm font-medium",c&&"mx-2"),children:a}),Array.isArray(c)?m(re,{children:c.map(f=>m("span",{className:"bg-fuchsia-200 text-fuchsia-800 w-4 h-4 text-xs flex-center rounded-full",children:i[f]??"."},f))}):m("span",{className:"select-none",children:c||"Intet indhold"})]})}const bw="nested-field";let kf=class extends Ft{static getType(){return bw}static clone(t){return new kf(t.__token,t.__key)}constructor(t,n){super(bw,t,n)}isInline(){return!0}exportJSON(){return super.exportJSON()}static importJSON(t){return new kf(t.token)}decorate(){return m(a6,{nodeKey:this.__key,value:this.__token})}};function u6(e){return new kf(e)}const yb=w.createContext(null),vb=w.createContext([]),kn=()=>{const[e,t]=ct(yb,"SelectedPath"),n=e.length%2===1,r=n?e[e.length-1]:e[e.length-2],o=n?void 0:e[e.length-1];return[{selectedPath:e,selectedDocument:o,selectedField:r},t]};function c6({id:e,listeners:t}){const[,n]=kn();return w.useEffect(()=>t.selection.subscribe(r=>{console.log("SETTING PATH",r),r.length?n([e,...r]):n([])}),[]),null}const as=()=>w.useContext(vb);function yu({children:e,...t}){const n=as(),r=w.useMemo(()=>[...n,t.id],[n,t.id]);return m(vb.Provider,{value:r,children:e})}function xb({children:e,id:t,onChange:n}){const[r,o]=w.useState([]),i=w.useCallback(l=>{o(a=>{let u=typeof l=="function"?l(a):l;return n==null||n(u),u})},[n,t]),s=w.useMemo(()=>[r,i],[r,i]);return m(yb.Provider,{value:s,children:e})}function wb({fieldId:e,documentId:t}){const[n]=on(e?`${e}#tree`:void 0);return n?dv(n).find(o=>o.id===t):void 0}function d6(){const e=ot(),[{selectedDocument:t,selectedField:n=e}]=kn();return wb({fieldId:n,documentId:t})}function f6({value:e,nodeKey:t}){const n=as(),[{selectedPath:r,selectedDocument:o},i]=kn(),s=Ln(e.id,pn("label")),[l]=on(s),{isSelected:a,isPseudoSelected:u,select:c}=Gt(t),d=w.useRef(!1),{configs:f}=Qe(),p=ai(e.element,f),h=typeof(l==null?void 0:l[0])=="string"?l[0]:(p==null?void 0:p.label)??e.element;return m("span",{className:P("text-gray-100/90 rounded-sm selection:bg-transparent relative z-0 bg-gray-50 dark:bg-gray-400/20","after:absolute after:-z-10 after:w-full after:left-0 after:-bottom-0.5 after:border-b-2 after:border-b-green-300/50 after:rounded-b-sm",a?"ring-1 ring-white":"dark:ring-gray-600",u&&Dr),onMouseDown:()=>{a||(c(),d.current=!0)},onClick:()=>{a&&!d.current&&i(y=>[...r,...n,e.id]),d.current=!1},children:h})}const Nw="inline-layout-element";let Cf=class extends Ft{static getType(){return Nw}static clone(t){return new Cf(t.__token,t.__key)}constructor(t,n){super(Nw,t,n)}isInline(){return!0}exportJSON(){return super.exportJSON()}static importJSON(t){return new Cf(t.token)}decorate(){return m(f6,{nodeKey:this.__key,value:this.__token})}};function p6(e){return new Cf(e)}const Av=(e,t,n=".")=>[e,t].filter(Boolean).join(n);function h6(e,t=n=>n){return Object.entries(e).reduce((n,[r,o])=>{if(o.type==="group"){const i={...o,name:r};return[...n,...Object.entries(o.props).map(([s,l])=>t({...l,name:s},i))]}return[...n,t({...o,name:r},void 0)]},[])}function Fv(e,t){return h6(t,(n,r)=>({id:r?Ln(e,pn(Av(r.name,n.name,"#"))):Ln(e,pn(n.name)),...n,label:r?`${r.label} · ${n.label}`:n.label}))}const _b=w.createContext(null);function Rl(){return ct(_b,"Attributes")}function Fp({children:e}){const t=w.useState(null);return m(_b.Provider,{value:t,children:e})}const m6=[];function zp({entity:e,hideChildrenProps:t,hideAsDefault:n,color:r}){const[o,i]=Rl(),{configs:s}=Qe();let l=Ap();const a=Xo(l)??m6;e||(e=d6());let u=w.useMemo(()=>{if(e&&"element"in e){const c=ai(e.element,s);let d=Fv(e.id,(c==null?void 0:c.props)??{});return t&&(d=d.filter(f=>f.type!=="children")),d}return e&&"folder"in e?a.map(d=>({id:_e(e.id,d.id),label:d.label})):[]},[e,a]);return w.useLayoutEffect(()=>{var c;n||i(((c=u[0])==null?void 0:c.id)??null)},[u,n]),e?m("div",{className:"flex gap-2 cursor-default",children:(u??[]).map(c=>m(g6,{prop:c,selected:o===c.id,select:d=>i(d?c.id:null),color:r},c.id))}):null}function g6({prop:e,selected:t,select:n,color:r="gray"}){const o=ot(),i=zn(),{record:s}=is(),l=s[e.id]??je,[a]=on(e.id,()=>Er(l,{record:s,client:i,documentId:pe(o)})),u=Cl(a),c={gray:{textA400:"text-gray-400",textA500:"text-gray-500",textB500:"text-gray-500",textB600:"text-gray-600",bg:"bg-gray-750",ring:"ring-gray-750"},pink:{textA400:"text-pink-100",textA500:"text-pink-200",textB500:"text-pink-200",textB600:"text-pink-300",bg:"bg-pink-700",ring:"ring-pink-700"},red:{textA400:"text-red-200/80",textA500:"text-red-300/60",textB500:"text-red-200/80",textB600:"text-red-300/40",bg:"bg-red-400/20",ring:"ring-red-400/30"},yellow:{textA400:"text-yellow-100/80",textA500:"text-yellow-200/50",textB500:"text-yellow-100/80",textB600:"text-yellow-200/40",bg:"bg-yellow-300/10",ring:"ring-yellow-300/30"}}[r??"gray"];return N("div",{className:P("rounded-full flex items-center px-2 py-0.5 text-xs transition-colors ring-inset",c.ring,t?P(c.bg,"ring-0"):P("hover:ring-1")),onMouseDown:d=>{n(!t),d.stopPropagation()},children:[N("span",{className:P("whitespace-nowrap font-semibold",P(t?c.textA400:c.textA500)),children:[e.label,u?m(re,{children:"   "}):""]}),m("span",{className:P(t?c.textB500:c.textB600,"max-w-[80px] font-normal truncate"),children:u})]})}function Sb(e,t){const n=C.$createRangeSelection();return n.anchor.set(e.node.getKey(),e.offset,e.type??"text"),n.focus.set(t.node.getKey(),t.offset,t.type??"text"),n}const Eb={DefaultField:null},c0=w.createContext(0),y6=({children:e})=>m(c0.Provider,{value:w.useContext(c0)+1,children:e});function v6({value:e,nodeKey:t}){var g;const n=w.useContext(c0)>0,r=po(),o=as(),[{selectedPath:i,selectedDocument:s},l]=kn(),a=s===e.id,{isSelected:u,select:c}=Gt(t),{configs:d}=Qe(),f=ai(e.element,d);let p=Fv(e.id,(f==null?void 0:f.props)??{});const h=e.element==="Loop"?Py:e.element==="Outlet"?Ly:My,y=((g=p[0])==null?void 0:g.type)==="children",x=n&&y;return m(Fp,{children:m(tc,{children:N(w6,{isOpen:a,isSelected:u,children:[N("div",{className:P("flex items-center font-medium text-sm p-2.5 whitespace-nowrap",e.element.indexOf(":")>0?"text-yellow-400":"text-red-400"),onMouseDown:v=>{u||(r&&v.preventDefault(),c())},children:[m(x6,{nodeKey:t}),m(h,{className:"w-4 h-4 mr-5 shrink-0"}),(f==null?void 0:f.label)??e.element,m("div",{className:"overflow-x-auto no-scrollbar mx-3",children:m(zp,{entity:e,hideAsDefault:x,color:e.element.indexOf(":")>0?"yellow":"red"})}),m("div",{className:"ml-auto",children:m("button",{tabIndex:-1,className:"w-5 h-5 flex-center rounded-full bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700 transition-colors",onClick:()=>{l(()=>[...i,...o,e.id])},children:m(Dy,{className:"w-4 h-4 rotate-45"})})})]}),m(S6,{props:p,isLoop:e.element==="Loop",children:m(E6,{documentId:e.id,ellipsis:p.length>0})})]})})})}function x6({nodeKey:e}){const t=Me();return m("div",{className:"absolute h-3 -top-3 inset-x-0 cursor-text",onMouseDown:n=>{n.preventDefault(),n.stopPropagation(),t.update(()=>{var s;const r=C.$getRoot(),o=r.getChildren().findIndex(l=>l.getKey()===e);if(o<0)return;const i=Sb({node:r,offset:o,type:"element"},{node:r,offset:o,type:"element"});(s=t.getRootElement())==null||s.focus(),C.$setSelection(i)})}})}function w6({children:e,isOpen:t,isSelected:n}){const r=po();let o="";return t?o="ring-1 dark:ring-yellow-200/50":n?o="ring-1 dark:ring-gray-200":r?o="ring-1 dark:ring-gray-600":o="ring-1 ring-gray-200 dark:ring-gray-700",m("div",{className:P("relative cursor-default","rounded",o,"bg-white dark:bg-gray-850","transition-[background-color,box-shadow]"),children:e})}function _6(){const[{selectedPath:e}]=kn(),t=as(),n=w.useMemo(()=>[...e,...t],[e,t]),r=n[n.length-3],o=n[n.length-2],i=n[n.length-1];let s;zP(on(`${r}#tree`)[0]??je,u=>{G.isNestedElement(u)&&u.id===o&&(s=u.element)});const{configs:l}=Qe(),a=s?ai(s,l):void 0;if(a)return Fv(o,a.props).find(u=>u.id===i)}function S6({props:e,isLoop:t,children:n}){const[r]=Rl(),o=_6();if(!r)return m(re,{children:n});const i=e.find(l=>l.id===r);let s="options"in i?i.options:void 0;return t&&(s=o==null?void 0:o.options),m(y6,{children:m(pv.Provider,{value:i.type,children:m(nC.Provider,{value:s??null,children:n})})},r)}function E6({documentId:e,ellipsis:t}){const[n]=Rl();if(!n)return t?m("div",{className:"text-gray-400 pl-11 -mt-2 pb-1 pointer-events-none",children:m(pp,{className:"w-4 h-4"})}):null;const r=Eb.DefaultField;return m(yu,{id:e,type:"document",children:m(yu,{id:n,type:"field",children:m("div",{className:"cursor-auto pl-[2.875rem] pr-2.5",children:m(r,{id:n,showPromptButton:!0,showTemplateHeader:n.endsWith(pn("data"))})})})})}const Tw="layout-element";let bf=class extends Ft{static getType(){return Tw}static clone(t){return new bf(t.__token,t.__key)}constructor(t,n){super(Tw,t,n)}createDOM(){const t=document.createElement("div");return t.setAttribute(`data-lexical-${this.__type}`,"true"),t.setAttribute("style","min-height: 42px;"),t}exportJSON(){return super.exportJSON()}static importJSON(t){return new bf(t.token)}decorate(){return m(v6,{nodeKey:this.__key,value:this.__token})}};function kb(e){return new bf(e)}function k6({value:e,nodeKey:t}){const{isSelected:n,select:r,isPseudoSelected:o}=Gt(t),i=e._,s={"*":"×","/":"÷"},l=()=>P("bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-sky-100","ring-1 ring-gray-200 dark:ring-gray-700");return m("div",{className:P("selection-box cursor-text",n&&"bg-gray-700"),children:m("span",{className:P(l(),"relative w-4 h-4 my-1 pb-0.5 flex-center rounded-full text-xs leading-none selection:bg-transparent",o&&Dr),onMouseDown:()=>r(),children:s[i]??i})})}const $w="operator";let Nf=class extends Ft{static getType(){return $w}static clone(t){return new Nf(t.__token,t.__key)}constructor(t,n){super($w,t,n)}isInline(){return!0}exportJSON(){return super.exportJSON()}static importJSON(t){return new Nf(t.token)}decorate(){return m(k6,{nodeKey:this.__key,value:this.__token})}};function C6(e){return new Nf(e)}function b6({value:e,nodeKey:t}){const{isSelected:n,isPseudoSelected:r,select:o}=Gt(t);return m("div",{className:P("selection-box cursor-text",n&&"bg-gray-700"),children:m("span",{className:P("relative bg-fuchsia-100 text-fuchsia-800 dark:bg-fuchsia-800 dark:text-fuchsia-200 font-serif","w-4 h-4 my-1 flex-center rounded-full  text-sm pb-[2px] selection:bg-transparent","ring-1 ring-fuchsia-200 dark:ring-fuchsia-700",r&&Dr),onMouseDown:()=>o(),children:e.x??"x"})})}const Ow="parameter";let Tf=class extends Ft{static getType(){return Ow}static clone(t){return new Tf(t.__token,t.__key)}constructor(t,n){super(Ow,t,n)}isInline(){return!0}exportJSON(){return super.exportJSON()}static importJSON(t){return new Tf(t.token)}decorate(){return m(b6,{nodeKey:this.__key,value:this.__token})}};function N6(e){return new Tf(e)}function Cb({nodeKey:e,value:t}){const{data:n}=np("COLORS",{revalidateOnMount:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateIfStale:!1}),{isSelected:r,isPseudoSelected:o,select:i}=Gt(e),s=w.useRef(!1);let l,a;return"color"in t?(a=t.color,l=hP(a.slice(1),n[0],n[1]).split(" / ")[0]):(l="label"in t?t.label:t.name,a="value"in t?t.value:"#ffffff"),m("span",{className:P("bg-gray-50 dark:bg-sky-400/20 text-sky-100/90 rounded-sm selection:bg-transparent relative px-2",r?"ring-1 ring-amber-300":"dark:ring-gray-600",o&&Dr),onMouseDown:()=>{r||(i(),s.current=!0)},children:N("span",{className:"flex-center gap-2",children:[m(ok,{className:"w-4 h-4 inline"}),l,m("div",{className:"w-4 h-4 rounded ring-1 ring-inset ring-white/50",style:{backgroundColor:a}})]})})}const T6=Cb,Iw="color-token";let vu=class extends Ft{static getType(){return Iw}static clone(t){return new vu(t.__token,t.__key)}constructor(t,n){super(Iw,t,n)}isInline(){return!0}exportJSON(){return super.exportJSON()}static importJSON(t){return new vu(t.token)}decorate(){return m(Cb,{nodeKey:this.__key,value:this.__token})}};function $6(e){return new vu(e)}function O6(e){return e instanceof vu}function I6({nodeKey:e,value:t}){const n=bp(),o=hv().find(i=>typeof i=="object"&&i.name===t.name);return n==="color"&&o?m(T6,{nodeKey:e,value:o}):m(R6,{nodeKey:e,value:t})}function R6({nodeKey:e,value:t}){const{isSelected:n,isPseudoSelected:r,select:o}=Gt(e),i=w.useRef(!1),l=hv().find(u=>typeof u=="object"&&u.name===t.name);let a=l&&"label"in l?l.label:t.name;return m("span",{className:P("bg-gray-50 dark:bg-sky-400/20 text-sky-100/90 rounded-sm selection:bg-transparent relative px-2",n?"ring-1 ring-amber-300":"dark:ring-gray-600",r&&Dr),onMouseDown:()=>{n||(o(),i.current=!0)},children:N("span",{className:"flex-center gap-2",children:[m(RM,{className:"w-4 h-4 inline"}),a]})})}const Rw="custom-token";let $f=class extends Ft{static getType(){return Rw}static clone(t){return new $f(t.__token,t.__key)}constructor(t,n){super(Rw,t,n)}exportJSON(){return super.exportJSON()}static importJSON(t){return new $f(t.token)}decorate(){return m(I6,{nodeKey:this.__key,value:this.__token})}};function P6(e){return new $f(e)}const D6=e=>{const{id:t}=is(),[n]=xk(t,e);return[n[e]]};function M6({nodeKey:e,value:{ctx:t}}){const{isSelected:n,isPseudoSelected:r,select:o}=Gt(e),i=D6(t),s=Cl(i??[]),l=w.useRef(!1);return N("span",{className:P("rounded-sm selection:bg-transparent relative","bg-fuchsia-100 dark:bg-fuchsia-400/20 text-fuchsia-700/90 dark:text-fuchsia-100/90",n?"ring-1 ring-amber-300":"dark:ring-gray-600",r&&Dr),onMouseDown:()=>{n||(o(),l.current=!0)},children:[n&&m("span",{className:P("relative text-gray-600 dark:text-fuchsia-400 truncate select-none",s&&"ml-1 mr-2"),children:t}),m("span",{className:"select-none",children:s||"Intet indhold"})]})}const Pw="context";let Of=class extends Ft{static getType(){return Pw}static clone(t){return new Of(t.__token,t.__key)}constructor(t,n){super(Pw,t,n)}isInline(){return!0}exportJSON(){return super.exportJSON()}static importJSON(t){return new Of(t.token)}decorate(){return m(M6,{nodeKey:this.__key,value:this.__token})}};function L6(e){return new Of(e)}const bb={DefaultField:null};function A6({value:e,nodeKey:t}){kn(),as();const{isSelected:n,select:r}=Gt(t),o=w.useRef(!1);let i=Ap();const s=Xo(i),l=Boolean(s),a=P("bg-gradient-to-b from-pink-800/90 to-pink-900/90 text-pink-200",!n&&"ring-1 ring-pink-200 dark:ring-pink-800",l&&"child:divide-x child:divide-pink-200 child:dark:divide-pink-800"),u=os(e.folder);return m(Fp,{children:m(tc,{children:N("div",{className:P("relative","rounded",n&&"ring-1 ring-white",a),onMouseDown:()=>{n||(r(),o.current=!0)},children:[N("div",{className:"flex w-full py-1 text-sm selection:bg-transparent",children:[m("div",{className:"w-11 flex-center shrink-0",children:m(Qo,{className:"w-4 h-4"})}),m("div",{className:"px-2 shrink-0",children:u.label}),m("div",{className:"pl-2",children:m(zp,{entity:e,hideAsDefault:!0,color:"red"})})]}),m(F6,{documentId:e.id})]})})})}function F6({documentId:e}){const[t]=Rl();if(!t)return null;const n=bb.DefaultField;return m(yu,{id:e,type:"document",children:m(yu,{id:t,type:"field",children:m("div",{className:"cursor-auto mt-1.5 pl-[2.875rem] pr-2.5",children:m(n,{id:t,showPromptButton:!0})})})})}const Dw="nested-folder";let If=class extends Ft{static getType(){return Dw}static clone(t){return new If(t.__token,t.__key)}constructor(t,n){super(Dw,t,n)}exportJSON(){return super.exportJSON()}static importJSON(t){return new If(t.token)}decorate(){return m(A6,{nodeKey:this.__key,value:this.__token})}};function Nb(e){return new If(e)}const Tb={DefaultField:null};function z6({value:e,nodeKey:t}){const{isSelected:n,isPseudoSelected:r,select:o}=Gt(t);w.useState([]);const i=()=>Math.random().toString(16).slice(2,10),s=w.useMemo(()=>`${i()}${i()}${i()}`,[]),l=Tb.DefaultField;return m("div",{className:"py-0.5",children:m("div",{className:P("flex flex-col gap-2 gradient-border","relative z-0 py-2.5","rounded selection:bg-transparent",n&&"selected"),onMouseDown:()=>{n||o()},children:m(l,{id:s})})})}const Mw="creator";let Rf=class extends Ft{static getType(){return Mw}static clone(t){return new Rf(t.__token,t.__key)}constructor(t,n){super(Mw,t,n)}exportJSON(){return super.exportJSON()}static importJSON(t){return new Rf(t.token)}decorate(){return m(z6,{nodeKey:this.__key,value:this.__token})}};function $b(e){return new Rf(e)}class Pl extends C.TextNode{constructor(t,n,r,o){super(n,o),this.__initializer=t,this.__stream=r}static getType(){return"prompt"}static clone(t){return new Pl(t.__initializer,t.__text,t.__stream,t.__key)}getTokenStream(){return this.getLatest().__stream}getInitializer(){return this.getLatest().__initializer}createDOM(){const t=document.createElement("span");t.classList.add("prompt-container"),t.setAttribute("data-initializer",this.__initializer);const n=this.__text;return t.textContent=n,t}static importDOM(){return null}static importJSON(t){return zv("/",t.prompt,t.stream)}exportJSON(){return{...super.exportJSON(),type:"prompt",prompt:this.getTextContent(),stream:this.getTokenStream(),version:1}}}function zv(e,t,n){return new Pl(e,t,n)}function Dl(e){return e instanceof Pl}function Ob(){return tr.files.getAll.useQuery(void 0,{revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateIfStale:!1})}function j6(e){var r;const t="Fil uden navn",{data:n}=Ob();return n?((r=n.find(o=>o.name===e))==null?void 0:r.label)??t:t}function B6(){const{data:e,mutate:t}=Ob(),n=pE();return[e??[],async(i,s,l={})=>{const a=await t(async u=>{const c=await n.bucket.getUploadLink.query({label:s,type:i.type,size:i.size,extension:(i.name??"").replace(/.*(\.[^.]+)$/,"$1"),metadata:l});if(Sr(c))return console.error("Generating presigned link failed."),u;const{name:d,url:f,headers:p}=Ut(c);return(await fetch(f,{method:"PUT",body:i,mode:"cors"})).ok?(console.log("Uploaded successfully!"),[{name:d,label:s},...u??[]]):(console.error("Upload failed."),u)});if(a&&a!==e)return a[0].name}]}function W6({nodeKey:e,value:t}){const{isSelected:n,isPseudoSelected:r,select:o}=Gt(e),i=w.useRef(!1),s=j6(t.src);return N("div",{className:P("bg-gradient-to-b from-gray-800/90 to-gray-800/90 text-gray-200","rounded relative ring-1","flex gap-2 items-center",n?"ring-white":"dark:ring-gray-700"),onMouseDown:()=>{n||(o(),i.current=!0)},children:[m(U6,{src:t.src}),m("div",{children:s})]})}function U6({src:e}){const{organization:t}=or();return m("div",{className:"flex-center h-10 w-10 rounded overflow-hidden bg-white/5",children:m("img",{src:`https://cdn.storyflow.dk/${t.slug}/${e}`,className:"max-w-full max-h-full w-auto h-auto",loading:"lazy"})})}const Lw="file-token";let xu=class extends Ft{static getType(){return Lw}static clone(t){return new xu(t.__token,t.__key)}constructor(t,n){super(Lw,t,n)}createDOM(){const t=document.createElement("div");return t.setAttribute(`data-lexical-${this.__type}`,"true"),t.setAttribute("style","min-height: 42px;"),t}exportJSON(){return super.exportJSON()}static importJSON(t){return new xu(t.token)}decorate(){return m(W6,{nodeKey:this.__key,value:this.__token})}};function Ib(e){return new xu(e)}function H6(e){return e instanceof xu}function V6({nodeKey:e}){const{isSelected:t,select:n,isPseudoSelected:r}=Gt(e);return m("div",{className:P("selection-box cursor-text",t&&"bg-gray-700"),children:m("span",{className:P("relative w-2 flex-center opacity-50",r&&Dr),onMouseDown:()=>n(),children:","})})}const Aw="comma";let Pf=class extends Ft{static getType(){return Aw}static clone(t){return new Pf(t.__token,t.__key)}constructor(t,n){super(Aw,t,n)}isInline(){return!0}exportJSON(){return super.exportJSON()}static importJSON(t){return new Pf(t.token)}decorate(){return m(V6,{nodeKey:this.__key,value:this.__token})}};function K6(e){return new Pf(e)}function G6({value:e,nodeKey:t}){const{isSelected:n,select:r,isPseudoSelected:o}=Gt(t),i=Object.keys(e)[0],s=m("svg",{viewBox:"0 0 4 16",width:6,height:24,className:"absolute",children:m("path",{d:"M4,0 A 10 10 0 0 0 4 16 A 20 20 0 0 1 4 0",className:P(i==="["?"fill-amber-500":"fill-gray-500")})}),l=m("svg",{viewBox:"0 0 4 16",width:6,height:24,className:"absolute",children:m("path",{d:"M0,0 A 10 10 0 0 1 0 16 A 20 20 0 0 0 0 0",className:P(i==="]"?"fill-amber-500":"fill-gray-500")})});return m("div",{className:P("selection-box cursor-text",n&&"bg-gray-700"),children:m("span",{className:P("relative w-[6px] h-6 flex-center selection:bg-transparent text-xs text-gray-800",o&&Dr),onMouseDown:()=>r(),children:["(","["].includes(i)?s:l})})}const Fw="bracket";class wu extends Ft{static getType(){return Fw}static clone(t){return new wu(t.__token,t.__key)}constructor(t,n){super(Fw,t,n)}isInline(){return!0}exportJSON(){return super.exportJSON()}static importJSON(t){return new wu(t.token)}decorate(){return m(G6,{nodeKey:this.__key,value:this.__token})}}function Z6(e){return new wu(e)}const Rb=(e,t)=>{const n=ai(t.element,e);return Boolean(n==null?void 0:n.inline)},mr=e=>ul(e)||C.$isParagraphNode(e),Y6=(e,t)=>{const n=(o,i="")=>{var s,l,a,u;if(o.__key===t)return{content:"",ended:!0};if(C.$isElementNode(o)){const c=(s=o.getChildren)==null?void 0:s.call(o);if(c)for(let d=0;d<c.length;d++){const f=c[d];if(f.__key===t)return{content:i,ended:!0};if(d>0&&mr(f)&&mr(c[d-1])&&(i+=`
`),ul(f)){const y=parseInt(f.__tag.slice(1),10);i+="#".repeat(y)+" "}const{content:p,ended:h}=n(f,i);if(h)return{ended:!0,content:p};i=p}}else if(!Dl(o))if(C.$isTextNode(o)){let c=o.getTextContent();const d=(u=(a=(l=lp(i,"\\*+$"))==null?void 0:l[0])==null?void 0:a.value)==null?void 0:u.length,f=d===1||d===3,p=d===2||d===3;o.hasFormat("bold")&&(p?i=i.slice(0,-2):c=`**${c}`,c=`${c}**`),o.hasFormat("italic")&&(f?i=i.slice(0,-1):c=`*${c}`,c=`${c}*`),i+=c}else C.$isLineBreakNode(o)?i+=`
`:Lp(o)&&(i+=o.getTextContent());return{content:i,ended:!1}};let{content:r}=n(e);return r},ri=(e,t)=>{const n=(o,i=[])=>{var l,a,u,c;if(o.__key===t)return{content:[],ended:!0};let s=[];if(C.$isElementNode(o)){const d=(l=o.getChildren)==null?void 0:l.call(o);if(d)for(let f=0;f<d.length;f++){const p=d[f];if(p.__key===t)return{content:s,ended:!0};if(f>0&&mr(p)&&mr(d[f-1])&&(s=ae.concat(s,[{n:!0}])),ul(p)){const x=parseInt(p.__tag.slice(1),10);s=ae.concat(s,[`${"#".repeat(x)} `])}const{content:h,ended:y}=n(p,s);if(y)return{ended:!0,content:s};s=ae.concat(s,h)}}else if(Dl(o))s=o.getTokenStream();else if(C.$isTextNode(o)){let d=o.getTextContent(),f=i[i.length-1];if(typeof f=="string"){const p=(c=(u=(a=lp(f,"\\*+$"))==null?void 0:a[0])==null?void 0:u.value)==null?void 0:c.length,h=p===1||p===3,y=p===2||p===3;o.hasFormat("bold")&&(y?f=f.slice(0,-2):d=`**${d}`,d=`${d}**`),o.hasFormat("italic")&&(h?f=f.slice(0,-2):d=`*${d}`,d=`${d}*`),i[i.length-1]=f}else o.hasFormat("bold")&&(d=`**${d}**`),o.hasFormat("italic")&&(d=`*${d}*`);s=[d]}else C.$isLineBreakNode(o)?s=[`
`]:Lp(o)&&(s=o.getTokenStream());return{content:s,ended:!1}};let{content:r}=n(e);return r},Gs=(e,t)=>Y6(e,t).length,jv=e=>{var t;if(e.type==="text")return Gs(C.$getRoot(),e.key)+e.offset;{let n=e.getNode(),r=((t=n==null?void 0:n.getChildAtIndex)==null?void 0:t.call(n,e.offset))??n;const o=Gs(C.$getRoot(),r.__key),i=r===n?Gs(r):0;return o+i}},zw=(e,t=!0)=>{const n=e.getNodes(),r=Gs(C.$getRoot(),n[0].__key);if(!t)return r;const o=n.map(i=>Gs(i)).reduce((i,s)=>i+s,0);return r+o},Pb=e=>{const t=e.anchor,n=e.focus,r=e.isCollapsed()||t.isBefore(n);return[r?t:n,r?n:t]},Q6=e=>C.$isRangeSelection(e)||C.$isNodeSelection(e),jp=e=>C.$isRangeSelection(e)?Pb(e).map(t=>jv(t)):C.$isNodeSelection(e)?[zw(e,!1),zw(e,!0)]:[0,0],Db=(e,t,n,r=0)=>{let o=r,i=o,s=null,l=null;for(let u of n.getChildren()){if(i=o,C.$isElementNode(u)){let c;[c,o]=Db(e,t,u,o),c!==null&&(s=c,l=c)}else if(C.$isTextNode(u)){const c=Gs(u);o+c===t&&(s=u),o+c>t&&(s=u),o+=c}else C.$isLineBreakNode(u)?o+=1:Lp(u)&&(o===t&&(l=u),o+=1);if(o>t)break}const a=e==="symbol"?l??s:s??l;return[a,a===l?0:i]},J6=(e,t)=>{const[n,r]=Db(e,t,C.$getRoot());return[n,t-r]},q6=(e,t)=>{let n=!1,r=!1;return e.reduce((o,i,s)=>{if(typeof i=="string"||typeof i=="number")Lx(`${i}`,"\\n").forEach(l=>{if(l===`
`){const a=C.$createLineBreakNode();o.push(a)}else Lx(`${l}`,"\\*+").forEach(a=>{if(a==="***")n=!n,r=!r;else if(a==="**")n=!n;else if(a==="*")r=!r;else{const u=C.$createTextNode(a);n&&u.toggleFormat("bold"),r&&u.toggleFormat("italic"),o.push(u)}})});else if(typeof i=="boolean"){const l=C.$createTextNode(i?"SAND":"FALSK");o.push(l)}else if(G.isNestedField(i)){const l=u6(i);o.push(l)}else if(G.isParameter(i)){const l=N6(i);o.push(l)}else if(G.isNestedElement(i))if(Rb(t,i)){const l=p6(i);o.push(l)}else{const l=kb(i);o.push(l)}else if(G.isNestedDocument(i)){const l=gb(i);o.push(l)}else if(G.isNestedCreator(i)){const l=$b(i);o.push(l)}else if(G.isNestedFolder(i)){const l=Nb(i);o.push(l)}else if(G.isFileToken(i)){const l=Ib(i);o.push(l)}else if(G.isColorToken(i)){const l=$6(i);o.push(l)}else if(G.isCustomToken(i)){const l=P6(i);o.push(l)}else if(G.isContextToken(i)){const l=L6(i);o.push(l)}else if(Qt(i,"_")){const l=C6(i);o.push(l)}else if(Qt(i,",")){const l=K6(i);o.push(l)}else if(Qt(i,")")&&typeof i[")"]=="string"){const l=s6(i[1]);o.push(l)}else if(Qt(i,"(")||Qt(i,")")||Qt(i,"[")||Qt(i,"]")){const l=Z6(i);o.push(l)}return o},[])},Mb=(e,t)=>G.isNestedElement(e)&&!Rb(t,e)||G.isNestedDocument(e)||G.isNestedFolder(e)||G.isFileToken(e)||G.isNestedCreator(e);function Lb(e,t){return ae.split(e,o=>G.isLineBreak(o)||Mb(o,t)).filter(o=>o.length>0)}function di(e,t){const n=[],r=Lb(e,t);if(!r.length){const o=C.$createParagraphNode();return n.push(o),n}return r.forEach((o,i)=>{var s,l;if(o.length===1&&Mb(o[0],t))G.isNestedElement(o[0])?n.push(kb(o[0])):G.isNestedFolder(o[0])?n.push(Nb(o[0])):G.isNestedCreator(o[0])?n.push($b(o[0])):G.isFileToken(o[0])?n.push(Ib(o[0])):n.push(gb(o[0]));else if(G.isLineBreak(o[0])){if(i===r.length-1||G.isLineBreak((s=r[i+1])==null?void 0:s[0])){const a=C.$createParagraphNode();n.push(a)}}else{const a=typeof o[0]=="string"&&(((l=o[0].match(/^(\#+)\s/))==null?void 0:l[1])??!1),u=a?Ni(`h${a.length}`):C.$createParagraphNode();o=a?ae.slice(o,1+a.length):o;const c=q6(o,t);u.append(...c),n.push(u)}}),n}function X6(e,t){const n=C.$getRoot();if(n.isEmpty()){const r=di(e,t);n.append(...r)}}const jw=e=>{const t=C.$createNodeSelection();t.add(e),C.$setSelection(t)},Bw=e=>C.$isTextNode(e)&&!Dl(e),e8=e=>e.remove(),t8=(e,t)=>t.reduce((n,r)=>n.insertAfter(r),e),n8=(e,t)=>t.slice().reverse().reduce((n,r)=>n.insertBefore(r),e);function Tn(e){if(ul(e))return new Il(e.getTag());if(C.$isParagraphNode(e))return C.$createParagraphNode()}function Cr(e){var t,n,r,o,i,s,l,a,u;try{const c=(f,p,h={})=>{const y=f.getLastChild(),x=p.getFirstChild(),g=h.cursor==="right",v=g?x:y,S=C.$isTextNode(v)?"text":"element";let E=S==="text"?v.getTextContent().length:-1,b=v;console.log("$ MERGE",{left:f,right:p,options:h,leftChild:y,rightChild:x,select:{type:S,offset:E,node:b}});const k=h.keep==="right",[O,$]=[y,x][k?"reverse":"slice"]();return Bw(O)&&Bw($)&&O.getFormat()===$.getFormat()&&(E+=g?y.getTextContent().length:0,O.getWritable().__text=y.getTextContent()+x.getTextContent(),e8($),b=O),k?(console.log("$ SPLICING RIGHT",{right:p.getChildren(),left:f.getChildren()}),p.splice(0,0,f.getChildren()),b===f&&(b=p)):(console.log("$ SPLICING LEFT",{left:f.getChildren(),size:f.getChildrenSize(),right:p.getChildren()}),f.splice(f.getChildrenSize(),0,p.getChildren())),{type:S,offset:E,node:b}},d=(t=C.$getSelection())==null?void 0:t.clone();if(C.$setSelection(null),C.$isRangeSelection(d)){const[f,p]=Pb(d);let h=f.getNode(),y=p.getNode();if(console.log("$ selection",{anchor:{...d.anchor},focus:{...d.focus},startNode:h,endNode:y}),C.$isRootNode(h)&&h.getTextContent()===""){h.append(...e);return}let x=null,g=null,v=!1,S=!1;if(d.isCollapsed())if(console.log("$ COLLAPSED"),f.type==="text")if(f.offset===0){const b=h,k=b.getPreviousSiblings();g=b.getParentOrThrow(),k.length?(x=Tn(g),g.splice(0,k.length,[]),x.append(...k),g.insertBefore(x)):(x=g.getPreviousSibling(),v=!0)}else if(f.offset===h.getTextContent().length){const b=h,k=b.getNextSiblings();x=b.getParentOrThrow(),k.length?(g=Tn(x),x.splice(x.getChildrenSize()-k.length,k.length,[]),g.append(...k),x.insertAfter(g)):(g=x.getNextSibling(),S=!0)}else{const[,b]=h.splitText(f.offset);g=b.getParentOrThrow(),x=Tn(g);let k=b.getPreviousSiblings();g.splice(0,k.length,[]),x.append(...k),g.insertBefore(x)}else if(C.$isRootNode(h))x=h.getChildAtIndex(f.offset-1);else{x=h;let b=h.getChildAtIndex(f.offset-1);if(b){const k=b.getNextSiblings();k.length?(g=Tn(x),x.splice(x.getChildrenSize()-k.length,k.length,[]),g.append(...k),x.insertAfter(g)):g=x.getNextSibling()}}else{console.log("$ NOT COLLAPSED");const b=f.type==="element"?h.getChildAtIndex(f.offset-1):null,k=p.type==="element"?y.getChildAtIndex(p.offset-1):null;if(p.offset===y.getTextContent().length){const $=y,R=$.getNextSiblings();let T=$.getParentOrThrow();R.length?(g=Tn(T),T.splice(T.getChildrenSize()-R.length,R.length,[]),g.append(...R),T.insertAfter(g),console.log("$ not collapsed -> endpoint -> text -> offset last -> does have next",[...R])):(g=T.getNextSibling(),console.log("$ not collapsed -> endpoint -> text -> offset last -> does NOT have next"),S=!0)}else if(p.type==="text")if(p.offset===0){const $=y,R=$.getPreviousSiblings();if(g=$.getParentOrThrow(),R.length){let T=Tn(g);g.splice(0,R.length,[]),T.append(...R),g.insertBefore(T),console.log("$ not collapsed -> endpoint -> text -> offset 0 -> does have prev")}else{let T=g.getPreviousSibling();console.log("$ not collapsed -> endpoint -> text -> offset 0 -> does NOT have prev")}}else{const[,$]=y.splitText(p.offset);g=$.getParentOrThrow();let R=Tn(g),T=$.getPreviousSiblings();g.splice(0,T.length,[]),R.append(...T),g.insertBefore(R),console.log("$ not collapsed -> endpoint -> text -> offset middle")}else if(C.$isRootNode(y))g=k,console.log("$ not collapsed -> endpoint -> element -> root");else{let $=k;if(g=$.getParentOrThrow(),console.log("$ INLINE",$),$){const R=[...$.getPreviousSiblings(),$];if(R.length){let T=Tn(g);g.splice(0,R.length,[]),T.append(...R),g.insertBefore(T),console.log("$ not collapsed -> endpoint -> element -> inline node -> does have prev",R)}else{let T=g.getPrevSibling();console.log("$ not collapsed -> endpoint -> element -> inline node -> does NOT have prev")}}else console.log("$ not collapsed -> endpoint -> element -> NO inline node")}if(f.type==="text")if(f.offset===0){const $=h,R=$.getPreviousSiblings(),T=$.getParentOrThrow();R.length?(x=Tn(T),T.splice(0,R.length,[]),x.append(...R),T.insertBefore(x),console.log("$ not collapsed -> startpoint -> text -> offset 0 -> does have prev")):(x=T.getPreviousSibling(),console.log("$ not collapsed -> startpoint -> text -> offset 0 -> does NOT have prev"),v=!0)}else if(f.offset===h.getTextContent().length){const $=h,R=$.getNextSiblings();if(x=$.getParentOrThrow(),R.length){const T=Tn(x);x.splice(x.getChildrenSize()-R.length,R.length,[]),T.append(...R),x.insertAfter(T),console.log("$ not collapsed -> startpoint -> text -> offset last -> does have next")}else{let T=x.getNextSibling();console.log("$ not collapsed -> startpoint -> text -> offset last -> does NOT have next")}}else{const[,$]=h.splitText(f.offset);let R=$.getParentOrThrow();x=Tn(R);let T=$.getPreviousSiblings();R.splice(0,T.length,[]),x.append(...T),R.insertBefore(x),console.log("$ not collapsed -> startpoint -> text -> offset middle")}else if(C.$isRootNode(h))x=b,console.log("$ not collapsed -> startpoint -> element -> root");else{let $=b;if($){x=$.getParentOrThrow();const R=$.getNextSiblings();if(R.length){let T=Tn(x);x.splice(x.getChildrenSize()-R.length,R.length,[]),T.append(...R),x.insertAfter(T),console.log("$ not collapsed -> startpoint -> element -> inline node -> does have next")}else{let T=x.getNextSibling();console.log("$ not collapsed -> startpoint -> element -> inline node -> does NOT have next")}}else console.log("$ not collapsed -> startpoint -> element -> NO inline node")}console.log("$ REMOVING");let O=x?x.getNextSibling():C.$getRoot().getFirstChild();for(;O&&O.__key!==(g==null?void 0:g.__key);){console.log("$ remove",O);let $=O;O=O.getNextSibling(),$.remove()}}console.log("$ RESULT",{left:{block:x,inlines:(n=x==null?void 0:x.getChildren)==null?void 0:n.call(x)},right:{block:g,inlines:(r=g==null?void 0:g.getChildren)==null?void 0:r.call(g)},root:C.$getRoot().getChildren()});let E={type:"element",offset:-1,node:e[e.length-1]};if(!v&&mr(x)&&mr(e[0])&&(E=c(x,e[0],{cursor:"right"}),e.shift(),console.log("$ MERGE LEFT",{left:{block:x,inlines:(o=x==null?void 0:x.getChildren)==null?void 0:o.call(x)},right:{block:g,inlines:(i=g==null?void 0:g.getChildren)==null?void 0:i.call(g)},root:C.$getRoot().getChildren()})),!S&&mr(g)){let b=null,k=e[e.length-1];mr(k)?(b=k,e.pop()):k===void 0&&mr(x)&&(b=x),b&&(E=c(b,g,{keep:"right"}),console.log("$ MERGE RIGHT",{left:{block:x,inlines:(s=x==null?void 0:x.getChildren)==null?void 0:s.call(x)},right:{block:g,inlines:(l=g==null?void 0:g.getChildren)==null?void 0:l.call(g)},root:C.$getRoot().getChildren()}))}if(e.length>0?x?(console.log("$ inserting after left block"),t8(x,e)):g?(console.log("$ inserting before right block"),n8(g,e)):(console.log("$ inserting in root"),C.$getRoot().append(...e)):console.log("$ no new blocks"),x&&((a=x.getChildrenSize)==null?void 0:a.call(x))===0&&x.remove(),g&&((u=g.getChildrenSize)==null?void 0:u.call(g))===0&&g.remove(),E.type==="element"){const b=E.node.getNextSibling(),k=E.node.getParent();if(C.$isTextNode(b))b.select(0,0);else if(mr(k)){const O=E.node.getIndexWithinParent();k.select(O+1,O+1)}else E.node.selectNext(0,0)}else E.node.select(E.offset,E.offset)}else C.$isNodeSelection(d)&&console.log("$ NODE SELECTION",d)}catch(c){console.log("$ ERROR"),console.error(c)}}function xi(e,t,n){e.update(()=>{const r=di(t,n);return Cr(r)})}function r8(){const e=Me();return o8(),Mp(()=>t6(e,{allowLineBreaks:!0}),[e]),null}function o8(){const e=Me(),t=po(),{configs:n}=Qe(),r=ot(),o=pe(r),[i,s]=wl(r),l=jn();_.useEffect(()=>{if(t)return Ir(Cp.subscribe(async({id:a,templateId:u,imports:c})=>{if(r&&c.includes(r)){console.error("Tried to add itself");return}const d=[{id:l(o),field:a,...u&&{select:u},inline:!0}];xi(e,d,n)}),Yk.subscribe(async a=>{xi(e,[{ctx:a}],n)}),Zk.subscribe(async({folderId:a,templateId:u})=>{const c=[{id:l(o),folder:a}];xi(e,c,n),u&&!(i!=null&&i.template)&&s("template",u)}),OA.subscribe(async({documentId:a,templateId:u})=>{xi(e,[{id:a}],n),u&&!(i!=null&&i.template)&&s("template",u)}),IA.subscribe(async({library:a,name:u})=>{const d=[_f(l(o),u,{library:a,configs:n})];xi(e,d,n)}),RA.subscribe(()=>{const a=[{id:l(o)}];xi(e,a,n)}))},[e,n,t,r,l])}const i8=()=>m("span",{className:"bg-red-800 text-red-100",children:"SOMETHING WENT WRONG"});function s8(e){const[t,n]=_.useState(()=>e.getDecorators());return Mp(()=>e.registerDecoratorListener(r=>{Md.flushSync(()=>{n(r)})}),[e]),_.useEffect(()=>{n(e.getDecorators())},[e]),_.useMemo(()=>{const r=[],o=Object.keys(t);for(let i=0;i<o.length;i++){const s=o[i],l=m(pk,{FallbackComponent:i8,onError:u=>e._onError(u),children:t[s]}),a=e.getElementByKey(s);a!==null&&r.push(Md.createPortal(l,a))}return r},[t,e])}function l8(){const e=Me(),t=s8(e);return m(re,{children:t})}const a8=(e,t)=>{const n=v=>{const S=[];return ae.forEach(v,E=>{S.push(E)}),S},r=n(e),o=n(t),i=r.length,s=o.length,l=s-i;if(s===i&&o.every((v,S)=>v===r[S]))return console.timeEnd("a"),null;const a=l<0,u=a?r:o,c=a?o:r,d=a?i:s,f=a?s:i;let p=null,h=null;if(ae.getLength(u)===1)p=0,h=1;else{for(let v=0;v<d&&(p===null&&!ae.equals([u[v]],[c[v]])&&(p=v),h===null&&!ae.equals([u[d-1-v]],[c[f-1-v]])&&(h=d-v),!(p!==null&&h!==null));v++);if(p===null||h===null)return null;l!==0&&h-p<Math.abs(l)&&(h=p+Math.abs(l))}let y=ae.slice(u,p,h),x=ae.slice(c,p,h-Math.abs(l));if({insert:y,remove:x}={insert:a?x:y,remove:a?y:x},ae.equals(ae.removeCharacters(y,"\\*+"),ae.removeCharacters(x,"\\*+"))){const v=T=>ae.match(T,"\\*+")[0];let S,E=y,b=[];S=v(E);const k=T=>typeof T=="object"?1:T.length;for(;typeof(S==null?void 0:S.index)=="number";)E=ae.concat(ae.slice(E,0,S.index),ae.slice(E,S.index+k(S.value))),b.push({value:S.value,index:S.index}),S=v(E);let O=x,$=[];for(S=v(O);typeof(S==null?void 0:S.index)=="number";)O=ae.concat(ae.slice(O,0,S.index),ae.slice(O,S.index+k(S.value))),$.push({value:S.value,index:S.index}),S=v(O);const R=[];for(let T of $)R.push([p+T.index,k(T.value)]);for(let T of b.slice().reverse())R.push([p+T.index,0,[T.value]]);return R}const g=ae.getLength(x);return!y.length&&!g?[]:y.length?[[p,g,y]]:[[p,g]]};function om(e){function t(n){if(!n||typeof n!="object")return n;if(Array.isArray(n))return n.map(t);{const r={};return Object.entries(n).forEach(([o,i])=>{r[o]=t(i)}),r}}return t(e)}function Ab(e,t){let n=om(e),r=-1;return function(i,s){let l=!1,a=n,u=r;return i(c=>{var f;const d=c.timelineIndex;if(d===null)l||(l=!0,n=om(a));else{if(d<=r)return;u=Math.max(u,d)}a=s(a,c),d===null&&t&&((f=c.trackers)==null||f.add(t))}),l||(n=om(a)),r=u,a}}function u8(e,t,n={}){const{compare:r=(d,f)=>d===f}=n;function o(d,f){let p=Array(d.length+1).fill(null).map(()=>Array(f.length+1).fill(0));for(let g=1;g<=d.length;g++)for(let v=1;v<=f.length;v++)r(d[g-1],f[v-1])?p[g][v]=p[g-1][v-1]+1:p[g][v]=Math.max(p[g-1][v],p[g][v-1]);let h=[],y=d.length,x=f.length;for(;y>0&&x>0;)r(d[y-1],f[x-1])?(h.unshift(d[y-1]),y--,x--):p[y-1][x]>p[y][x-1]?y--:x--;return h}function i(d,f,p){let h=[],y=0,x=0,g=0;const v=p.length;let S=0;for(;g<v;){const E=p[g];let b=y,k=0;for(;!r(d[y],E);)k++,y++;let O=[];for(;!r(f[x],E);)O.push(f[x]),x++;(k!==0||O.length!==0)&&(S+=O.length-k,h.push({index:b,remove:k,insert:O})),y++,x++,g++}return(y<d.length||x<f.length)&&h.push({index:y+S,remove:d.length-y,insert:f.slice(x)}),h}function s(d,f){for(let p=0;p<f.length;p++){const{index:h,remove:y,insert:x}=f[p];d.splice(h,y,...x),console.log("spliced",d.slice())}}function l(d,f){return d.length===f.length&&d.every((p,h)=>r(p,f[h]))}const a=o(e,t),u=i(e,t,a),c=e.slice();if(s(c,u),!l(c,t))throw console.log("Algorithm failed",{firstArray:e,testCase:c,secondArray:t,operations:u}),new Error("Algorithm failed");return u}const Ww="reconciliation";function c8({target:e,initialValue:t,push:n,tracker:r}){const o=Me(),i=ot(),{configs:s}=Qe(),l=sn();return ir(),w.useEffect(()=>{const a=l.getTimeline(pe(i)).getQueue($t(i)),u=Ab({stream:t,transforms:[]},r);return a.register(()=>{let c=[];const d=u(a.forEach,(f,{transaction:p,trackers:h})=>(p.map(y=>{y[0]===e&&(f.stream=up(f,y).stream,(!r||!(h!=null&&h.has(r)))&&c.push(...y[1].filter(x=>oo(x))))}),f));c.length&&o.update(()=>d8(o,d.stream,s),{tag:Ww})})},[o,s]),w.useEffect(()=>o.registerUpdateListener(({editorState:a,prevEditorState:u,tags:c,dirtyElements:d})=>{if(c.has(db)||c.has(Ww)||d.size===0)return;const f=u.read(()=>ri(C.$getRoot())),p=a.read(()=>ri(C.$getRoot())),h=a8(f,p);console.log("DIFF",h),h&&n(h.map(y=>[...y]))}),[o,n]),null}function d8(e,t,n){try{const r=C.$getSelection();let o=null,i=null;Q6(r)&&([o,i]=jp(r));const s=C.$getRoot(),l=s.getChildren(),a=di(t,n);u8(l,a,{compare:(c,d)=>c.type!==d.type?!1:ae.equals(ri(c),ri(d))}).forEach(({index:c,insert:d,remove:f})=>{s.splice(c,f,d)}),C.$setSelection(null)}catch(r){console.error(r)}}const f8=50;let gs=null;const p8=(e,t,n)=>{if(gs!==null)return!1;if(e instanceof ClipboardEvent)return n(e);{const r=t.getRootElement(),o=document.getSelection();if(r===null||o===null)return!1;const i=document.createElement("span");i.style.cssText="position: fixed; top: -1000px;",i.append(document.createTextNode("#")),r.append(i);const s=new Range;return s.setStart(i,0),s.setEnd(i,1),o.removeAllRanges(),o.addRange(s),new Promise((l,a)=>{const u=t.registerCommand(C.COPY_COMMAND,c=>{if(c instanceof ClipboardEvent){u(),gs!==null&&(window.clearTimeout(gs),gs=null);const d=n(c);return l(d),d}return!1},C.COMMAND_PRIORITY_CRITICAL);gs=window.setTimeout(()=>{u(),gs=null,l(!1)},f8),document.execCommand("copy"),i.remove()}),!0}};function h8(){const e=Me(),{configs:t}=Qe(),n=ot(),r=pe(n),o=jn(),i=sn(),s=Je(r,$t(n));return w.useLayoutEffect(()=>Ir(e.registerCommand(C.COPY_COMMAND,l=>p8(l,e,a=>{const u=C.$getSelection();console.log("selection",u),C.$isRangeSelection(u)&&console.log(u.anchor.getNode(),u.focus.getNode());const c=a.clipboardData;if(!c)return!1;let d;if(C.$isRangeSelection(u)){const[x,g]=jp(u);if(x===g)return!1;const v=ri(C.$getRoot());d=ae.slice(v,x,g)}else if(C.$isNodeSelection(u))d=u.getNodes().filter(g=>Lp(g)).map(g=>g.getTokenStream()).flat(1);else return!1;const f={},p=x=>{x.forEach(g=>{if(G.isNestedEntity(g)){const v=Hr.useMany(new RegExp(`^${xt(g.id)}.*#tree`));if(v)for(const S of v){const E=S[1].value;E&&(f[S[0].replace("#tree","")]=E,p(qn(E)))}}})};p(d);const h={entry:ap(d),record:f,documentId:r};console.log("PAYLOAD",h),a.preventDefault(),c.setData("application/x-storyflow-syntax",JSON.stringify(h));let y="";return u!==null&&(y=u.getTextContent()),c.setData("text/plain",y),!0}),C.COMMAND_PRIORITY_EDITOR),e.registerCommand(C.PASTE_COMMAND,l=>{const a=C.$getSelection();if(!C.$isRangeSelection(a))return!1;l.preventDefault();const u=l instanceof InputEvent||l instanceof KeyboardEvent?null:l.clipboardData;if(u!==null&&C.$isRangeSelection(a)){const c=u.getData("application/x-storyflow-syntax");if(c)try{const d=JSON.parse(c);console.log("PAYLOAD 1",d);const{["000000000000000000000000"]:f,...p}=Hk({["000000000000000000000000"]:d.entry,...d.record},{oldDocumentId:d.documentId,newDocumentId:r,generateNestedDocumentId:()=>o(r)});console.log("PAYLOAD 2",{entry:f,record:p});const h=Ee(g=>(ef(p).forEach(([v,S])=>{g.target(v).splice({index:0,insert:qn(S)})}),g));s(h);const y=qn(f),x=di(y,t);return Cr(x),!0}catch(d){return console.log("ERROR",d),!1}}return e.update(()=>{if(u!==null&&C.$isRangeSelection(a)){const c=u.getData("text/plain");if(c!=null&&C.$isRangeSelection(a)){const d=c.split(/\r?\n/).filter(p=>p!==""),f=d.length;for(let p=0;p<f;p++)a.insertText(d[p]),p<f-1&&a.insertParagraph()}}},{tag:"paste"}),!0},C.COMMAND_PRIORITY_EDITOR)),[e,t,r,n,i]),null}const m8={namespace:"EDITOR",theme:{},onError:()=>{}};function g8({nodes:e,push:t,tracker:n,initialValue:r,children:o=null,target:i}){const{configs:s}=Qe();return N(YF,{nodes:e,initialConfig:m8,initialize:()=>{X6(r??[],s)},children:[m(r8,{}),m(h8,{}),m(n6,{}),m(y8,{}),t&&typeof i=="string"&&m(c8,{target:i,push:t,tracker:n,initialValue:r}),o,m(l8,{})]})}function y8(){const e=ot(),t=po(),[,n]=rp(),r=w.useRef(!1);return w.useEffect(()=>{t?(n(e),r.current=!0):r.current&&(n(null),r.current=!1)},[t,e]),null}function Uw(e){return e.getEditorState().read(()=>!e.isComposing()&&C.$getRoot().getTextContent()==="")}function Fb(e){const[t,n]=_.useState(()=>Uw(e));return _.useLayoutEffect(()=>{const r=()=>n(Uw(e));return r(),e.registerUpdateListener(r)},[e]),t}function v8(){const e=Me(),t=po();return Fb(e)?m("div",{className:"absolute pointer-events-none text-gray-500 select-none",children:t?'Skriv "/" for genveje':"Ikke udfyldt"}):null}const Df=()=>{const e=C.$getSelection();if(C.$isRangeSelection(e))return e.getNodes().find(t=>Dl(t))},Ti=(e,t)=>{const n=t??Df();if(!n)return;const r=n.getTokenStream();r.length?(n.select(0),Cr(di(r,e))):n.remove()};function x8(){const e=Me(),t=po(),n=0,[r,o]=w.useState(0),i=u=>u,{configs:s}=Qe();w.useEffect(()=>e.registerUpdateListener(({editorState:u})=>{u.read(()=>{const c=C.$getSelection();let d;if(C.$isRangeSelection(c))d=c.anchor.getNode();else if(C.$isNodeSelection(c))d=c.getNodes()[0];else return;for(;d&&(C.$isTextNode(d)||d.isInline());)d=d.getParent();const f=x=>{var g;return((g=x==null?void 0:x.getBoundingClientRect())==null?void 0:g.y)??0},p=f(e.getRootElement()),h=e.getElementByKey(d.__key),y=f(h);o(i(n+y-p))})}),[e,s]);const l=rM,a=Fb(e);return t||a?m(re,{children:m("div",{className:P("absolute top-0 -left-[2.875rem] w-8 h-8 p-2 -m-1 mx-1 hover:opacity-100",a&&!t?"opacity-25":"opacity-50"),style:{transform:`translateY(${r}px)`},onMouseDown:u=>{u.preventDefault(),e.update(()=>{var g;if(t||((g=e.getRootElement())==null||g.focus(),C.$getRoot().selectEnd()),Df()){Ti(s);return}const c=C.$getSelection();if(!C.$isRangeSelection(c)&&!C.$isNodeSelection(c))return;const[d,f]=jp(c),p=ri(C.$getRoot()),h=ae.slice(p,d,f),y=C.$createParagraphNode(),x=zv("/","\uFEFF\uFEFF",h);y.append(x),C.$isNodeSelection(c)?c.getNodes()[0].replace(y):Cr([y]),x.select(2,2)})},children:m(l,{className:"w-4 h-4"})})}):null}function w8({name:e,value:t,setValue:n,label:r,className:o,small:i}){const s=w.useCallback(l=>{n&&n(l.target.checked)},[]);return N("label",{className:P("flex items-center gap-2",o),children:[N("div",{className:P("relative z-0 flex-center",i?"w-3 h-3":"w-4 h-4"),children:[m("input",{name:e,checked:t,onChange:s,type:"checkbox",className:"peer w-0 h-0 opacity-0"}),m("div",{className:"absolute inset-0 -z-10 bg-white dark:bg-gray-700 peer-checked:bg-gray-600 rounded transition-colors"}),m(vl,{className:P(i?"w-2 h-2":"w-3 h-3","opacity-0 peer-checked:opacity-100 text-gray-200 transition-opacity")})]}),r]})}function _8({value:e,setValue:t}){const[n,r]=w.useState(e);return N("div",{className:"flex",children:[m("input",{type:"range",className:"w-full",min:1,max:50,value:n,onChange:i=>{r(Number(i.target.value))},onMouseUp:()=>e!==n&&t(n)}),m("span",{className:"text-xs font-bold opacity-75 w-8 text-right",children:n})]})}function S8({id:e,transforms:t,isNested:n}){const[r]=rp(),o=!n&&r&&r!==e;let i=Ap();const s=Xo(i);return!s&&!n?null:N("div",{className:P("w-full flex divide-x divide-gray-200 dark:divide-gray-700 rounded mt-1 mb-2.5 py-1","dark:text-gray-300","text-sm","ring-1 ring-gray-200 dark:ring-gray-700"),children:[m(ll,{children:({open:l})=>N("div",{className:"relative",children:[N(ll.Button,{as:"button",className:P("h-full flex-center transition-opacity px-3.5 gap-2",l?"opacity-100":"opacity-50 hover:opacity-100"),children:[l?m(nk,{className:"w-4 h-4"}):m(ek,{className:"w-4 h-4"}),!s&&"Vælg skabelon"]}),N(Te.Items,{align:"left",open:l,marginTop:"mt-2",children:[m(E8,{id:e,transforms:t}),n&&m(k8,{id:e,transforms:t})]})]})}),(s??[]).map(({id:l,label:a})=>N("div",{className:P("group grow shrink basis-0 flex items-center gap-1 px-2 overflow-hidden"),children:[m("span",{className:P("truncate",o&&"cursor-alias"),onMouseDown:u=>{o&&(u.preventDefault(),Cp.dispatch({id:e,templateId:by(l),imports:[]}))},children:a}),o&&m(xl,{className:"w-3 h-3 opacity-50"})]},l))]})}function E8({id:e,transforms:t}){const n=ot(),r=t.find(i=>i.type==="fetch"),o=Je(pe(n),$t(n));return N("div",{className:"p-2 flex flex-col gap-2",children:[m("div",{className:"text-xs",children:m(w8,{value:r!==void 0,setValue:i=>{o(Ee(s=>s.target(e).toggle({name:"fetch",value:i?[50]:null})))},label:"Hent dokumenter fra mapper",small:!0})}),r!==void 0&&N(re,{children:[N("div",{className:"flex items-center gap-1.5 text-xs",children:[m(gM,{className:"w-3 h-3"})," Begræns antal"]}),m("div",{className:"py-1 pl-[1.175rem]",children:m(_8,{value:r.data[0],setValue:i=>{o(Ee(s=>s.target(e).toggle({name:"fetch",value:[i]})))}})})]})]})}function k8({id:e,transforms:t}){var a,u;const n=ot(),r=Je(pe(n),$t(n)),o=(a=Fu())==null?void 0:a._id,{documents:i}=En(o),s=w.useMemo(()=>(i??[]).map(c=>({id:c._id,label:c.label??c._id})),[i]),l=(u=t.find(c=>c.type==="template"))==null?void 0:u.data;return N(re,{children:[l&&m(Te.Item,{onClick:()=>{r(Ee(c=>c.target(e).toggle({name:"template",value:null})))},label:"Fjern"}),s.map(c=>m(Te.Item,{onClick:d=>{r(Ee(f=>f.target(e).toggle({name:"template",value:xt(c.id)})))},label:c.label},c.label))]})}function C8(e){const t=ot(),{record:n}=is(),r=zn(),o=n[e]??je,[i,s]=on(`${e}#tree`,()=>o),[l,a]=on(e,()=>Er(o,{record:n,client:r,documentId:pe(t)})),u=w.useCallback((c,d)=>{const f=ap(c,d);s(()=>f),a(()=>Er(f,{client:r,record:n,documentId:pe(t)}))},[]);return{initialValue:o,tree:i,value:l,setState:u}}function Bv(e){var f,p;const t=ot(),{initialValue:n,tree:r,value:o,setState:i}=C8(e),s=sn(),l=e,a=GE(e);w.useEffect(()=>{const h=s.getTimeline(pe(t)).getQueue($t(t)),[y,x]=Yi(n),g=Ab({transforms:y,stream:qn(x)});return h.register(()=>{a(()=>{let v=!1;const S=g(h.forEach,(E,{transaction:b})=>(b.forEach(k=>{k[0]===l&&(E=up(E,k),v=!0)}),E));v&&i(S.stream,S.transforms)})})},[s]);const u=Array.isArray(o)&&o[0]===r.children[0],c=w.useMemo(()=>Yi(r)[0],[r]),d=e===t?(f=wl(t)[0])==null?void 0:f.template:(p=c.find(h=>h.type==="template"))==null?void 0:p.data;return{target:l,initialValue:n,tree:r,value:o,isPrimitive:u,transforms:c,templateId:d}}const _u=(e,t=0,n=1)=>e>n?n:e<t?t:e;function cd(e){const t=w.useRef(e),n=w.useRef(r=>{t.current&&t.current(r)});return t.current=e,n.current}const bt=(e,t=0,n=Math.pow(10,t))=>Math.round(n*e)/n,zb=(e,t)=>{if(e===t)return!0;for(const n in e)if(e[n]!==t[n])return!1;return!0},Mf=e=>"touches"in e,b8=(e,t)=>{for(let n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]},d0=e=>e&&e.ownerDocument.defaultView||self,im=(e,t,n)=>{const r=e.getBoundingClientRect(),o=Mf(t)?b8(t.touches,n):t;return{left:_u((o.pageX-(r.left+d0(e).pageXOffset))/r.width),top:_u((o.pageY-(r.top+d0(e).pageYOffset))/r.height)}},N8=e=>{e.preventDefault()},T8=(e,t)=>t&&!Mf(e),$8=({onMove:e,onKey:t,onMoveEnd:n,...r})=>{const o=w.useRef(null),i=cd(e),s=cd(n),l=cd(t),a=w.useRef(null),u=w.useRef(!1),[c,d]=w.useMemo(()=>{const f=x=>{x.stopPropagation(),x.preventDefault();const g=o.current;if(!g)return;const{nativeEvent:v}=x;if(!(T8(v,u.current)||!g)){if(Mf(v)){u.current=!0;const S=v.changedTouches||[];S.length&&(a.current=S[0].identifier)}i(im(g,v,a.current)),y(!0)}},p=x=>{N8(x);const g=Mf(x)?x.touches.length>0:x.buttons>0;let v;g?v=i:(v=s,y(!1)),v&&o.current&&v(im(o.current,x,a.current))},h=x=>{y(!1);const g=o.current;g&&s(im(g,x,a.current))};function y(x){const g=u.current,v=o.current,S=d0(v),E=x?S.addEventListener:S.removeEventListener;E(g?"touchmove":"mousemove",p),E(g?"touchend":"mouseup",h)}return[f,y]},[l,i]);return w.useEffect(()=>d,[d]),m("div",{...r,role:"slider",ref:o,className:"absolute z-20 inset-0 outline-none touch-none",onMouseDown:c,onTouchStart:c})},jb=w.memo($8),Bb=({color:e,left:t=.5,top:n})=>{const r={top:`${n*100}%`,left:`${t*100}%`};return m("div",{style:r,className:"absolute z-10 w-4 h-4 -translate-x-1/2 -translate-y-1/2 bg-white border-2 border-white rounded-full",onMouseDown:o=>{o.preventDefault()},children:m("div",{style:{backgroundColor:e}})})},Hw=e=>P8(f0(e)),f0=e=>(e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?bt(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?bt(parseInt(e.substring(6,8),16)/255,2):1}),Wb=e=>R8(I8(e)),O8=({h:e,s:t,v:n,a:r})=>{const o=(200-t)*n/100;return{h:bt(e),s:bt(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:bt(o/2),a:bt(r,2)}},p0=e=>{const{h:t,s:n,l:r}=O8(e);return`hsl(${t}, ${n}%, ${r}%)`},I8=({h:e,s:t,v:n,a:r})=>{e=e/360*6,t=t/100,n=n/100;const o=Math.floor(e),i=n*(1-t),s=n*(1-(e-o)*t),l=n*(1-(1-e+o)*t),a=o%6;return{r:bt([n,s,i,i,l,n][a]*255),g:bt([l,n,n,s,i,i][a]*255),b:bt([i,i,l,n,n,s][a]*255),a:bt(r,2)}},Fc=e=>{const t=e.toString(16);return t.length<2?"0"+t:t},R8=({r:e,g:t,b:n,a:r})=>{const o=r<1?Fc(bt(r*255)):"";return"#"+Fc(e)+Fc(t)+Fc(n)+o},P8=({r:e,g:t,b:n,a:r})=>{const o=Math.max(e,t,n),i=o-Math.min(e,t,n),s=i?o===e?(t-n)/i:o===t?2+(n-e)/i:4+(e-t)/i:0;return{h:bt(60*(s<0?s+6:s)),s:bt(o?i/o*100:0),v:bt(o/255*100),a:r}},Vw=(e,t)=>e.toLowerCase()===t.toLowerCase()?!0:zb(f0(e),f0(t));function D8(e,t){const n=cd(t),[r,o]=w.useState(()=>Hw(e)),i=w.useRef({color:e,hsva:r});w.useEffect(()=>{if(!Vw(e,i.current.color)){const l=Hw(e);i.current={hsva:l,color:e},o(l)}},[e]),w.useEffect(()=>{let l;!zb(r,i.current.hsva)&&!Vw(l=Wb(r),i.current.color)&&(i.current={hsva:r,color:l},n(l))},[r,n]);const s=w.useCallback(l=>{o(a=>Object.assign({},a,l))},[]);return[r,s]}const M8=({hsva:e,onChange:t,onEnd:n})=>{const r=s=>{t({s:s.left*100,v:100-s.top*100})},o=s=>{n==null||n({s:s.left*100,v:100-s.top*100})},i=s=>{t({s:_u(e.s+s.left*100,0,100),v:_u(e.v-s.top*100,0,100)})};return m("div",{style:{backgroundColor:p0({h:e.h,s:100,v:100,a:1})},className:"saturation relative w-full h-32 rounded-l-sm -mr-1 shadow-lg",children:m(jb,{onMove:r,onMoveEnd:o,onKey:i,"aria-label":"Color","aria-valuetext":`Saturation ${bt(e.s)}%, Brightness ${bt(e.v)}%`,children:m(Bb,{top:1-e.v/100,left:e.s/100,color:p0(e)})})})},L8=({hue:e,onChange:t,onEnd:n})=>m("div",{className:"relative w-8 h-32 hue rounded-sm ring-1 ring-inset ring-white/25",children:m(jb,{onMove:s=>{t({h:360*s.top})},onMoveEnd:s=>{n==null||n({h:360*s.top})},onKey:s=>{t({h:_u(e+s.top*360,0,360)})},"aria-label":"Hue","aria-valuenow":bt(e),"aria-valuemax":"360","aria-valuemin":"0",children:m(Bb,{top:e/360,color:p0({h:e,s:100,v:100,a:1})})})}),A8=w.memo(L8),F8=w.memo(M8),z8=({color:e="#fff",onChange:t,onEnd:n,className:r})=>{const[o,i]=D8(e,t),s=w.useCallback(()=>{n==null||n(Wb(o))},[n,o]);return N("div",{className:P("flex",r),children:[m(F8,{hsva:o,onChange:i,onEnd:s}),m(A8,{hue:o.h,onChange:i,onEnd:s})]})};function j8(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),i=t(r);if(o===null||i===null)return 0;let s=o.compareDocumentPosition(i);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}const B8={selectNext(e){return Zl(e,t=>t===null?e.items.length>0?1:0:t===e.items.length-1?0:t+1)},selectPrevious(e){return Zl(e,t=>[null,0].includes(t)?e.items.length-1:t-1)},registerItem(e,t){return Zl({...e,items:[...e.items,t]})},unregisterItem(e,t){return Zl({...e,items:e.items.filter(n=>n!==t),selectedId:e.selectedId===t.id?null:e.selectedId})},goToItem(e,t){return Zl(e,(n,r)=>typeof t=="number"?t:r.findIndex(o=>o.id===t)??null)},deselect(e){return{...e,selectedId:null}}},W8={items:[],selectedId:null,defaultId:null};function Zl({items:e,selectedId:t},n){var a;let r=t!==null?e.find(u=>u.id===t):null,o=j8(e.slice(),u=>u.ref.current),i=r?o.indexOf(r):null,s=(n==null?void 0:n(i,o))??i,l=s!==null?o[s]:null;return{items:o,selectedId:(l==null?void 0:l.id)??null,defaultId:((a=o[0])==null?void 0:a.id)??null}}const Wv=w.createContext(null);function Uv({children:e}){const[t,n]=XP(B8,W8),r=w.useCallback(i=>(n.registerItem(i),()=>{n.unregisterItem(i)}),[]),o=w.useMemo(()=>({selectedId:t.selectedId,defaultId:t.defaultId,register:r,actions:n}),[t.selectedId,t.defaultId]);return m(Wv.Provider,{value:o,children:e})}function U8(){return ct(Wv,"Options").actions}function nc(){const e=ct(Wv,"Options"),t=w.useId(),n=w.useRef(null);w.useEffect(()=>{const o={id:t,ref:n};return e.register(o)},[]);const r=e.selectedId?e.selectedId===t:e.defaultId===t;return w.useEffect(()=>{var o;r&&((o=n.current)==null||o.scrollIntoView({block:"nearest",inline:"nearest"}))},[r]),[r,n]}function Ub(){const e=Me(),t=U8();return w.useEffect(()=>Ir(e.registerCommand(C.KEY_ARROW_DOWN_COMMAND,n=>(n==null||n.preventDefault(),t.selectNext(),!0),C.COMMAND_PRIORITY_HIGH),e.registerCommand(C.KEY_ARROW_UP_COMMAND,n=>(n==null||n.preventDefault(),t.selectPrevious(),!0),C.COMMAND_PRIORITY_HIGH)),[]),w.useEffect(()=>{t.goToItem(0)},[]),null}function H8({node:e}){const t=Me(),n=w.useMemo(()=>{var c;return((c=e==null?void 0:e.__token)==null?void 0:c.color)??"#ffffff"},[e]),[r,o]=w.useState(n),[i,s]=w.useState([n]);w.useEffect(()=>{o(n),s([n])},[e]);const{configs:l}=Qe(),a=w.useCallback(()=>{s(c=>[r,...c.slice(0,7)]),t.update(()=>{if(e)e.setToken({color:r});else{const c=di([{color:r}],l);Cr(c)}})},[r,e,t,l]),u=r!==i[0];return N("div",{className:"p-2.5",children:[m(Uv,{children:m(z8,{color:r,onChange:o,onEnd:a,className:"w-full rounded"})}),N("div",{className:"flex mt-2.5",children:[N("div",{className:"flex gap-1.5",children:[u&&m("div",{className:"h-8 w-8 rounded",style:{backgroundColor:r}}),i.map((c,d)=>u&&d===7?null:m("div",{className:P("h-8 w-8","rounded"),style:{backgroundColor:c}},`${c}-${d}`))]}),m("div",{className:"ml-auto h-8 flex items-center",children:r.toUpperCase()})]})]})}const rc=(e,t)=>{let n=0,r=e.toLowerCase(),o=t.toLowerCase();for(;r[n]===o[n]&&(n++,!(n>=e.length||n>=t.length)););return n>0?N(re,{children:[m("strong",{className:"whitespace-pre",children:e.substring(0,n)}),m("span",{className:"whitespace-pre opacity-80",children:e.substring(n)})]}):m("span",{className:"whitespace-pre opacity-80",children:e})};function Hb({isSelected:e,onEnter:t,value:n}){const r=Me();return w.useEffect(()=>{if(e)return r.registerCommand(C.KEY_ENTER_COMMAND,i=>(i==null||i.preventDefault(),t(n),!0),C.COMMAND_PRIORITY_HIGH)},[e,t,n]),{onClick:w.useCallback(()=>t(n),[t,n])}}function io({onEnter:e,onEnterLabel:t,value:n,onArrowRight:r,onArrowRightLabel:o,children:i,secondaryText:s,Icon:l,style:a}){const[u,c]=nc();w.useEffect(()=>{var f;u&&((f=c.current)==null||f.scrollIntoView({block:"nearest",inline:"nearest"}))},[u]);const{onClick:d}=Hb({isSelected:u,onEnter:e,value:n});return N("div",{ref:c,className:P("group h-10 shrink-0 rounded text-sm cursor-default",u&&"bg-gray-800","hover:ring-1 hover:ring-inset hover:ring-gray-700","flex items-center justify-between"),style:a,onMouseDown:f=>{f.preventDefault()},onClick:d,children:[N("div",{className:P("flex items-center",!a&&"text-white text-opacity-90"),children:[l&&m("div",{className:"m-1 mr-0 h-8 w-8 rounded border border-gray-750 flex-center",children:m(l,{className:"w-4 h-4"})}),N("div",{className:"px-2.5",children:[i,s&&m("div",{className:P("text-xs -mt-0.5",!a&&"text-gray-300 text-opacity-75"),children:s})]})]}),u&&N("div",{className:"flex",children:[r&&N("button",{className:P("text-xs flex gap-2 py-1.5 px-3 rounded","peer hover:bg-gray-600 transition-colors",!a&&"text-gray-300 text-opacity-50"),children:[o??"indsæt",m(b3,{className:"w-4 h-4"})]}),N("button",{className:P("text-xs flex gap-2 py-1.5 px-3 rounded",!a&&"text-gray-300 text-opacity-50",r&&"group-hover:bg-gray-600 peer-hover:bg-transparent transition-colors"),children:[t??"indsæt",m(D3,{className:"w-4 h-4 rotate-180"})]})]})]})}function V8({prompt:e,options:t=[],replacePromptWithStream:n}){const r=ot(),o=pe(r),i=jn(),{configs:s}=Qe();let l=Object.entries(s).map(([c,d])=>Object.entries(d.configs).map(([f,p])=>({...p,name:f.replace(/Config$/,""),libraryName:c,libraryLabel:d.label}))).flat(1);if(t.length>0){const c=l.filter(d=>d.libraryName==="");l=l.filter(d=>t.includes(`${d.libraryName}:${d.name}`)),l.push(...c)}else l=l.filter(c=>!c.hidden);const a=e?l.filter(({label:c})=>c.toLowerCase().startsWith(e.toLowerCase())):l,u=w.useCallback(c=>{n([_f(i(o),c.name,{library:c.libraryName,configs:s})])},[i]);return N("div",{className:"p-2.5",children:[m("div",{className:"font-medium text-gray-400 mb-1 ml-1",children:"Vælg element"}),a.map(c=>m(io,{value:c,onEnter:u,Icon:My,children:rc(c.label,e)},`${c.libraryName}:${c.name}`))]})}const K8=e=>{if(typeof document>"u")throw new Error("getImageSize only works in a browser/DOM environment.");return new Promise((t,n)=>{const r=new Image,o=setTimeout(()=>{n("image load timed out")},1e4);r.onload=()=>{clearTimeout(o),t({width:r.naturalWidth,height:r.naturalHeight})},r.src=e})},G8=e=>{if(typeof document>"u")throw new Error("getVideoSize only works in a browser/DOM environment.");return new Promise((t,n)=>{const r=document.createElement("video");let o;const i=()=>{r.removeEventListener("loadedmetadata",i),clearTimeout(o),t({width:r.videoWidth,height:r.videoHeight})};o=setTimeout(()=>{r.removeEventListener("loadedmetadata",i),n("image load timed out")},1e4),r.addEventListener("loadedmetadata",i,!1),r.src=e})},Vb=e=>{const t=e.split("/")[0];return["video","image","application"].includes(t)?t:null},Kb={image:["png","jpg","jpeg","avif","webp"],video:["mp4","mov","wmv","flv","avi"],application:["pdf"]},Z8=e=>{var t;return((t=Object.entries(Kb).find(([,n])=>n.includes(e)))==null?void 0:t[0])??null},Y8=e=>{const t=e.replace(/.*\.([^.]+)$/,"$1");return Object.values(Kb).flat(1).includes(t)?t:null},Q8=()=>N("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]});function J8(e){const[t,n]=w.useState(!1),[r,o]=w.useState(null),[i,s]=w.useState(null),l={file:i,preview:r},a=w.useRef(null),u=async g=>{const v=Vb(g.type);v!==null&&(["image","video"].includes(v)&&o(URL.createObjectURL(g)),e==null||e(g.name.replace(/(.*)\.[^.]+$/,"$1")),s(g))};return[l,{onChange:g=>{var S;const v=((S=g.target.files)==null?void 0:S[0])??null;v&&u(v)},dragEvents:{onDragOver:g=>{g.dataTransfer.types.includes("Files")&&(a.current=g.currentTarget,g.preventDefault(),g.stopPropagation())},onDrop:g=>{var v;if(g.dataTransfer.types.includes("Files")){g.preventDefault(),g.stopPropagation(),n(!1);const S=(v=g.dataTransfer.files)==null?void 0:v[0];S&&u(S)}},onDragEnter:g=>{g.dataTransfer.types.includes("Files")&&(g.preventDefault(),g.stopPropagation(),n(!0))},onDragLeave:g=>{g.dataTransfer.types.includes("Files")&&(g.preventDefault(),g.stopPropagation(),a.current===g.target&&(n(!1),a.current=null))}},resetFile:()=>{s(null),o(null),e==null||e("")}}]}function Gb({prompt:e,holdActions:t,replacePromptWithStream:n}){const{organization:r}=or(),[o,i]=B6(),s=w.useCallback(a=>{n([{src:a}])},[n]),l=w.useMemo(()=>{const a=e.toLowerCase();return o.filter(u=>u.label.toLowerCase().includes(a))},[o,e]);return N("div",{className:"flex p-2.5 items-start gap-3 overflow-x-auto no-scrollbar",children:[m("div",{className:"shrink-0 flex flex-col",children:m(q8,{prompt:e,upload:async(a,u,c)=>{const d=await i(a,u,c);return d?(n([{src:d}]),!0):!1},holdActions:t})}),l.map(({name:a,label:u})=>m(e7,{name:a,label:u,organization:r.slug,onEnter:s}))]})}function q8({upload:e,prompt:t,holdActions:n}){const[r,o]=w.useState(""),[{file:i,preview:s},{onChange:l,dragEvents:a,resetFile:u}]=J8(h=>{t||o(h),n.release()}),[c,d]=w.useState(!1),[f,p]=nc();return N(re,{children:[N("label",{ref:p,className:P("rounded bg-[#ffffff05] p-3 m-0 hover:bg-gray-700 transition-colors text-sm text-center w-52 shrink-0",f&&"ring-1 ring-gray-700"),"data-image-preview":"0",onMouseDown:h=>{h.preventDefault()},onClick:async h=>{if(s){if(h.preventDefault(),!i)return;const y=Vb(i.type);if(!y)return;d(!0);let x={size:i.size};["image","video"].includes(y)&&(x=await(y==="image"?K8:G8)(s)),await e(i,t||r,x)&&u(),d(!1)}else console.log("HOLD"),n.hold()},...a,children:[m("input",{type:"file",className:"absolute w-0 h-0 opacity-0",onChange:l}),N("div",{className:"relative w-full aspect-[4/3] flex-center mb-2",children:[s?m("img",{src:s,className:"max-w-full max-h-full w-auto h-auto"}):m("span",{className:"text-gray-300 text-opacity-75",children:"Tilføj fil"}),m("div",{className:P("absolute inset-0 bg-black/50 flex-center transition-opacity",c?"opacity-100":"opacity-0"),children:c&&m(Q8,{})})]}),m("div",{className:"truncate w-full",children:t||r||"Ingen label"})]}),s&&m(X8,{discard:()=>u()})]})}function X8({discard:e}){const[t,n]=nc();return m("div",{ref:n,className:"flex gap-2 w-full",children:m("button",{className:P("grow shrink basis-0 bg-[#ffffff05] mt-2 px-3 py-1.5 rounded flex-center hover:bg-gray-700 text-gray-300 text-opacity-75 text-sm",t&&"ring-1 ring-gray-700"),"data-image-preview":"1",onMouseDown:r=>{r.preventDefault()},onClick:()=>{e()},children:"Kasser"})})}function e7({name:e,label:t,organization:n,onEnter:r}){const[o,i]=nc(),{onClick:s}=Hb({isSelected:o,onEnter:r,value:e});return N("div",{ref:i,className:P("rounded bg-[#ffffff05] p-3 hover:bg-gray-700 transition-colors text-sm text-center w-52 shrink-0",o&&"ring-1 ring-gray-700"),onMouseDown:l=>{l.preventDefault(),s()},children:[m("div",{className:"w-full aspect-[4/3] flex-center mb-2",children:m(t7,{name:e,organization:n})}),m("div",{className:"truncate w-full",children:t})]})}function t7({name:e,organization:t}){const n=Z8(Y8(e)??""),r=`https://cdn.storyflow.dk/${t}/${e}`;return N(re,{children:[n==="image"&&m("img",{src:r,className:"max-w-full max-h-full w-auto h-auto",loading:"lazy"}),n==="video"&&N("video",{style:{width:"100%",height:"auto"},autoPlay:!0,muted:!0,playsInline:!0,loop:!0,children:[m("source",{src:r,id:"video_here"}),"Your browser does not support HTML5 video."]})]})}function n7({prompt:e,replacePromptWithStream:t}){const n=Me(),r=()=>n.getEditorState().read(()=>{const u=C.$getSelection();if(!C.$isRangeSelection(u)||!u.isCollapsed())return;const c=jv(u.anchor)-(e.length+1);if(c===0)return;const d=ri(C.$getRoot());return ae.at(d,c-1)}),[o,i]=w.useState(null),[s]=on(o==null?void 0:o.field);w.useEffect(()=>{const u=r();G.isNestedField(u)&&i(u)},[]);const l=s!=null&&s[0]?`${s[0]}/${e}`:e,a=Array.from(Iy().values()).filter(u=>u.type==="app");return m(re,{children:a.map(u=>m(r7,{app:u,prompt:l,replacePromptWithStream:t},u._id))})}function r7({app:e,prompt:t,replacePromptWithStream:n}){const r=ot(),o=pe(r),i=jn(),{documents:s}=En(e._id),l=w.useCallback(u=>{const c={id:i(o),field:_e(u,ie.url.id),inline:!0};n([c])},[n]),a=(s??[]).reduce((u,c)=>{var f;const d=((f=ao(_e(c._id,ie.url.id),c.record))==null?void 0:f[0])??"";return d.slice(1).startsWith(t.toLowerCase())&&u.push({id:c._id,label:rc(d||"[forside]",t),onEnterLabel:"Indsæt",Icon:xl,onEnter:l}),u},[]);return N("div",{className:"p-2.5",children:[m("div",{className:"font-medium text-gray-400 mb-1 ml-1",children:e.label}),a.map(({id:u,label:c,secondaryText:d,Icon:f,onEnter:p,onEnterLabel:h})=>m(io,{value:u,onEnter:p,onEnterLabel:h,secondaryText:d,Icon:f,children:c}))]})}function o7({prompt:e}){const t=Me(),{configs:n}=Qe(),r=w.useCallback(s=>{t.update(()=>{const l=C.$getSelection();if(C.$isRangeSelection(l)){let a=l.anchor.getNode();l.anchor.type==="text"&&(a=a.getParent(),a=a.isInline()?a.getParent():a);let u=null;ul(a)&&s==="p"?u=C.$createParagraphNode():(C.$isParagraphNode(a)||ul(a))&&s!=="p"&&(u=Ni(s)),u&&(u.setFormat(a.getFormatType()),u.setIndent(a.getIndent()),a.replace(u,!0)),Ti(n)}})},[t,n]),o=w.useMemo(()=>[{label:"Overskrift 1",value:"h1"},{label:"Overskrift 2",value:"h2"},{label:"Overskrift 3",value:"h3"},{label:"Brødtekst",value:"p"}],[]),i=e?o.filter(({label:s})=>s.toLowerCase().includes(e.toLowerCase())):o;return N("div",{className:"p-2.5",children:[m("div",{className:"font-medium text-gray-400 mb-1 ml-1",children:"Formater afsnit"}),i.map(s=>m(io,{value:s.value,onEnter:r,children:s.label},s.value))]})}const wi=["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"],Zb=["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],Kw={et:1,en:1,to:2,tre:3,fire:4,fem:5,seks:6,syv:7,otte:8,ni:9,ti:10,elleve:11,tolv:12,tretten:13,fjorten:14,femten:15,seksten:16,sytten:17,atten:18,nitten:19,tyve:20},i7=["første","anden","tredje","fjerde","femte","sjette","syvende","ottende","niende","tiende","ellevte","tolvte","trettende","fjortende","femtende","sekstende","syttende","attenende","nittende","tyvende","enogtyvende","toogtyvende","treogtyvende","fireogtyvende","femogtyvende","seksogtyvende","syvogtyvende","otteogtyvende","niogtyvende","tredivte","enogtredivte"],Na=RegExp("(\\d+\\.?\\d*(?:[:h]\\d+\\.?\\d*(?:[:m]\\d+\\.\\d*s?)?)?)"),Yb=RegExp("(\\d+\\/\\d+(?:\\/\\d+)?)"),s7=RegExp("\\s+|(\\d+(?:th|nd|rd|th))|"+Na.source+"([A-Za-z]+)|([A-Za-z]+)"+Na.source+"|"+Yb.source);function l7(e){const t=Object.keys(Kw),n=new Date,r=e.split(s7).filter(Boolean).map(p=>{let h=p.toLowerCase();return t.includes(h)&&(h=`${Kw[h]}`),h}).reduce((p,h,y,x)=>(["over","i"].includes(h)&&/^(\d+)/.exec(x[y+1])?(p[p.length-1]==="kvart"?(p.pop(),p.push("15","minutter")):/^(\d+)$/.exec(p[p.length-1])&&p.push("minutter"),p.push(h)):h==="halv"&&/^(\d+)/.exec(x[y+1])&&p.push("30","minutter","i"),p.push(h),p),[]),o={};for(let p=0;p<r.length;p++){let h=r[p],y=r[p+1],x=r[p-1];h==="i"&&["dag","morgen","går"].includes(y)&&(h=`i ${y}`,y=r[p+2],p++);let g;if((g=/(\d+)\./i.exec(h))||(g=i7.indexOf(h.toLowerCase()))!==-1)o.date=typeof g=="number"?g+1:Number(g[1]),zc(y)&&(o.month=y,p++);else if((g=Na.exec(h))&&a7(y))if(x==="om"){let v=p;for(;v<r.length;v+=2)if(r[v]==="og")v--;else if((g=Na.exec(r[v]))&&Yw(r[v+1]))u(sm(r[v]),$i(r[v+1]));else if((g=/^(\d+\.?\d*)/.exec(r[v]))&&Qw(r[v+1]))f(Number(g[1]),$i(r[v+1]));else break;p=v}else{let v=!1,S=p+2;for(;S<r.length&&!(r[S]==="siden"||(v=Boolean(["i","over"].includes(r[S])&&/^(\d+)/.exec(r[S+1]))));S++);if(S===r.length)continue;v&&(o.hours=Number(r[S+1]),o.minutes=0,o.seconds=0);let E=r[S]==="over"?[u,f]:[a,d];for(let b=p;b<S;b++)(g=Na.exec(r[b]))&&Yw(r[b+1])?E[0](sm(r[b]),$i(r[b+1])):(g=/^(\d+\.?\d*)/.exec(r[b]))&&Qw(r[b+1])&&E[1](Number(g[1]),$i(r[b+1]));p=S+Number(v)}else if(g=Yb.exec(h)){const v=u7(h);v[0]!==null&&(o.date=v[0]),v[1]!==null&&(o.month=v[1]),v[2]!==null&&(o.year=v[2])}else if(/\d+[:h]\d+/.test(h)||/^(am|pm)/.test(y)){let v=sm(h,y);v[0]!==null&&(o.hours=v[0]),v[1]!==null&&(o.minutes=v[1]),v[2]!==null&&(o.seconds=v[2])}else if((g=/^(\d+)/.exec(h))&&zc(y)){let v=Number(g[1]);o.year===void 0&&v>31?o.year=v:o.date===void 0&&(o.date=v),o.month===void 0&&(o.month=y),p++}else if(zc(h)&&(g=/^(\d+)/.exec(y))){let v=Number(g[1]);o.year===void 0&&v>31?o.year=v:o.date===void 0&&(o.date=v),o.month===void 0&&(o.month=h),p++}else if((g=/^(\d+)/.exec(h))&&zc(x)){let v=Number(g[1]);o.year===void 0?o.year=v:o.hours===void 0&&(o.hours=v)}else if(g=/^[`'\u00b4\u2019](\d+)/.exec(h))o.year=Number(g[1]);else if(g=/^(\d+)/.exec(h)){let v=Number(g[1]);o.hours===void 0&&v<24?o.hours=v:o.date===void 0&&v<=31?o.date=v:o.year===void 0&&v>31||o.year==null&&o.hours!==void 0&&o.date!==void 0?o.year=v:o.hours===void 0&&o.date!==void 0&&o.year!==void 0?o.hours=v:o.date===void 0&&o.hours!==void 0&&o.year!==void 0&&(o.date=v)}else if(/^i ?dag$/.test(h)&&o.date===void 0)o.date=n.getDate(),o.month=wi[n.getMonth()],o.year=n.getFullYear();else if(/^nu$/.test(h)&&o.date===void 0)o.hours=n.getHours(),o.minutes=n.getMinutes(),o.seconds=n.getSeconds(),o.date=n.getDate(),o.month=wi[n.getMonth()],o.year=n.getFullYear();else if(/^i ?morgen/.test(h)&&o.date===void 0){let v=new Date(n.valueOf()+864e5);o.date=v.getDate(),o.month===void 0&&(o.month=wi[v.getMonth()]),o.year===void 0&&(o.year=v.getFullYear())}else if(/^i ?går/.test(h)&&o.date===void 0){let v=new Date(n.valueOf()-864e5);o.date=v.getDate(),o.month===void 0&&(o.month=wi[v.getMonth()]),o.year===void 0&&(o.year=v.getFullYear())}else h==="næste"&&jc(y)&&o.date===void 0?(s(y,7),p++):h==="sidste"&&jc(y)&&o.date===void 0||h==="i"&&jc(y)&&o.date===void 0?(s(y,-7),p++):jc(h)&&o.date===void 0&&s(h,0)}if(typeof o.year=="number"&&o.year<100){let p=n.getFullYear(),h=p%100;h+10<o.year?o.year+=p-h-100:o.year+=p-h}o.month&&typeof o.month!="number"&&(o.month=Qb(o.month));let i=new Date(n);return i.setHours(o.hours===void 0?0:o.hours),i.setMinutes(o.minutes===void 0?0:o.minutes),i.setSeconds(o.seconds===void 0?0:o.seconds),o.date&&i.setDate(o.date),typeof o.month=="number"?i.setMonth(o.month):o.month&&i.setMonth(wi.indexOf(o.month)),o.year&&i.setFullYear(o.year),i;function s(p,h){let x=(7+Zb.indexOf(Jb(p))-n.getDay())%7+h,g=new Date(n.valueOf()+x*24*60*60*1e3);o.date=g.getDate(),o.month===void 0&&(o.month=wi[g.getMonth()]),o.year===void 0&&(o.year=g.getFullYear())}function l(p,h,y){if(h=="timer")o.hours=y(o.hours??n.getHours(),p[0]),o.minutes=y(o.minutes??n.getMinutes(),p[1]===null?0:p[1]),o.seconds=y(o.seconds??n.getSeconds(),p[2]===null?0:p[2]);else if(h=="minutter"||h==="kvarter"){const x=h==="kvarter"?15:1;o.hours===void 0&&(o.hours=n.getHours()),o.minutes=y(o.minutes??n.getMinutes(),p[0]===null?0:p[0]*x),o.seconds=y(o.seconds??n.getSeconds(),p[1]===null?0:p[1])}else h=="sekunder"&&(o.hours===void 0&&(o.hours=n.getHours()),o.minutes===void 0&&(o.minutes=n.getMinutes()),o.seconds=y(o.seconds??n.getSeconds(),p[0]===null?0:p[0]))}function a(p,h){l(p,h,Zw)}function u(p,h){l(p,h,Gw)}function c(p,h,y){o.hours===void 0&&(o.hours=n.getHours()),o.minutes===void 0&&(o.minutes=n.getMinutes()),o.seconds===void 0&&(o.seconds=n.getSeconds()),h==="dage"?o.date=y(n.getDate(),p):h==="uger"?o.date=y(n.getDate(),p*7):h==="måneder"?o.month=y(n.getMonth(),p):h==="år"&&(o.year=y(n.getFullYear(),p))}function d(p,h){c(p,h,Zw)}function f(p,h){c(p,h,Gw)}}function Gw(e,t){return e+t}function Zw(e,t){return e-t}function Yw(e){let t=$i(e);return t==="timer"||t==="kvarter"||t==="minutter"||t==="sekunder"}function Qw(e){let t=$i(e);return t==="dage"||t==="uger"||t==="måneder"||t==="år"}function a7(e){return Boolean($i(e))}function $i(e){if(/^(ms|millisecs?|milliseks?|millisekunde?r?)$/.test(e))return"millisekunder";if(/^(s|sec?s?|seks?|sekunde?r?)$/.test(e))return"sekunder";if(/^(m|mins?|minutt?e?r?)$/.test(e))return"minutter";if(/^(kvarter?e?r?)$/.test(e))return"kvarter";if(/^(h|t|hrs?|timer?)$/.test(e))return"timer";if(/^(d|dage?)$/.test(e))return"dage";if(/^(w|u|wks?|uger?)$/.test(e))return"uger";if(/^(mnde?r?|månede?r?)$/.test(e))return"måneder";if(/^(år)$/.test(e))return"år"}function zc(e){return Boolean(Qb(e))}function jc(e){return Boolean(Jb(e))}function Qb(e){return wi.find(t=>t.startsWith(e))}function Jb(e){if(!(!e||e.length<3))return Zb.find(t=>t.startsWith(e.replace("dags","dag")))}function sm(e,t){let n=/(\d+\.?\d*)(?:[:h](\d+\.?\d*)(?:[:m](\d+\.?\d*s?\.?\d*))?)?/.exec(e);if(!n)throw new Error("Invalid time: "+e);let r=[Number(n[1]),null,null];return t&&/^pm/.test(t)&&r[0]<12&&(r[0]+=12),n[2]&&(r[1]=Number(n[2])),n[3]&&(r[2]=Number(n[3])),r[0]>vo(r[0])&&(r[1]=vo((r[0]-vo(r[0]))*60),r[0]=vo(r[0])),r[1]&&r[1]>vo(r[1])&&(r[2]=vo((r[1]-vo(r[1]))*60),r[1]=vo(r[1])),r}function u7(e){let t=/(\d+)\/(\d+)(?:\/(\d+))?/.exec(e);if(!t)throw new Error("Invalid date format: "+e);let n=[Number(t[1]),null,null];return t[2]&&(n[1]=Number(t[2])-1),t[3]&&(n[2]=Number(t[3])),n}function vo(e){return Math.floor(Math.round(e*1e6)/1e6)}function c7({prompt:e,replacePromptWithStream:t}){const[n,r]=nc(),o=w.useMemo(()=>l7(e),[e]);return m("div",{className:"p-2.5",children:N("div",{ref:r,className:P("p-2.5 rounded","group flex items-center gap-2",n&&"bg-gray-800","hover:ring-1 hover:ring-inset hover:ring-gray-700"),children:[N("div",{className:"group-hover:opacity-50 group-hover:hover:opacity-100 transition-opacity cursor-default bg-gradient-to-b from-cyan-600 to-cyan-700 shadow-sm text-sky-100/90 rounded px-2 py-0.5 flex-center gap-2",children:[m(Y3,{className:"w-4 h-4 inline"}),Intl.DateTimeFormat("da-DK",{weekday:"long"}).format(o).slice(0,3)," ",Intl.DateTimeFormat("da-DK",{dateStyle:"long",...[o.getHours(),o.getMinutes(),o.getSeconds()].some(Boolean)?{timeStyle:"short"}:{}}).format(o)]}),N("div",{className:"group-hover:opacity-50 group-hover:hover:opacity-100 transition-opacity cursor-default bg-gradient-to-b dark:bg-white shadow-sm text-black rounded px-2 py-0.5 flex-center gap-2",onMouseDown:i=>{i.preventDefault()},onClick:()=>{t([{color:"#ffffff"}])},children:[m(ok,{className:"w-4 h-4 inline"}),"White"]}),N("div",{className:"group-hover:opacity-50 group-hover:hover:opacity-100 transition-opacity cursor-default bg-gradient-to-b from-emerald-600 to-emerald-700 shadow-sm text-green-100/90 rounded px-2 py-0.5 flex-center gap-2",children:[m(vl,{className:"w-4 h-4 inline"}),"Sand"]}),N("div",{className:"group-hover:opacity-50 group-hover:hover:opacity-100 transition-opacity cursor-default bg-gradient-to-b from-pink-600 to-pink-700 shadow-sm text-red-100/90 rounded px-2 py-0.5 flex-center gap-2",children:[m($r,{className:"w-4 h-4 inline"}),"Falsk"]})]})})}const{useKey:qb}=Au(()=>new Map);function d7({prompt:e,replacePromptWithStream:t}){return N(re,{children:[m(f7,{prompt:e,replacePromptWithStream:t}),m(m7,{prompt:e,replacePromptWithStream:t}),m(h7,{prompt:e,replacePromptWithStream:t})]})}function f7({prompt:e,replacePromptWithStream:t}){const n=ot(),r=pe(n),[{selectedPath:o}]=kn(),i=as(),l=w.useMemo(()=>[...o,...i],[o,i]).filter((c,d)=>d%2).reduce((c,d)=>{const f=qb(d)[0];return f&&c.push({element:d,fields:Xo(f)}),c},[]),a=jn(),u=w.useCallback(({element:c,field:d})=>{const f={id:a(r),field:Ln(c,pn("data")),select:by(d),loop:xt(c)};t([f])},[t,a]);return $t(i.slice(-1)[0])===pn("data")?null:m(re,{children:l.map(({element:c,fields:d},f)=>m(p7,{element:c,prompt:e,fields:d,onEnter:u,index:f},c))})}function p7({element:e,prompt:t,fields:n,onEnter:r,index:o}){if(!n)return null;const i=w.useMemo(()=>(n??[]).filter(s=>s.label.toLowerCase().startsWith(t.toLowerCase())).map(s=>({value:{element:e,field:s.id},label:rc(s.label,t)})),[n,t]);return N("div",{className:"p-2.5",children:[N("div",{className:"font-medium text-gray-400 mb-1 ml-1",children:["Felter fra Gentag ",o+1]}),i.map(({value:s,label:l})=>m(io,{value:s,onEnter:r,onEnterLabel:"Indsæt",Icon:U3,children:l},`${s.element}${s.field}`))]})}function h7({prompt:e,replacePromptWithStream:t}){const n=ot(),r=pe(n),o=jn(),i=Array.from(Iy().values()),[s,l]=wl(n),a=w.useCallback(({folder:c,templateId:d})=>{const f={id:o(r),folder:c};t([f]),d&&!(s!=null&&s.template)&&l("template",d)},[t,s,l,o]),u=i.filter(c=>c.label.toLowerCase().startsWith(e.toLowerCase())).map(c=>({value:{folder:c._id,templateId:c.template},label:rc(c.label,e),onEnterLabel:"Indsæt",Icon:ju,onEnter:a}));return N("div",{className:"p-2.5",children:[m("div",{className:"font-medium text-gray-400 mb-1 ml-1",children:"Mapper"}),u.map(({value:c,label:d,Icon:f,onEnter:p,onEnterLabel:h})=>m(io,{value:c,onEnter:p,onEnterLabel:h,Icon:f,children:d},c.folder))]})}function m7({prompt:e,replacePromptWithStream:t}){const[n,r]=w.useState(""),{data:o,isLoading:i}=tr.documents.findByLabel.useQuery(n,{inactive:n===""});w.useEffect(()=>{if(e==="")r("");else{const p=setTimeout(()=>{r(e)},250);return()=>{clearTimeout(p)}}},[e]);const s=ot(),[l,a]=wl(s),u=w.useCallback(({id:p,templateId:h})=>{t([{id:p}]),h&&!(l!=null&&l.template)&&a("template",h)},[t,l,a]),c=Array.from(Iy().values()),d=w.useMemo(()=>(o??[]).map(p=>{var h,y;return{value:{id:p._id,templateId:(h=c.find(x=>x._id===p.folder))==null?void 0:h.template},label:((y=ao(_e(p._id,ie.label.id),p.record))==null?void 0:y[0])??"",secondary:p._id,Icon:Bu,onEnter:u,onEnterLabel:"Tilføj",onArrowRight(){},onArrowRightLabel:"Se felter"}}),[o,c,u]),f=!i&&(e===""||n!=="");return N("div",{className:"p-2.5",children:[m("div",{className:"font-medium text-gray-400 mb-1 ml-1",children:"Dokumenter"}),e===""&&m("div",{className:"px-1 py-2.5 text-gray-400 italic",children:"Indtast søgning"}),!f&&m("div",{className:"px-1 py-2.5 h-10 flex items-center text-gray-400 italic",children:m(Ho,{size:"md"})}),f&&e!==""&&d.length===0&&m("div",{className:"px-1 py-2.5 text-gray-400 italic",children:"Ingen dokumenter fundet"}),d.map(({value:p,label:h,Icon:y,onEnter:x,onEnterLabel:g})=>m(io,{value:p,onEnter:x,onEnterLabel:g,Icon:y,children:h},p.id))]})}function g7({prompt:e}){const t=ot(),n=Je(pe(t),$t(t)),{documents:r=[]}=En(Yo),i=as().slice(-1)[0];console.log("ELEMENT ID",i);const s=Me(),{configs:l}=Qe(),a=w.useCallback(d=>{s.update(()=>{Ti(l)}),n(Ee(f=>f.target(i).toggle({name:"template",value:d===null?null:xt(d)})))},[n,i,l]),c=w.useMemo(()=>r.map(d=>({...d,label:uo(d)??""})),[r]).filter(d=>d.label.toLowerCase().startsWith(e.toLowerCase())).map(d=>({value:d._id,label:rc(d.label,e)}));return N("div",{className:"p-2.5",children:[m("div",{className:"font-medium text-gray-400 mb-1 ml-1",children:"Skabeloner"}),c.map(({value:d,label:f})=>m(io,{value:d,onEnter:a,onEnterLabel:"Anvend",Icon:Tr,children:f},d)),m(io,{value:null,onEnter:a,onEnterLabel:"Anvend",Icon:Tr,children:"Fjern"})]})}const Jw=[{id:"actions",icon:vD,label:"Handlinger"},{id:"elements",icon:My,label:"Elementer"},{id:"documents",icon:Bu,label:"Dokumenter"},{id:"urls",icon:xl,label:"URLS"},{id:"images",icon:rk,label:"Billeder"}];function y7({node:e,prompt:t,children:n,holdActions:r}){const o=Me(),{initializer:i,stream:s}=w.useMemo(()=>{const g=e.__initializer,v=e.__stream;return{initializer:g,stream:v}},[]),l=i==="/",{configs:a}=Qe();w.useEffect(()=>o.registerNodeTransform(Pl,g=>{if(g.getTextContent()==="\uFEFF")Ti(a,g);else if(g.getTextContent()==="\uFEFF\uFEFF/"){g.select(0,3);const v=C.$createParagraphNode();v.append(C.$createTextNode("/")),Cr([v])}else if(g.getTextContent()==="\uFEFF\uFEFF@"){g.select(0,3);const v=C.$createParagraphNode();v.append(C.$createTextNode("@")),Cr([v])}}),[o,a]);const u=bp();w.useEffect(()=>Ir(o.registerCommand(C.KEY_ARROW_LEFT_COMMAND,g=>!l||!o.getEditorState().read(()=>{const S=C.$getSelection();return!C.$isRangeSelection(S)||!S.isCollapsed()||S.anchor.type!=="text"?!1:Dl(S.anchor.getNode())&&S.anchor.offset===2})?!1:(g==null||g.preventDefault(),d((S="actions")=>{const E=f.findIndex(b=>b.id===S);return E<=0?f[f.length-1].id:f[E-1].id}),!0),C.COMMAND_PRIORITY_HIGH),o.registerCommand(C.KEY_ARROW_RIGHT_COMMAND,g=>!l||!o.getEditorState().read(()=>{var E;const S=C.$getSelection();return!C.$isRangeSelection(S)||!S.isCollapsed()||S.anchor.type!=="text"?!1:((E=Df())==null?void 0:E.getTextContent().length)===S.anchor.offset})?!1:(g==null||g.preventDefault(),d((S="actions")=>{const E=f.findIndex(b=>b.id===S);return E===f.length-1?f[0].id:f[E+1].id}),!0),C.COMMAND_PRIORITY_HIGH)),[o,l,u]),w.useEffect(()=>Ir(o.registerCommand(C.KEY_ESCAPE_COMMAND,g=>(g==null||g.preventDefault(),o.update(()=>{Ti(a)}),!0),C.COMMAND_PRIORITY_HIGH),o.registerCommand(C.BLUR_COMMAND,()=>(o.update(()=>{Ti(a),C.$setSelection(null)}),!1),C.COMMAND_PRIORITY_HIGH)),[o,a]);const[c,d]=w.useState();let f=Jw;u!=="children"&&(f=Jw.filter(g=>g.id!=="elements"));const p={"/":"actions","<":"elements","@":"documents"}[i??"/"],h=c??p,y=hv()??void 0,x=w.useCallback(g=>{o.update(()=>{var S;(S=Df())==null||S.select(0);const v=di(g,a);Cr(v)})},[o,a]);return N(Uv,{children:[m(Ub,{}),m("button",{className:"absolute -right-3 -top-3 w-6 h-6 rounded-full bg-gray-800 border border-gray-700 hover:bg-gray-750 transition-colors flex-center",onMouseDown:g=>{g.preventDefault()},onClick:()=>{o.update(()=>{Ti(a)})},children:m($r,{className:"w-4 h-4"})}),l&&m("div",{className:"flex gap-2.5 p-2.5 text-xs",children:f.map((g,v)=>N("div",{className:P("flex-center gap-2 rounded cursor-default py-2 px-3 transition-opacity font-medium","grow shrink basis-0",h===g.id?"bg-gray-800":"opacity-75 hover:opacity-100"),onMouseDown:S=>{S.preventDefault()},onClick:()=>{d(g.id)},children:[m(g.icon,{className:"w-4 h-4"}),g.label]},v))}),m("div",{className:"max-h-52 overflow-y-auto no-scrollbar m-[1px]",children:s&&s.length>0?m("div",{className:"p-2.5",children:m("div",{className:"bg-yellow-500/20 text-yellow-200 rounded p-2.5",children:JSON.stringify(s)})}):N(re,{children:[h==="actions"&&N(re,{children:[u==="children"&&m(o7,{prompt:t}),u==="data"&&m(g7,{prompt:t}),m(c7,{prompt:t,replacePromptWithStream:x}),n]}),h==="elements"&&m(V8,{prompt:t,options:u==="children"?y:void 0,replacePromptWithStream:x}),h==="documents"&&m(d7,{prompt:t,replacePromptWithStream:x}),h==="urls"&&m(n7,{prompt:t,replacePromptWithStream:x}),h==="images"&&m(Gb,{prompt:t,replacePromptWithStream:x,holdActions:r})]})})]})}const v7=()=>{const e=Me(),[t,n]=w.useState(null),r=w.useRef(!1),o=w.useMemo(()=>({hold(){r.current=!0;const i=e.getEditorState().read(()=>{const s=C.$getSelection();return C.$isRangeSelection(s)?jv(s.anchor):null});n(i)},async release(){r.current=!1,t&&(await new Promise((i,s)=>e.update(()=>{try{const[l,a]=J6("cursor",t);if(C.$isTextNode(l)){const u={node:l,offset:a},c=Sb(u,u);C.$setSelection(c),i(!0)}else i(!1)}catch{s()}})),n(null))}}),[e,t]);return[r,o]},x7=[e=>{if(Dl(e))return{type:"prompt",prompt:e.getTextContent().replace(/\uFEFF/g,"")}},e=>{if(O6(e))return{type:"color",prompt:""}},e=>{if(H6(e))return{type:"file",prompt:""}}];function w7({children:e}){const t=Me(),[n,r]=w.useState(null),[o,i]=w.useState(null),[s,l]=w.useState(""),[a,u]=w.useState(null),c=()=>{r(null),i(null),u(null),l("")},[d,f]=v7(),p=bp(),h=po();w.useLayoutEffect(()=>t.registerUpdateListener(({editorState:x})=>{x.read(()=>{var ee;if(d.current)return;const g=C.$getSelection();if(!C.$isNodeSelection(g)&&!C.$isRangeSelection(g)){c();return}let v=g.getNodes();if(v.length>1){c();return}let S=v[0],E=null,b;for(const K of x7)if(b=K(S),b!==void 0){E=S;break}if(b===void 0){const K={image:"file",color:"color"}[p||""];if(K&&h)b={type:K,prompt:""};else{c();return}}const k=(ee=t.getRootElement())==null?void 0:ee.getBoundingClientRect();if(!k){c();return}const{y:O,x:$,width:R}=k,T=t.getElementByKey(S.__key);if(console.log("DOM NODE",T,O,$),!T){c();return}const D=T.getBoundingClientRect(),F=Math.max(Math.min(D.x-$+5,R-672),0),H=D.y+D.height-O+5;u(K=>K&&K.x===F&&K.y===H?K:{x:F,y:H}),i(E),r(b.type),l(b.prompt)})}),[t,d,p,h]),w.useEffect(()=>Ir(t.registerCommand(C.BLUR_COMMAND,()=>(d.current||c(),!1),C.COMMAND_PRIORITY_HIGH)),[t,d]);const y=n==="prompt";return w.useEffect(()=>{function x(g){const v=["/","@"];p==="children"&&v.push("<"),v.includes(g.key)&&!g.defaultPrevented&&(g.stopPropagation(),g.preventDefault(),t.update(()=>{const S=C.$getSelection();if(!C.$isRangeSelection(S)&&!C.$isNodeSelection(S))return;const[E,b]=jp(S),k=ri(C.$getRoot()),O=ae.slice(k,E,b),$=C.$createParagraphNode(),R=zv(g.key,"\uFEFF\uFEFF",O);$.append(R),Cr([$]),R.select(2,2)}))}if(!(y||!h))return t.registerRootListener((g,v)=>{v&&v.removeEventListener("keydown",x),g&&g.addEventListener("keydown",x)})},[t,y,h,p]),N("div",{className:P("absolute w-full top-0 -left-1.5 z-10 gradient-border rounded shadow-lg shadow-black/20 text-sm max-w-2xl text-white","flex flex-col divide-y divide-white/5",a!==null?"opacity-100 transition-opacity duration-300":"opacity-0 pointer-events-none"),style:a!==null?{transform:`translate(${a.x}px, ${a.y}px)`}:void 0,children:[n==="prompt"&&m(y7,{node:o,prompt:s,holdActions:f,children:e}),n==="color"&&m(H8,{node:o}),n==="file"&&m(_7,{node:o,holdActions:f})]})}function _7({node:e,holdActions:t}){const n=Me(),{configs:r}=Qe(),o=w.useCallback(i=>{n.update(()=>{const s=i[0];if(e)e.setToken(s);else{const l=di(i,r);Cr(l)}})},[n,e,r]);return N(Uv,{children:[m(Ub,{}),m(Gb,{prompt:"",holdActions:t,replacePromptWithStream:o})]})}function S7(e=!1){const t=Me(),n=_.useState(e),[r]=n;_.useEffect(()=>{n[1](e)},[e]);const{configs:o}=Qe();return _.useEffect(()=>{function i(s){const l=a=>{s.defaultPrevented||(s.preventDefault(),xi(t,a,o))};r?$y.includes(s.key)?l([{_:s.key}]):s.key===","?l([{",":!0}]):"xyz".indexOf(s.key)>=0?l([{x:"xyz".indexOf(s.key)}]):s.key==="("?l([{"(":!0}]):s.key==="["?l([{"[":!0}]):s.key===")"?l([{")":!0}]):s.key==="]"&&l([{"]":!0}]):s.key==="*"&&l(["\\*"])}return t.registerRootListener((s,l)=>{l&&l.removeEventListener("keydown",i),s&&s.addEventListener("keydown",i)})},[t,o,r]),n}const E7=[bf,Cf,Sf,Of,If,kf,Nf,Tf,Ef,$f,Rf,Pl,wu,xu,vu,Pf],lm=e=>{if(!Lf(e))return!1;const t=e[0][1][0];return Array.isArray(t[2])&&t[2].length===1&&typeof t[2][0]=="string"&&!t[1]},am=e=>{if(!Lf(e))return!1;const t=e[0][1][0];return Boolean((!t[2]||!t[2].length)&&t[1])},Lf=e=>e.length===1&&e[0][1].length===1&&oo(e[0][1][0]),k7=(()=>{const e=new WeakMap;return function(n){let r=e.get(n);return r||(r=Math.random().toString(36).slice(2,10),e.set(n,r)),r}})(),C7=(e,t)=>{if(!Lf(e)||!Lf(t))return!1;const n=e[0][1][0],r=t[0][1][0],o=n[0]+ae.getLength(n[2]??[]),i=r[0]+(r[1]??0);return o===i};Tb.DefaultField=Ml;Eb.DefaultField=Ml;bb.DefaultField=Ml;const b7=[Il,...E7];function Ml({id:e,showPromptButton:t,showTemplateHeader:n}){const r=ot(),{target:o,initialValue:i,value:s,isPrimitive:l,templateId:a,transforms:u}=Bv(e),c=w.useMemo(()=>qn(i),[i]),d=Cl(s),f=w.useMemo(()=>({}),[]),p=Je(pe(r),$t(r)),h=w.useRef(!1),y=w.useCallback(x=>(h.current=!0,p(g=>{let v=[];const S=[[e,x]];if(!g)v=[S];else if(v=[g,S],C7(g,S)){if(lm(g)&&lm(S)&&S[0][1][0][2][0]!==" "){const b=g[0][1][0],k=S[0][1][0];v=[Ee(O=>O.target(e).splice({index:b[0],insert:ae.concat(b[2],k[2])}))]}else if(am(g)&&am(S)){const b=g[0][1][0],k=S[0][1][0];v=[Ee(O=>O.target(e).splice({index:k[0],remove:b[1]+k[1]}))]}}const E=v[v.length-1];return lm(E)||am(E)?{await:E,push:v.slice(0,-1)}:{push:v}},f)),[p]);return N(mb.Provider,{value:a??null,children:[(a||n)&&m(S8,{transforms:u,id:e,isNested:e!==r}),m(g8,{target:o,push:y,tracker:f,initialValue:c,nodes:b7,children:N("div",{className:P("relative"),children:[m(v8,{}),m(JF,{className:P("grow editor outline-none selection:bg-gray-700","text-base leading-6 pb-2.5")}),!l&&N("div",{className:"-ml-9 preview hidden text-gray-400 rounded text-sm pb-2.5",children:[m(j3,{className:"shrink-0 w-4 mt-0.5 h-4 mr-5 opacity-50"}),d||"[Tom]"]}),t&&m(x8,{}),m($7,{push:p,tracker:f,hasLocalPush:h}),m(T7,{}),m(N7,{}),m("div",{className:"absolute right-0 top-0",children:u.length?m(AM,{className:"w-4 h-4 my-1 opacity-50"}):null})]})},k7(c))]})}function N7(){const e=Me();return m("div",{className:"absolute inset-x-0 bottom-0 h-2.5 cursor-text",onMouseDown:t=>{t.preventDefault(),t.stopPropagation(),e.update(()=>{var n;(n=e.getRootElement())==null||n.focus(),C.$getRoot().selectEnd()})}})}function T7(){const[e,t]=S7();return m(w7,{children:N("div",{className:"p-2.5",children:[m("div",{className:"font-medium text-gray-400 mb-1 ml-1",children:"Tilstand"}),N(io,{value:null,onEnter:()=>{t(n=>!n)},children:[e?"Deaktiver":"Aktiver"," listetilstand"]})]})})}function $7({push:e,tracker:t,hasLocalPush:n}){const r=Me(),o=w.useCallback(()=>{e(i=>({push:i?[i]:[]}),t)},[e]);return w.useEffect(()=>Ir(r.registerCommand(C.BLUR_COMMAND,()=>(console.log("BLUR PUSH"),o(),!1),C.COMMAND_PRIORITY_EDITOR)),[r,o]),w.useEffect(()=>()=>{n.current&&(console.log("CLOSE PUSH"),o())},[r,o]),null}const qw=[];function Xb({id:e,createTemplateContext:t}){const{tree:n,templateId:r}=Bv(e);if(t){const i=w.useMemo(()=>{var l;return(l=Yi(n)[0].find(a=>a.type==="template"))==null?void 0:l.data},[n]),[,s]=qb(t,i);w.useEffect(()=>{i&&s(`000000000000${i}`)},[i])}const o=w.useMemo(()=>dv(n),[n]);return m(re,{children:o.map(i=>m(O7,{entity:i,templateId:r},i.id))})}function O7({entity:e,templateId:t}){ot();let n=[],r=!1;if(G.isNestedFolder(e)){const o=Xo(t)??qw;n=o.map(l=>_e(e.id,l.id));const[,i]=on(`${e.id}#template`,()=>o.map(l=>l.id)),s=w.useRef(o);w.useEffect(()=>{o!==s.current&&i(()=>o.map(l=>l.id))},[o])}else if(!G.isNestedField(e)){if(G.isNestedElement(e)){const{configs:o}=Qe(),{record:i}=is(),s=ai(e.element,o),l=(s==null?void 0:s.props)??{};n=w.useMemo(()=>{const a=Ln(e.id,pn("key"));return Object.entries(l).reduce((u,[c,d])=>{if(d.type==="group"){const f=Object.entries(d.props).map(([p])=>Ln(e.id,pn(Av(c,p,"#"))));u.push(...f)}else{const f=Ln(e.id,pn(c));u.push(f)}return u},[a])},[l,i]),e.element==="Loop"&&(r=!0)}else if(G.isNestedDocument(e)){const o=Xo(t)??qw;n=w.useMemo(()=>o.map(i=>_e(e.id,i.id)),[o])}}return m(re,{children:n.map(o=>m(Xb,{id:o,createTemplateContext:r&&o.endsWith(pn("data"))?e.id:void 0},o))})}function I7({id:e}){const[t]=Rl(),n=t??e;return N(re,{children:[m(Xb,{id:e}),m(yu,{id:n,type:"field",children:m(Ml,{id:n,showPromptButton:!0},n)})]})}const eN=w.createContext(null),tN=()=>w.useContext(eN);function Xw({children:e,index:t}){const n=tN()??t;return m(eN.Provider,{value:n,children:e})}const Hv=w.createContext(null);function R7({children:e}){const t=w.useState(null);return m(Hv.Provider,{value:t,children:e})}function P7(){var e;return(e=ct(Hv,"FieldToolbarPortal"))==null?void 0:e[1]}function D7({show:e}){var n;const t=(n=ct(Hv,"FieldToolbarPortal"))==null?void 0:n[0];return t&&e?Md.createPortal(m(M7,{}),t):null}const e_=[{id:"children",label:"Rich Text"},{id:"number",label:"Tal"},{id:"image",label:"Billede"},{id:"color",label:"Farve"}];function M7(){var u;const e=ot(),t=tN(),n=pe(e),[r,o]=wl(e),i=Je(n,"config"),s=(u=Fu())==null?void 0:u._id,{documents:l}=En(s),a=w.useMemo(()=>(l??[]).filter(c=>c.folder).map(c=>({id:c._id,label:uo(c)})),[l]);return N(re,{children:[N("div",{className:"h-7 mx-2.5 px-2 flex-center gap-1.5 rounded dark:bg-yellow-400/10 dark:text-yellow-200/75 ring-1 ring-yellow-200/50 ring-inset text-sm whitespace-nowrap pointer-events-none font-medium",children:["1 felt valgt",m($r,{className:"w-3 h-3"})]}),m(L7,{id:e,label:(r==null?void 0:r.label)??""}),m(Te,{as:Ye.ToolbarButton,icon:WD,label:"Vælg skabelon",onSelect:c=>o("template",c.id),onClear:()=>o("template",void 0),selected:r!=null&&r.template?a.find(c=>c.id===r.template):void 0,options:a}),m(Te,{as:Ye.ToolbarButton,icon:RD,label:"Begræns til",onSelect:c=>o("type2",c.id),onClear:()=>o("type2",void 0),selected:r!=null&&r.type2?e_.find(c=>c.id===r.type2):void 0,options:e_}),typeof t=="number"&&m(Ye.ToolbarButton,{"data-focus-remain":"true",onClick:()=>{i([["",[[t,1]]]])},children:m(Jo,{className:"w-4 h-4"})})]})}function L7({id:e,label:t}){const n=pe(e),r=Je(n,"config");return m(A7,{value:t,onChange:i=>{r([[e,[["label",i]]]])}})}function A7({value:e,onChange:t,className:n,label:r}){const o=w.useRef(null),[i,s]=w.useState(!1),[l,a]=w.useState(e);w.useLayoutEffect(()=>{a(e),u()},[e]),w.useLayoutEffect(()=>u(),[i]);const u=()=>{if(o.current){o.current.style.width="0px";let y=o.current.value;y===""&&(o.current.value="Ingen label");const x=o.current.scrollWidth;y===""&&(o.current.value=""),o.current.style.width=`${x}px`}},c=y=>{const x=y.target.value;Md.flushSync(()=>{a(x)}),u()},d=w.useRef(!1),f=()=>{d.current?d.current=!1:l!==e&&t(l)},p=()=>{a(e),d.current=!0},h=w.useId();return N("div",{className:P("text-sm text-gray-300 flex h-7 ring-1 ring-inset rounded mx-2.5",i?"ring-gray-600":"ring-button"),"data-focus-remain":"true",children:[N("label",{className:"flex",children:[r&&m("div",{className:"h-6 px-2 flex-center bg-gray-750 rounded",children:r}),m("input",{id:h,ref:o,value:i?l:e,onChange:c,type:"text",className:P("outline-none padding-0 margin-0 bg-transparent h-7 items-center px-2.5 font-medium",n),placeholder:"Ingen label",onFocus:()=>{s(!0),d.current=!1},onBlur:()=>{s(!1),f()},onKeyDown:y=>{var x,g;y.key.toLowerCase()==="enter"&&((x=o.current)==null||x.blur()),y.key.toLowerCase()==="escape"&&(p(),(g=o.current)==null||g.blur())}}),!i&&m("div",{className:"mr-2 h-full flex-center cursor-text",children:m(sM,{className:"w-4 h-4"})})]}),i&&N(re,{children:[m("div",{className:"h-7 w-7 flex-center bg-gray-750 hover:bg-green-700/60 transition-colors rounded-l",onMouseDown:y=>{f()},onClick:y=>{},children:m(vl,{className:"w-4 h-4"})}),m("div",{className:"h-7 w-7 flex-center bg-gray-750 hover:bg-red-700/50 transition-colors rounded-r",onMouseDown:y=>{p()},onClick:y=>{},children:m($r,{className:"w-4 h-4"})})]})]})}function F7({children:e,index:t,fieldConfig:n,dragHandleProps:r}){const o=n.id;let i={},s;if(r)s=r;else{const{dragHandleProps:u,ref:c,state:d}=hl({id:o,index:t,item:n}),f=_l(d);Object.assign(i,{ref:c,style:f}),s=u}const{isFocused:l,handlers:a}=Vy({multiple:!0,id:o});return mn("toolbar-open",!0),m(tc,{children:m(Fp,{children:N(xb,{id:o,children:[m(D7,{show:l}),m("div",{...i,...a,className:P("relative grow shrink basis-0 group/container px-2.5 mt-8"),children:N(z7,{isFocused:l,children:[m(j7,{id:o,dragHandleProps:s,isFocused:l}),m("div",{className:"pl-9",children:e})]})})]})})})}function z7({children:e,isFocused:t}){const n=po();let r="";const[o]=mn("toolbar-open",!0);return r="ring-transparent",o&&(n?r="ring-transparent":t?r="ring-yellow-200/40":r="ring-transparent group-hover/container:ring-gray-700/50"),m("div",{className:P(r,"relative p-2.5 pb-0 rounded ring-1","transition-[background-color,box-shadow]"),children:e})}function j7({id:e,dragHandleProps:t,isFocused:n}){const[{selectedDocument:r},o]=kn(),[i]=[!0],[{path:s,index:l},a]=ir(),u=sr(),c=s.endsWith(`/c${e}`),d=HP(e),f=c?u:`${u}/c${e}`,p=()=>{a(f,{navigate:!0})},{dragHandleProps:h}=lo({type:`link:${l}`,item:f,mode:"link"}),y=bp();return N("div",{className:P("flex","h-8 pb-3"),children:[m(U7,{id:e,dragHandleProps:i?t:{}}),N("div",{className:P("ml-5 mr-auto flex items-center gap-2 text-sm select-none whitespace-nowrap"),children:[m(H7,{id:e}),m(B7,{}),m(zp,{}),(iu(e,"layout")||iu(e,"page")||y==="children")&&N("button",{className:"rounded-full font-medium px-2 py-0.5 text-xs ring-button text-gray-400 ml-1 mr-3 flex-center gap-1",onClick:p,...h,children:[m(Ly,{className:"w-3 h-3"})," Åbn preview"]})]}),d&&m("div",{className:P("flex-center text-xs h-6 -my-0.5 bg-yellow-300 text-yellow-800/90 dark:bg-yellow-400/10 dark:text-yellow-200/75 px-1.5 rounded whitespace-nowrap",n?"opacity-100":"opacity-0 group-hover/container:opacity-80","transition-opacity"),children:d.label}),r&&m("button",{className:"-my-1 ml-1 -mr-1 w-7 h-7 flex-center shrink-0",onClick:()=>{o([])},children:m($r,{className:"w-4 h-4"})})]})}function B7(){const[{selectedPath:e}]=kn(),t=e.reduce((n,r,o)=>(o%2===0?n.push([r,void 0]):n[n.length-1][1]=r,n),[]);return m(re,{children:t.map(([n,r])=>N(w.Fragment,{children:[m("div",{className:"opacity-75",children:m(tk,{className:"w-3 h-3"})}),m(W7,{fieldId:n,documentId:r})]},r))})}function W7(e){const[,t]=kn(),n=wb(e),{configs:r}=Qe();if(!n)return null;if("folder"in n){const o=os(n.folder);return m("button",{type:"button",onClick:()=>t(i=>{const s=i.findIndex(l=>l===e.documentId);return s<0?i:i.slice(0,s+1)}),className:"hover:underline text-yellow-400 flex items-center font-medium",children:o.label??"no"})}if("element"in n){const o=ai(n.element,r);return m("button",{type:"button",onClick:()=>t(i=>{const s=i.findIndex(l=>l===e.documentId);return s<0?i:i.slice(0,s+1)}),className:"hover:underline text-yellow-400 flex items-center font-medium",children:(o==null?void 0:o.label)??"no"})}return null}function U7({id:e,dragHandleProps:t}){const n=!Pu(e),r="draggable"in t,o=n?Dy:VD;return m(re,{children:m("div",{...t,className:P("group w-6 h-6 p-1 -m-1 translate-y-0.5",r&&"cursor-grab"),children:m("div",{className:P("flex-center w-4 h-4 rounded-full group-hover:scale-[1.5] transition-transform",n?"bg-gray-200 dark:bg-gray-600/50":"bg-gray-200 dark:bg-teal-600/50 dark:group-hover:bg-teal-800/50"),children:m("div",{className:P("flex-center w-2 h-2 m-1 rounded-full group-hover:scale-[2] transition-[transform,background-color]",!n&&"dark:group-hover:bg-teal-800","dark:bg-white/20"),children:m(o,{className:"w-[0.3rem] h-1.5 opacity-0 group-hover:opacity-75 transition-opacity"})})})})})}function H7({id:e}){const[{selectedPath:t},n]=kn(),r=!Pu(e),[o]=rp(),i=o&&o!==e,s=Rs(e);return N("div",{className:P("flex items-center gap-1 px-1.5 -ml-1.5 font-medium",r?"text-gray-400":"text-teal-600/90 dark:text-teal-400/90",i?"cursor-alias":"cursor-default",t.length&&"hover:underline"),onMouseDown:l=>{i&&(l.preventDefault(),l.stopPropagation(),Cp.dispatch({id:e,imports:[]}))},onClick:()=>{!i&&t.length&&n([])},children:[s||"Ingen label",i&&N("button",{className:"rounded-full font-medium px-2 py-0.5 text-xs ring-button-teal text-teal-400 opacity-40 hover:opacity-100 ml-1 mr-3 flex-center gap-1",children:[m(xl,{className:"w-3 h-3 opacity-50"})," Referer"]})]})}const t_=e=>(n=>Array.isArray(n)&&typeof n[0]=="string"?n[0]:"")(Array.isArray(e)?e:rf(e,()=>{},{ignoreClientState:!0})),V7=e=>{const t=Gu()._id,{documents:n}=En(t),r=l=>ao(_e(l._id,ie.url.id),l.record)[0]??"",i=e.split("/").slice(0,-1).map((l,a,u)=>{const c=`/${u.slice(1,a+1).join("/")}`;return n==null?void 0:n.find(d=>r(d)===c)}),s=(n==null?void 0:n.filter(l=>{var u,c;const a=r(l);return a==="/"?!1:(((c=(u=a.split("/"))==null?void 0:u.slice(0,-1))==null?void 0:c.join("/"))||"/")===e}))??[];return[i,s]};function K7({id:e}){var $,R;const t=pe(e),{record:n}=is(),[r,o]=w.useState(!1),i=jn(),{value:s}=Bv(e),l=t_(s),a=Je(t,$t(e)),u=l.split("/").slice(0,-1).join("/"),c=l.split("/").slice(-1)[0],d=T=>{if(T===""){a(Ee(F=>F.target(e).splice({index:3,insert:[{",":!0},""],remove:c.length+1})));return}if(T==="*"){a(Ee(F=>F.target(e).splice({index:4,insert:[{x:0,value:"*"}],remove:c.length})));return}const D=Hg(T);a(Ee(F=>F.target(e).splice({index:4,insert:[D],remove:c.length})))},[f,p]=xk(pe(e),{param0:"",param1:"",param2:""}),[h,y]=V7(t_(ao(e,n)));w.useEffect(()=>{if(r)return Cp.subscribe(async({id:T,imports:D})=>{if(e&&D.includes(e)){console.error("Tried to add itself");return}let F={id:i(t),field:T,inline:!0};a(Ee(H=>H.target(e).splice({index:0,insert:[F,{",":!0}],remove:2})))})},[r]);const[,x]=ir(),g=sr(),v=T=>x(`${g.split("/").slice(0,-1).join("/")}/d${parseInt(T,16).toString(16)}`,{navigate:!1});let S=u.split("/");S[0]!==""&&S.unshift("");const[E,b,k]=qk(),O=Gu();return N("div",{className:"pb-2.5",children:[O&&m(Xk,{isOpen:Boolean(E),close:k,folder:O._id,parentUrl:E,type:"app"}),N("div",{className:"outline-none rounded flex items-center px-3 mb-2.5 bg-gray-50 dark:bg-gray-800 ring-button",children:[m(vr,{to:v((($=h[0])==null?void 0:$._id)??""),className:"mr-5 text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-100 transition-colors","data-focus-ignore":"true",children:m(Ig,{className:"w-4 h-4"})}),m(vr,{to:v(((R=h[0])==null?void 0:R._id)??""),className:"text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-100 transition-colors","data-focus-ignore":"true",children:"www.kfs.dk"}),m("div",{className:"px-2 text-gray-400 dark:text-gray-600 text-sm",children:"/"}),S.slice(1).map((T,D)=>{var F,H;return N(w.Fragment,{children:[m(vr,{to:v(((F=h[D+1])==null?void 0:F._id)??""),className:P("truncate text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-100 transition-colors shrink-0"),"data-focus-ignore":"true",children:T||m(Ig,{className:"w-3 h-3"})}),m("div",{className:P("cursor-default px-2 text-gray-400 dark:text-gray-600 text-sm transition-opacity",D+1===S.length-1&&c===""&&"opacity-0"),children:"/"})]},(H=h[D+1])==null?void 0:H._id)}),c==="*"&&N("button",{className:"px-1.5 h-5 bg-gray-200 dark:bg-gray-700 rounded shrink-0 flex-center mr-1.5 cursor-alias",onMouseDown:T=>{T.preventDefault(),T.stopPropagation(),Yk.dispatch("param0")},children:[m(SM,{className:"w-3 h-3 mr-1"})," ",m(xl,{className:"w-3 h-3 opacity-50"})]}),m("input",{type:"text",className:P("w-full py-1.5 bg-transparent outline-none placeholder:text-gray-500"),value:c==="*"?"":c,onChange:T=>d(T.target.value),onFocus:()=>o(!0),onBlur:()=>o(!1),onKeyDown:T=>{c==="*"&&T.key==="Backspace"&&d("")},placeholder:c!=="*"?"[forside]":""}),c==="*"&&m("input",{type:"text",placeholder:"indtast eksempel",className:"w-full max-w-[16rem] bg-transparent outline-none border-0 rounded px-2 text-sm py-2",value:f.param0,onChange:T=>{p({param0:T.target.value})}})]}),iu(e,"url")&&m("div",{className:"flex items-center ml-5",children:N("div",{className:"flex flex-wrap gap-2",children:[y.map((T,D)=>N(vr,{to:v(T._id),className:"group text-sm flex-center gap-2","data-focus-ignore":"true",children:[m(n_,{first:D===0}),m("span",{className:P("opacity-75 group-hover:opacity-100 transition-opacity relative overflow-hidden bg-gray-100 dark:bg-gray-800 px-1.5 py-0.5 rounded"),children:uo(T)})]},T._id)),N("button",{className:"group text-sm flex-center gap-2",onClick:()=>b({_id:t,record:n}),"data-focus-ignore":"true",children:[m(n_,{first:y.length===0}),m("span",{className:"text-gray-600 group-hover:text-gray-800 dark:text-gray-400 dark:group-hover:text-gray-100 transition-colors py-0.5",children:"Tilføj underside"})]})]})})]})}const n_=({first:e})=>m("svg",{viewBox:"0 0 24 16",className:"w-6 h-4 opacity-20 group-hover:opacity-50 transition-opacity",strokeWidth:1,stroke:"currentColor",fill:"none",children:m("path",{strokeLinecap:"round",strokeLinejoin:"round",d:e?"M 1 3 L 1 9 L 23 9":"M 1 9 L 23 9"})}),G7={default:I7,url:K7};function Z7({id:e,fieldConfig:t,index:n,dragHandleProps:r}){const o=G7[t.ui??"default"];return m(fv.Provider,{value:e,children:m(pv.Provider,{value:t.type2??null,children:m(F7,{index:n,fieldConfig:t,dragHandleProps:r,children:m(vS,{children:m(o,{id:e})})})})})}function h0({id:e,owner:t,config:n,versions:r,index:o}){const i=e===t,s=i?Je(t,"config"):()=>{},l=sn(),a=zn(),u=jn(),c=w.useCallback(h=>{if(!i)return;const y=[];for(let x of h){const{type:g,index:v}=x;if(g==="add"){const S={...x.item};y.push([v,0,[S]]),Vk(t,S.template,{client:a,generateDocumentId:u}).then(E=>{const b=l.getTimeline(t);b&&Gk(b,{id:t,record:E})})}if(g==="delete"){if(!n[v])return;y.push([v,1])}}s([["",y]])},[n,s,a,u,l,t]);let d,f={};if(o!==null){const{dragHandleProps:h,ref:y,state:x}=hl({id:e,index:o,item:{template:e}}),g=_l(x);d=h,f={ref:y,style:g}}const p=(h,y)=>{if(Array.isArray(h))return null;if("text"in h)return m(Q7,{item:h,index:y},`${h.text}-${y}`);if("template"in h&&!("id"in h))return m(Xw,{index:y,children:m(tC,{id:h.template,children:x=>m(h0,{id:x._id,owner:t,config:x.config,versions:r,index:y})})},h.template);{const x=i?h.id:_e(t,h.id);return m(Xw,{index:y,children:m(Z7,{id:x,fieldConfig:{...h,id:x},index:y,dragHandleProps:d})},x)}};return m(vk,{template:e,children:m("div",{...f,children:m(Nu,{type:"fields",id:e,onChange:c,canReceive:{link:()=>"ignore",move:({type:h,item:y})=>h==="fields"?"accept":"ignore"},disabled:!i,children:N("div",{className:"flex flex-col",children:[(n??[]).map(p),m(ep,{children:h=>p(h,(n??[]).length)})]})})})})}const Y7={1:"h1",2:"h2",3:"h3"};function Q7({item:e,index:t}){const{dragHandleProps:n,ref:r,state:o}=hl({id:`${e.text}-${t}`,index:t,item:e}),i=Y7[e.level]??"h3",s=_l(o);return m(i,{ref:r,style:s,className:"text-xl pt-8 pb-8 pl-5",...n,children:e.text})}function J7(e){const[t,n]=w.useState(!1),r=sn();return w.useEffect(()=>r.getTimeline(e).registerMutationListener(o=>{n(o)}),[r]),t}const q7=({id:e,folderId:t,label:n,children:r,variant:o,toolbar:i})=>{const s=J7(e);return m(Ye,{icon:o==="template"?Tr:Bu,header:m("span",{className:P(o==="template"&&"text-teal-500"),children:n}),buttons:m("div",{className:P("flex-center","transition-opacity",s?"opacity-100":"opacity-0 pointer-events-none"),children:t&&m(oz,{id:e,folderId:t})}),toolbar:i,children:r})};function X7({id:e}){const t=a4(),n=pP();if(t.length>1)return m(Ye.Toolbar,{children:N("div",{className:"h-7 px-2 mx-2.5 flex-center gap-1.5 rounded dark:bg-yellow-400/10 dark:text-yellow-200/75 ring-1 ring-yellow-200/50 text-sm font-medium whitespace-nowrap",children:[t.length," felter valgt",m($r,{className:"w-3 h-3"})]})});const r=P7(),o=[{label:ie.label.label,item:{template:dn(ie.label.id)}},{label:ie.slug.label,item:{template:dn(ie.slug.id)}},{label:ie.published.label,item:{template:dn(ie.published.id)}},{label:ie.released.label,item:{template:dn(ie.released.id)}},{label:ie.user.label,item:{template:dn(ie.user.id)}}];return N(re,{children:[m(Ye.Toolbar,{ref:r,children:t.length===0&&m("div",{})}),m(Ye.Toolbar,{secondary:!0,children:N(vS,{children:[m(Ye.ToolbarDragButton,{id:"new-field",type:"fields",icon:ui,label:"Tilføj felt",item:()=>({id:n(e),label:""})}),m(Te,{as:Ye.ToolbarButton,label:"Specialfelter",icon:K3,children:o.map(i=>m(Te.DragItem,{type:"fields",id:`ny-blok-${i.item.template}`,...i},i.label))}),m(ez,{id:e})]})})]})}function ez({id:e}){var r;const t=(r=Fu())==null?void 0:r._id,{documents:n}=En(t);return m(Te,{as:Ye.ToolbarButton,label:"Skabeloner",icon:Tr,children:(n??[]).filter(o=>o.folder).map(o=>m(w.Fragment,{children:o._id===e?null:m(Te.DragItem,{label:uo(o),type:"fields",id:`ny-template-${o._id}`,item:{template:o._id}})},o._id))})}function tz({children:e}){const t=sr(),n=mp(t);let{doc:r,error:o}=VP(n.id);return N(re,{children:[!o&&r&&m(nz,{type:n.type,doc:r,children:e}),!o&&!r&&m("div",{className:""})]})}const nz=({type:e,doc:t,children:n})=>{const r=t._id,o=h4(r,{record:t.record,config:t.config,versions:t.versions}),i=Gu(),s=yp(i),l=i==null?void 0:i.template,a=ip(t._id),u=t,{label:c}=gp(t),d=w.useMemo(()=>({id:r,record:t.record,versions:t.versions}),[r,t.record,t.versions]);return m(R7,{children:N(eC.Provider,{value:d,children:[m(hk,{children:m(q7,{id:r,variant:e==="template"?"template":void 0,folderId:i==null?void 0:i._id,label:c??"Ingen label",toolbar:m(X7,{id:r}),children:N("div",{className:"pb-96 flex flex-col -mt-6",children:[s.type==="app"&&!l&&o.filter(f=>"template"in f&&f.template&&[Mi.staticPage,Mi.dynamicPage,Mi.redirectPage].map(p=>p._id).includes(f.template)).length===0&&m(rz,{documentId:t._id}),!a&&m(vk,{template:u._id,children:l&&m(tC,{id:l,children:f=>m(h0,{id:f._id,config:f.config,owner:u._id,versions:u.versions,index:null})})}),m(h0,{id:u._id,config:o,owner:u._id,versions:u.versions,index:null})]})})}),n]})})};function rz({documentId:e}){const t=Je(e,"config");return m("div",{className:"py-5 px-14 grid grid-cols-3 gap-5",children:[Mi.staticPage,Mi.dynamicPage,Mi.redirectPage].map(n=>m("button",{className:"rounded bg-button ring-button p-5 text-center",onClick:()=>{t([["",[[0,0,[{template:n._id}]]]]])},children:uo(n)},n._id))})}function oz({id:e,folderId:t}){const n=sn(),[r,o]=w.useState(!1),i=XA(e,t),{mutate:s}=tr.documents.getUpdatedUrls.useQuery({namespace:t},{immutable:!0});return m("div",{className:"relative ml-5",children:N("button",{className:"relative z-0 bg-button-teal ring-button-teal text-button rounded px-3 py-1 flex-center gap-2 text-sm overflow-hidden",onClick:async()=>{r||(o(!0),await n.saveTimeline(e,i),s(),o(!1))},children:[r&&m("div",{className:"absolute inset-0 -z-10 flex-center",children:m("div",{className:"w-8 h-8 bg-teal-300 rounded-full animate-ping-lg"})}),m(XE,{className:"w-3 h-3"}),"Udgiv"]})})}const iz=()=>{let e={target:null,id:null};return{setTarget:(t,n=null)=>{e.id=t,e.target=n},rendered:Un("rendered",e),unrendered:Un("unrendered",e),selection:Un("selection",e),createComponent:Un("create-component",e),changeComponent:Un("change-component",e),deleteComponent:Un("delete-component",e),moveComponent:Un("move-component",e),updateFrameHeight:Un("update-frame-height",e)}},sz=()=>{let e={target:null,id:null};return{setTarget:(t,n=null)=>{e.id=t,e.target=n},select:Un("select",e),initialize:Un("initialize",e),update:Un("update",e)}},r_="nm43puc5guext0yte2i8wzg5",o_="storyflow-cms";function Un(e,t){const n=`__CMS__${e}`;return{dispatch:(...r)=>{if(!t.target)return;const o={token:r_,id:t.id,event:n,payload:r[0],source:o_};t.target.postMessage(o,"*")},subscribe:r=>{const o=i=>{const s=i.data;!s||typeof s!="object"||!("id"in s)||!("source"in s)||!("event"in s)||!("payload"in s)||s.id!==t.id||s.source!==o_||s.token!==r_||s.event!==n||r(s.payload)};return window.addEventListener("message",o),()=>{window.removeEventListener("message",o)}}}}const lz=w.forwardRef(({uniqueId:e},t)=>{const{baseURL:n,builderPath:r}=Qe(),{id:o}=gk(),{organization:i}=or(),s=w.useRef(null);return w.useLayoutEffect(()=>{var l;(l=s.current)==null||l.scrollTo(0,384)},[]),n?m("div",{ref:s,className:"w-full h-full overflow-auto no-scrollbar snap-mandatory snap-x",children:m("div",{className:"w-[200%] py-96",children:m("div",{className:"ml-[25%] w-1/2 p-5 snap-start",children:m("iframe",{ref:t,src:`${sE(n)}${r??"/builder"}?uniqueId=${e}&slug=${i.slug}`,className:"w-full min-h-screen bg-white","data-select":o})})})}):null}),az=({listeners:e})=>{const[t,n]=w.useState(!1);return w.useLayoutEffect(()=>e.rendered.subscribe(r=>{n(!0)}),[]),w.useLayoutEffect(()=>e.unrendered.subscribe(()=>{n(!1)}),[]),t},uz=({id:e,listeners:t,push:n})=>{const[{selectedDocument:r,selectedField:o},i]=kn(),s=o,l=r,[a]=on(o?`${o}#tree`:void 0),u=w.useMemo(()=>{if(a)return qn(a)},[a]),c=pe(e),d=jn(),{configs:f}=Qe();return w.useEffect(()=>t.createComponent.subscribe(({path:p,name:h,library:y})=>{const x=p.split(".").slice(-1)[0];n(Ee(g=>g.target(x).splice({index:0,insert:[_f(d(c),h,{library:y,configs:f})]})))}),[f,d]),w.useEffect(()=>t.changeComponent.subscribe(({library:p,name:h})=>{if(!u||!s||!l)return;let y=-1;ae.forEach(u,(x,g)=>{if(G.isNestedElement(x)&&x.id===l)return y=g,!0},!0),console.log("CHANGE",u,y,s,p,h),!(y<0)&&n(Ee(x=>x.target(s).splice({index:y,insert:[_f(d(c),h,{library:p,configs:f})],remove:1})))}),[e,f,u,s,l,d]),w.useEffect(()=>t.deleteComponent.subscribe(()=>{if(!u||!s||!l)return;let p=-1;ae.forEach(u,(h,y)=>{if(G.isNestedElement(h)&&h.id===l)return p=y,!0},!0),!(p<0)&&(n(Ee(h=>h.target(s).splice({index:p,remove:1}))),i(h=>h.slice(0,-1)))}),[e,f,u,s,l]),w.useEffect(()=>t.moveComponent.subscribe(({parent:p,from:h,to:y})=>{if(console.log("MOVE",p,h,y,u),!u||!s)return;const x=Lb(u,f);let g=0,v=0,S=0,E=0;x.forEach(b=>{var k;E<h&&(v+=ae.getLength(b)),E<y&&(S+=ae.getLength(b)),E===h&&(g=ae.getLength(b)),(!G.isLineBreak(b[0])||E===x.length-1||G.isLineBreak((k=x[E+1])==null?void 0:k[0]))&&E++}),n(Ee(b=>b.target(s).splice({index:v,remove:g},{index:S})))}),[e,u,s,f]),null},cz=()=>{const[e]=w.useState(()=>su()),[t,n]=w.useState(),r=w.useMemo(()=>{const l=iz();return l.setTarget(e),l},[]),o=w.useMemo(()=>{const l=sz();return l.setTarget(e),l},[]),i=w.useCallback(l=>{l&&(n(l),o.setTarget(e,l.contentWindow))},[]);return w.useLayoutEffect(()=>{if(t)return r.updateFrameHeight.subscribe(l=>{t.style.height=`${l}px`})},[t]),w.useMemo(()=>({iframeProps:{uniqueId:e,ref:i},listeners:r,dispatchers:o}),[])};function dz({children:e}){const t=sr(),r=mp(t).id,o=pe(r),i=$t(r),{iframeProps:s,listeners:l,dispatchers:a}=cz(),u=az({listeners:l}),c=Je(o,i);return m(fv.Provider,{value:r,children:m(Fp,{children:N(xb,{id:r,onChange:d=>{},children:[m(c6,{listeners:l,id:r}),m(uz,{id:r,listeners:l,push:c}),N(Ye,{className:"relative h-full",children:[m(mz,{id:r,rendered:u,dispatchers:a}),N(By,{direction:"horizontal",autoSaveId:"panels",children:[m(nf,{collapsible:!0,children:N("div",{className:"relative h-full bg-gray-200",children:[m("div",{className:P("h-full transition-opacity duration-300",u?"opacity-100":"opacity-0"),children:m(lz,{...s,heightListener:l.updateFrameHeight.subscribe})}),m(pz,{id:r})]})}),m(Wy,{className:P("group relative bg-white/10 opacity-50 hover:opacity-100 transition-opacity","w-1")}),m(nf,{collapsible:!0,minSize:35,className:"hidden @3xl:block",children:m("div",{className:"p-2.5 h-full overflow-y-auto overflow-x-hidden no-scrollbar",children:m(fz,{id:r})})})]})]}),e]})})})}function fz({id:e}){const[{selectedField:t=e}]=kn();return m(tc,{children:m(Ml,{id:t},t)})}function pz({id:e}){const[t]=Rl();return m(tc,{children:m("div",{className:P("absolute w-[calc(100%-1.25rem)] bottom-2.5 left-2.5","transition-[transform,opacity] ease-out duration-200 origin-bottom",t?"opacity-100 scale-100":"opacity-0 pointer-events-none scale-[0.98]"),children:m("div",{className:P("w-full max-w-xl mx-auto max-h-[calc(100%-1.25rem)] bg-gray-850 shadow-lg shadow-black/20 rounded-md overflow-y-auto no-scrollbar"),children:N("div",{className:P("relative grow shrink basis-0 p-2.5 pb-0.5 min-h-[4.75rem]"),children:[m("div",{className:"flex items-center text-sm gap-2 mb-2.5",children:m(zp,{hideChildrenProps:!0})}),t&&m(Ml,{id:t},t)]})})})})}const hz=(e,{record:t={},client:n,configs:r})=>{const o={},i=pe(e),s=(l,a)=>{const u=Hr.use(l);if(!u.initialized()){let p=t[l];!p&&a!==i?(KE(a,n).then(h=>{if(!h)return;const y=h.record[l];y&&u.set(()=>Er(y,{record:h.record,client:n,documentId:a}))}),u.initialized()||u.set(()=>[])):u.set(()=>Er(p??je,{record:t,client:n,documentId:i}))}const c=u.value,d=f(c);Object.assign(o,{[l]:c,...d});function f(p){let h=[];if(Array.isArray(p))h=p;else{const y=x=>{x.children.forEach(g=>{Array.isArray(g)?g.forEach(v=>{G.isNestedElement(v)&&h.push(v)}):y(g)})};y(p)}return h.reduce((y,x)=>{var g;if(Array.isArray(x))return Object.assign(y,f(x));if(G.isNestedElement(x)){const S=(g=Object.entries(r).reduce((k,[O,$])=>k.concat(Object.entries($.configs).map(([R,T])=>({...T,name:Av(O,R.replace(/Config$/,""),":")}))),[]).flat(1).find(k=>k.name===x.element))==null?void 0:g.props,E=Object.entries(S??{}).reduce((k,[O,$])=>$.type==="group"?(k.push(...Object.keys($.props).map(R=>`${O}#${R}`)),k):(k.push(O),k),[])??[];E.push("key");const b=E.reduce((k,O)=>Object.assign(k,s(Ln(x.id,pn(O)),TE(x.id))),{});return Object.assign(y,b)}else return y},{})}};return s(e,i),o};function mz({id:e,rendered:t,dispatchers:n}){const{record:r}=is(),o=zn(),{configs:i}=Qe(),[s,l]=on(`${e}/record`,()=>hz(e,{record:r,client:o,configs:i}));let a=w.useRef({...s});return w.useEffect(()=>{if(t){const u=Hr.use(`${e}/record`).value;u&&n.initialize.dispatch({id:e,record:u})}},[t]),w.useEffect(()=>{if(t&&s){const u=Object.entries(s).filter(([c,d])=>!(c in a.current)||a.current[c]!==d);if(u.length){const c=Object.fromEntries(u);n.update.dispatch(c)}}},[t,s]),w.useEffect(()=>{a.current={...s}},[s]),null}const gz=[{matcher:/folders/,component:()=>m(yA,{})},{matcher:/templates/,component:()=>m(SA,{})},{matcher:/^(f.*)?$/,component:({children:e})=>m(GA,{children:e})},{matcher:/^(d|t).*/,component:({children:e})=>m(tz,{children:e})},{matcher:/^c.*/,component:({children:e})=>m(dz,{children:e})}];function yz({preset:e}){let t=[];if(e)t=[e];else{const{data:r}=DI.auth.getOrganizations.useQuery(void 0,{immutable:!0});t=(r==null?void 0:r.organizations)??t}const{user:n}=or();return N("div",{className:"w-full h-full flex flex-col",children:[m("div",{className:"w-full flex-center p-5 grow",children:N("div",{className:"grid grid-cols-3 w-full max-w-4xl gap-5",children:[m(xz,{index:0}),t.map((r,o)=>m(vz,{index:o+1,data:r},r.slug))]})}),N("div",{className:"w-full py-5 flex flex-col gap-3 items-center text-sm",children:[N("div",{className:"text-gray-600",children:["Logget ind som ",n==null?void 0:n.email]}),m(vr,{to:"/logout",className:"rounded px-4 py-2 ring-button",children:"Log ud"})]})]})}function nN({index:e,children:t,className:n,...r}){const[o,i]=w.useState(!1);w.useEffect(()=>{i(!0)},[]);const s=r.to?vr:"div";return m(s,{...r,className:P("rounded bg-gray-900 p-5 h-52 transition-[transform,opacity] duration-300 ease-out",o?"translate-y-0 opacity-100":"translate-y-5 opacity-0",n),style:{transitionDelay:`${e*50}ms`},children:t})}function vz({index:e,data:t}){return N(nN,{index:e,to:`/${t.slug}`,className:P("flex flex-col justify-center gap-3"),children:[m("div",{className:"text-3xl",children:t.slug}),m("div",{className:"text-gray-400",children:t.url})]})}function xz({index:e}){const[t,n]=w.useState(!1),[r,o]=w.useState(!1);return m(nN,{index:e,children:N("form",{onSubmit:async i=>{i.preventDefault();const s=new FormData(i.currentTarget);o(!0),await Wd.auth.addOrganization.mutation({slug:s.get("slug"),url:s.get("url")||void 0}),o(!1)},className:"h-full w-full flex flex-col justify-center gap-3",children:[m("input",{type:"text",name:"slug",className:P("bg-gray-850 focus:bg-gray-800 px-5 py-2.5 rounded w-full outline-none"),placeholder:"Navn",autoComplete:"off"}),m("input",{type:"text",name:"url",className:P("bg-gray-850 focus:bg-gray-800 px-5 py-2.5 rounded w-full outline-none",t?"block":"hidden"),placeholder:"URL",autoComplete:"off"}),m("div",{className:"flex justify-end gap-3 text-sm",children:t?N(re,{children:[m("button",{type:"button",className:"px-4 py-2 rounded",onClick:()=>n(!1),children:"Tilbage"}),m("button",{type:"submit",className:"ring-button px-4 py-2 rounded",children:r?m(Ho,{}):"Bekræft"})]}):N(re,{children:[m("button",{className:"px-4 py-2 rounded",type:"button",onClick:()=>n(!0),children:"Opret"}),m("button",{type:"submit",className:"ring-button px-4 py-2 rounded",children:r?m(Ho,{}):"Tilføj"})]})})]})})}function wz({organization:e}){const[t]=mn("dark-mode",!0);return w.useLayoutEffect(()=>{document.body.classList[t?"add":"remove"]("dark")},[t]),m("div",{className:"w-full h-full bg-gray-100 dark:bg-gray-950 text-gray-800 dark:text-white",children:m(D$,{value:{provider:WI},children:m(qT,{children:m(l3,{children:N(AI,{organization:e,children:[N(FI,{children:[m(_z,{children:m(yz,{preset:e})}),m(Sz,{children:N(UI,{children:[m(JP,{}),m(EP,{children:m(QP,{children:m(QI,{children:m(cP,{children:m(JI,{children:m(FT,{children:m(VM,{children:m(E4,{routes:gz})})})})})})})})]})})]}),m(zI,{children:m(jI,{})})]})})})})})}function _z({children:e}){const{pathname:t}=_n();return t==="/"||t==="logout"?m(re,{children:e}):null}function Sz({children:e}){const{pathname:t}=_n();return t==="/"||t==="logout"?null:m(re,{children:e})}const[i_,s_]=(typeof{}.TEST_ORG).split(","),Ez=i_&&s_?{slug:i_,url:s_}:void 0;um.createRoot(document.getElementById("root")).render(m(w.StrictMode,{children:m(wz,{organization:Ez})}));
